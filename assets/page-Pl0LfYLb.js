import{N as n,r as i,L as s,J as c}from"./index-JOKciGYI.js";import{c as d,u}from"./use-selector-0zMNoO-R.js";import{P as r,F as l}from"./flow-form-yHhZzjm4.js";import{B as p}from"./store-DX5c-A6s.js";import{l as m,a as f,B as x}from"./button-DuG-K6hD.js";import{u as g}from"./layout-B1K8iT6y.js";import{A as w}from"./index-5Q1GrLP5.js";const E=d(t=>({id:"",setId:o=>t({id:o})})),a=t=>E(u(t));function R(){const{id:t}=n(),{setId:o}=a("setId"),e=t?r.EDITOR:r.CREATE;return window.logger.todo("test"),i.useEffect(()=>{o(t||"")},[o,t]),s.jsx(w,{onFirstAppear:()=>m.appear("flow-editor",{id:t,pageStatus:e}),children:s.jsx(f,{children:s.jsx(l,{pageStatus:e})})})}function h(){const{id:t}=a("id"),{showMessage:o}=g("showMessage"),e=c();return s.jsx(p,{buttons:[{text:"取消",onClick(){e(-1)}},{text:"保存",$presetTheme:x.PRIMARY,onClick(){window.logger.todo("save id:",t),o({type:"success",content:"保存成功",onClose(){e("/flow")}})}}]})}const L={title:"编辑",needBackIcon:!0,rightArea:s.jsx(h,{})};async function T({params:t}){return{id:t.id}}export{R as Component,L as handle,T as loader};
