import{x as e,r as i,y as m}from"./index-BQG4kE1A.js";import{B as l,b as u,a as p,R as x,l as d,w as f,U as R}from"./index-Zg-Db6dE.js";import{B as g}from"./index-D9cDWbKp.js";import{u as h}from"./store-BnJx0tzd.js";import{u as j}from"./use-navigate-DtgFKQKS.js";import{E}from"./index-BPrXG5d5.js";import{I as A,H as B,a as I,b as k,R as T,P as b}from"./index-DFQd9FNH.js";import{A as w}from"./index-DVwpFUBQ.js";import"./iconBase-W4z1J4Ew.js";import"./index-Aqa3nm4A.js";import"./is-phone-DJjYfsgQ.js";import"./index-CIk4iM24.js";import"./asyncToGenerator-DacCiY0k.js";import"./index-B2CHRZiI.js";import"./index-DlC77ciO.js";function C(){return e.jsx(g,{buttons:[{text:"录制",$presetTheme:l.PRIMARY,to:"/recorder/recording"}]})}function S(s){const{record:o,onDelete:r}=s,{id:t}=o;return e.jsx(T,{wrapperProps:{$alignItems:p.CENTER},buttons:[{text:"删除",$presetTheme:l.DANGER,logInfo:{id:t},onClick(n){n.stopPropagation(),r==null||r(t)}}]})}const $=i.memo(function(o){const{recordInfo:r,onClick:t,onDelete:n}=o;return e.jsx(A,{onClick:t,children:e.jsxs(B,{rightArea:e.jsx(S,{record:r,onDelete:n}),children:[e.jsx(u,{$flex:"1",$alignItems:p.CENTER,children:e.jsx(I,{children:r.name})}),e.jsx(k,{children:r.createTime})]})})});function D(s){R().deleteRecord(s)}function K(){const s=m(),{setRecord:o}=h("setRecord"),{records:r}=x("records"),{records:t}=s,n=j(),c=i.useMemo(()=>t||r,[r,t]);return i.useEffect(()=>{o(void 0)},[o]),e.jsx(w,{onFirstAppear:()=>d.appear("record-list"),children:e.jsx(b,{children:e.jsx(f,{when:c.length>0,fullback:e.jsx(E,{}),children:()=>c.map(a=>e.jsx($,{recordInfo:a,onClick:()=>{o(a),d.click("record-item-click",{id:a.id}),n(`/recorder/playback/${a.id}`)},onDelete:D},a.id))})})})}const O={title:"记录",rightArea:e.jsx(C,{})};async function Q(){return window.logger.todo("请求接口加载笔记信息, 报错时使用本地存储中的笔记信息"),{records:null}}export{K as Component,O as handle,Q as loader};
