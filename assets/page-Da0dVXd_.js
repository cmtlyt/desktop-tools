import{r,f as q,R as O,G as vt,g as T,H as j,I as ve,p as X,J as fe,K as Te,L as pe,d as pt,M as je,N as bt,P as N,Q as yt,T as xt,U as ae,V as ht,W as Be,e as $t,X as St,Y as Ot,m as Et,B as be,j as w,l as k,k as ye,C as wt,D as Pt,E as Rt,Z as Nt}from"./index-rS8WpQny.js";import{A as Me}from"./index-Dkz6Of10.js";import{b as Z,c as oe,a as He,F as de,e as It,B as Tt,d as le}from"./button-CfWCiMsG.js";import{H as jt,S as Ae,a as Bt,b as Mt,e as Ht,c as At}from"./index-CsJV6aVp.js";import{B as Dt}from"./index-EVI3V4zK.js";import{D as zt}from"./index-CNA6gL1L.js";import{g as Lt}from"./UnstableContext-DrLAdQ2r.js";import{u as De,R as Ft,a as Wt,b as _t}from"./LoadingOutlined-D004GK2n.js";import{R as Vt}from"./InfoCircleFilled-DxtYufV-.js";import{K as ze,a as xe,g as Gt,m as Ut,u as qt,z as Xt,b as Kt,C as Yt}from"./asyncToGenerator-Dn0cDBWY.js";import{i as Qt,u as Zt,P as Jt,a as kt,C as en,g as re}from"./index-CvDiJ8pV.js";import{A as Le}from"./ActionButton-BOfCel-Q.js";import{p as Fe,R as We}from"./pickAttrs-DtuBeq8V.js";import{u as tn,p as he,S as nn}from"./index-nUHOlopQ.js";import{u as on}from"./context-Dauj9I1F.js";import{B as _e,c as rn,w as an}from"./PurePanel-2m4wp3am.js";import{u as ge}from"./index-Fl6-Q89n.js";import{S as ln}from"./icon-BXrVpkgc.js";import"./index-B4g9YTQJ.js";import"./index-HSkCxHq1.js";import"./Subject-BSw5WBmv.js";import"./iconBase-CVnjyHSl.js";import"./index-DE_BliY8.js";import"./is-phone-DOAqieSA.js";import"./reactNode-BSKISnji.js";import"./compact-item-DHVeOqsd.js";function sn(){const[e,t]=r.useState([]),o=r.useCallback(n=>(t(a=>[].concat(q(a),[n])),()=>{t(a=>a.filter(i=>i!==n))}),[]);return[e,o]}const cn=new ze("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),dn=new ze("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),un=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:o}=e,n=`${o}-fade`,a=t?"&":"";return[Qt(n,cn,dn,e.motionDurationMid,t),{[`
        ${a}${n}-enter,
        ${a}${n}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${a}${n}-leave`]:{animationTimingFunction:"linear"}}]},ee=O.createContext({}),{Provider:Ve}=ee,$e=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:o,isSilent:n,mergedOkCancel:a,rootPrefixCls:i,close:u,onCancel:d,onConfirm:s}=r.useContext(ee);return a?O.createElement(Le,{isSilent:n,actionFn:d,close:function(){u==null||u.apply(void 0,arguments),s==null||s(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${i}-btn`},o):null},Se=()=>{const{autoFocusButton:e,close:t,isSilent:o,okButtonProps:n,rootPrefixCls:a,okTextLocale:i,okType:u,onConfirm:d,onOk:s}=r.useContext(ee);return O.createElement(Le,{isSilent:o,type:u||"primary",actionFn:s,close:function(){t==null||t.apply(void 0,arguments),d==null||d(!0)},autoFocus:e==="ok",buttonProps:n,prefixCls:`${a}-btn`},i)};var Ge=r.createContext({});function Oe(e,t,o){var n=t;return!n&&o&&(n="".concat(e,"-").concat(o)),n}function Ee(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if(typeof o!="number"){var a=e.document;o=a.documentElement[n],typeof o!="number"&&(o=a.body[n])}return o}function mn(e){var t=e.getBoundingClientRect(),o={left:t.left,top:t.top},n=e.ownerDocument,a=n.defaultView||n.parentWindow;return o.left+=Ee(a),o.top+=Ee(a,!0),o}const fn=r.memo(function(e){var t=e.children;return t},function(e,t){var o=t.shouldUpdate;return!o});var gn={width:0,height:0,overflow:"hidden",outline:"none"},Cn={outline:"none"},Ue=O.forwardRef(function(e,t){var o=e.prefixCls,n=e.className,a=e.style,i=e.title,u=e.ariaId,d=e.footer,s=e.closable,m=e.closeIcon,l=e.onClose,f=e.children,c=e.bodyStyle,v=e.bodyProps,S=e.modalRender,g=e.onMouseDown,C=e.onMouseUp,p=e.holderRef,b=e.visible,P=e.forceRender,x=e.width,$=e.height,y=e.classNames,h=e.styles,E=O.useContext(Ge),R=E.panel,A=vt(p,R),B=r.useRef(),L=r.useRef();O.useImperativeHandle(t,function(){return{focus:function(){var D;(D=B.current)===null||D===void 0||D.focus({preventScroll:!0})},changeActive:function(D){var G=document,H=G.activeElement;D&&H===L.current?B.current.focus({preventScroll:!0}):!D&&H===B.current&&L.current.focus({preventScroll:!0})}}});var F={};x!==void 0&&(F.width=x),$!==void 0&&(F.height=$);var M=d?O.createElement("div",{className:T("".concat(o,"-footer"),y==null?void 0:y.footer),style:j({},h==null?void 0:h.footer)},d):null,W=i?O.createElement("div",{className:T("".concat(o,"-header"),y==null?void 0:y.header),style:j({},h==null?void 0:h.header)},O.createElement("div",{className:"".concat(o,"-title"),id:u},i)):null,_=r.useMemo(function(){return ve(s)==="object"&&s!==null?s:s?{closeIcon:m??O.createElement("span",{className:"".concat(o,"-close-x")})}:{}},[s,m,o]),V=Fe(_,!0),U=ve(s)==="object"&&s.disabled,J=s?O.createElement("button",X({type:"button",onClick:l,"aria-label":"Close"},V,{className:"".concat(o,"-close"),disabled:U}),_.closeIcon):null,K=O.createElement("div",{className:T("".concat(o,"-content"),y==null?void 0:y.content),style:h==null?void 0:h.content},J,W,O.createElement("div",X({className:T("".concat(o,"-body"),y==null?void 0:y.body),style:j(j({},c),h==null?void 0:h.body)},v),f),M);return O.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?u:null,"aria-modal":"true",ref:A,style:j(j({},a),F),className:T(o,n),onMouseDown:g,onMouseUp:C},O.createElement("div",{ref:B,tabIndex:0,style:Cn},O.createElement(fn,{shouldUpdate:b||P},S?S(K):K)),O.createElement("div",{tabIndex:0,ref:L,style:gn}))}),qe=r.forwardRef(function(e,t){var o=e.prefixCls,n=e.title,a=e.style,i=e.className,u=e.visible,d=e.forceRender,s=e.destroyOnClose,m=e.motionName,l=e.ariaId,f=e.onVisibleChanged,c=e.mousePosition,v=r.useRef(),S=r.useState(),g=fe(S,2),C=g[0],p=g[1],b={};C&&(b.transformOrigin=C);function P(){var x=mn(v.current);p(c&&(c.x||c.y)?"".concat(c.x-x.left,"px ").concat(c.y-x.top,"px"):"")}return r.createElement(Te,{visible:u,onVisibleChanged:f,onAppearPrepare:P,onEnterPrepare:P,forceRender:d,motionName:m,removeOnLeave:s,ref:v},function(x,$){var y=x.className,h=x.style;return r.createElement(Ue,X({},e,{ref:t,title:n,ariaId:l,prefixCls:o,holderRef:$,style:j(j(j({},h),a),b),className:T(i,y)}))})});qe.displayName="Content";var vn=function(t){var o=t.prefixCls,n=t.style,a=t.visible,i=t.maskProps,u=t.motionName,d=t.className;return r.createElement(Te,{key:"mask",visible:a,motionName:u,leavedClassName:"".concat(o,"-mask-hidden")},function(s,m){var l=s.className,f=s.style;return r.createElement("div",X({ref:m,style:j(j({},f),n),className:T("".concat(o,"-mask"),l,d)},i))})},pn=function(t){var o=t.prefixCls,n=o===void 0?"rc-dialog":o,a=t.zIndex,i=t.visible,u=i===void 0?!1:i,d=t.keyboard,s=d===void 0?!0:d,m=t.focusTriggerAfterClose,l=m===void 0?!0:m,f=t.wrapStyle,c=t.wrapClassName,v=t.wrapProps,S=t.onClose,g=t.afterOpenChange,C=t.afterClose,p=t.transitionName,b=t.animation,P=t.closable,x=P===void 0?!0:P,$=t.mask,y=$===void 0?!0:$,h=t.maskTransitionName,E=t.maskAnimation,R=t.maskClosable,A=R===void 0?!0:R,B=t.maskStyle,L=t.maskProps,F=t.rootClassName,M=t.classNames,W=t.styles,_=r.useRef(),V=r.useRef(),U=r.useRef(),J=r.useState(u),K=fe(J,2),Y=K[0],D=K[1],G=Zt();function H(){pe(V.current,document.activeElement)||(_.current=document.activeElement)}function dt(){if(!pe(V.current,document.activeElement)){var I;(I=U.current)===null||I===void 0||I.focus()}}function ut(I){if(I)dt();else{if(D(!1),y&&_.current&&l){try{_.current.focus({preventScroll:!0})}catch{}_.current=null}Y&&(C==null||C())}g==null||g(I)}function ie(I){S==null||S(I)}var ne=r.useRef(!1),se=r.useRef(),mt=function(){clearTimeout(se.current),ne.current=!0},ft=function(){se.current=setTimeout(function(){ne.current=!1})},Ce=null;A&&(Ce=function(ce){ne.current?ne.current=!1:V.current===ce.target&&ie(ce)});function gt(I){if(s&&I.keyCode===xe.ESC){I.stopPropagation(),ie(I);return}u&&I.keyCode===xe.TAB&&U.current.changeActive(!I.shiftKey)}r.useEffect(function(){u&&(D(!0),H())},[u]),r.useEffect(function(){return function(){clearTimeout(se.current)}},[]);var Ct=j(j(j({zIndex:a},f),W==null?void 0:W.wrapper),{},{display:Y?null:"none"});return r.createElement("div",X({className:T("".concat(n,"-root"),F)},Fe(t,{data:!0})),r.createElement(vn,{prefixCls:n,visible:y&&u,motionName:Oe(n,h,E),style:j(j({zIndex:a},B),W==null?void 0:W.mask),maskProps:L,className:M==null?void 0:M.mask}),r.createElement("div",X({tabIndex:-1,onKeyDown:gt,className:T("".concat(n,"-wrap"),c,M==null?void 0:M.wrapper),ref:V,onClick:Ce,style:Ct},v),r.createElement(qe,X({},t,{onMouseDown:mt,onMouseUp:ft,ref:U,closable:x,ariaId:G,prefixCls:n,visible:u&&Y,onClose:ie,onVisibleChanged:ut,motionName:Oe(n,p,b)}))))},Xe=function(t){var o=t.visible,n=t.getContainer,a=t.forceRender,i=t.destroyOnClose,u=i===void 0?!1:i,d=t.afterClose,s=t.panelRef,m=r.useState(o),l=fe(m,2),f=l[0],c=l[1],v=r.useMemo(function(){return{panel:s}},[s]);return r.useEffect(function(){o&&c(!0)},[o]),!a&&u&&!f?null:r.createElement(Ge.Provider,{value:v},r.createElement(Jt,{open:o||a||f,autoDestroy:!1,getContainer:n,autoLock:o||f},r.createElement(pn,X({},t,{destroyOnClose:u,afterClose:function(){d==null||d(),c(!1)}}))))};Xe.displayName="Dialog";const bn=()=>pt()&&window.document.documentElement,we=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:o}=r.useContext(ee);return O.createElement(_e,Object.assign({onClick:o},e),t)},Pe=()=>{const{confirmLoading:e,okButtonProps:t,okType:o,okTextLocale:n,onOk:a}=r.useContext(ee);return O.createElement(_e,Object.assign({},rn(o),{loading:e,onClick:a},t),n)};function Ke(e,t){return O.createElement("span",{className:`${e}-close-x`},t||O.createElement(We,{className:`${e}-close-icon`}))}const Ye=e=>{const{okText:t,okType:o="primary",cancelText:n,confirmLoading:a,onOk:i,onCancel:u,okButtonProps:d,cancelButtonProps:s,footer:m}=e,[l]=ge("Modal",je()),f=t||(l==null?void 0:l.okText),c=n||(l==null?void 0:l.cancelText),v={confirmLoading:a,okButtonProps:d,cancelButtonProps:s,okTextLocale:f,cancelTextLocale:c,okType:o,onOk:i,onCancel:u},S=O.useMemo(()=>v,q(Object.values(v)));let g;return typeof m=="function"||typeof m>"u"?(g=O.createElement(O.Fragment,null,O.createElement(we,null),O.createElement(Pe,null)),typeof m=="function"&&(g=m(g,{OkBtn:Pe,CancelBtn:we})),g=O.createElement(Ve,{value:S},g)):g=m,O.createElement(bt,{disabled:!1},g)};function Re(e){return{position:e,inset:0}}const yn=e=>{const{componentCls:t,antCls:o}=e;return[{[`${t}-root`]:{[`${t}${o}-zoom-enter, ${t}${o}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${o}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Re("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Re("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:un(e)}]},xn=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${N(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},yt(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${N(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:N(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},xt(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${N(e.borderRadiusLG)} ${N(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${N(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},hn=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Qe=e=>{const t=e.padding,o=e.fontSizeHeading5,n=e.lineHeightHeading5;return Ut(e,{modalHeaderHeight:e.calc(e.calc(n).mul(o).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},Ze=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${N(e.paddingMD)} ${N(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${N(e.padding)} ${N(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${N(e.paddingXS)} ${N(e.padding)}`:0,footerBorderTop:e.wireframe?`${N(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${N(e.borderRadiusLG)} ${N(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${N(e.padding*2)} ${N(e.padding*2)} ${N(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),Je=Gt("Modal",e=>{const t=Qe(e);return[xn(t),hn(t),yn(t),kt(t,"zoom")]},Ze,{unitless:{titleLineHeight:!0}});var $n=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};let ue;const Sn=e=>{ue={x:e.pageX,y:e.pageY},setTimeout(()=>{ue=null},100)};bn()&&document.documentElement.addEventListener("click",Sn,!0);const ke=e=>{var t;const{getPopupContainer:o,getPrefixCls:n,direction:a,modal:i}=r.useContext(ae),u=G=>{const{onCancel:H}=e;H==null||H(G)},d=G=>{const{onOk:H}=e;H==null||H(G)},{prefixCls:s,className:m,rootClassName:l,open:f,wrapClassName:c,centered:v,getContainer:S,focusTriggerAfterClose:g=!0,style:C,visible:p,width:b=520,footer:P,classNames:x,styles:$,children:y,loading:h}=e,E=$n(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),R=n("modal",s),A=n(),B=De(R),[L,F,M]=Je(R,B),W=T(c,{[`${R}-centered`]:!!v,[`${R}-wrap-rtl`]:a==="rtl"}),_=P!==null&&!h?r.createElement(Ye,Object.assign({},e,{onOk:d,onCancel:u})):null,[V,U,J]=tn(he(e),he(i),{closable:!0,closeIcon:r.createElement(We,{className:`${R}-close-icon`}),closeIconRender:G=>Ke(R,G)}),K=on(`.${R}-content`),[Y,D]=qt("Modal",E.zIndex);return L(r.createElement(en,{form:!0,space:!0},r.createElement(Xt.Provider,{value:D},r.createElement(Xe,Object.assign({width:b},E,{zIndex:Y,getContainer:S===void 0?o:S,prefixCls:R,rootClassName:T(F,l,M,B),footer:_,visible:f??p,mousePosition:(t=E.mousePosition)!==null&&t!==void 0?t:ue,onClose:u,closable:V&&{disabled:J,closeIcon:U},closeIcon:U,focusTriggerAfterClose:g,transitionName:re(A,"zoom",e.transitionName),maskTransitionName:re(A,"fade",e.maskTransitionName),className:T(F,m,i==null?void 0:i.className),style:Object.assign(Object.assign({},i==null?void 0:i.style),C),classNames:Object.assign(Object.assign(Object.assign({},i==null?void 0:i.classNames),x),{wrapper:T(W,x==null?void 0:x.wrapper)}),styles:Object.assign(Object.assign({},i==null?void 0:i.styles),$),panelRef:K}),h?r.createElement(nn,{active:!0,title:!1,paragraph:{rows:4},className:`${R}-body-skeleton`}):y))))},On=e=>{const{componentCls:t,titleFontSize:o,titleLineHeight:n,modalConfirmIconSize:a,fontSize:i,lineHeight:u,modalTitleHeight:d,fontHeight:s,confirmBodyPadding:m}=e,l=`${t}-confirm`;return{[l]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${l}-body-wrapper`]:Object.assign({},ht()),[`&${t} ${t}-body`]:{padding:m},[`${l}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:a,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(s).sub(a).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(d).sub(a).equal()).div(2).equal()}},[`${l}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${N(e.marginSM)})`},[`${e.iconCls} + ${l}-paragraph`]:{maxWidth:`calc(100% - ${N(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${l}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:o,lineHeight:n},[`${l}-content`]:{color:e.colorText,fontSize:i,lineHeight:u},[`${l}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${l}-error ${l}-body > ${e.iconCls}`]:{color:e.colorError},[`${l}-warning ${l}-body > ${e.iconCls},
        ${l}-confirm ${l}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${l}-info ${l}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${l}-success ${l}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},En=Kt(["Modal","confirm"],e=>{const t=Qe(e);return[On(t)]},Ze,{order:-1e3});var wn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};function et(e){const{prefixCls:t,icon:o,okText:n,cancelText:a,confirmPrefixCls:i,type:u,okCancel:d,footer:s,locale:m}=e,l=wn(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let f=o;if(!o&&o!==null)switch(u){case"info":f=r.createElement(Vt,null);break;case"success":f=r.createElement(_t,null);break;case"error":f=r.createElement(Wt,null);break;default:f=r.createElement(Ft,null)}const c=d??u==="confirm",v=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[S]=ge("Modal"),g=m||S,C=n||(c?g==null?void 0:g.okText:g==null?void 0:g.justOkText),p=a||(g==null?void 0:g.cancelText),b=Object.assign({autoFocusButton:v,cancelTextLocale:p,okTextLocale:C,mergedOkCancel:c},l),P=r.useMemo(()=>b,q(Object.values(b))),x=r.createElement(r.Fragment,null,r.createElement($e,null),r.createElement(Se,null)),$=e.title!==void 0&&e.title!==null,y=`${i}-body`;return r.createElement("div",{className:`${i}-body-wrapper`},r.createElement("div",{className:T(y,{[`${y}-has-title`]:$})},f,r.createElement("div",{className:`${i}-paragraph`},$&&r.createElement("span",{className:`${i}-title`},e.title),r.createElement("div",{className:`${i}-content`},e.content))),s===void 0||typeof s=="function"?r.createElement(Ve,{value:P},r.createElement("div",{className:`${i}-btns`},typeof s=="function"?s(x,{OkBtn:Se,CancelBtn:$e}):x)):s,r.createElement(En,{prefixCls:t}))}const Pn=e=>{const{close:t,zIndex:o,afterClose:n,open:a,keyboard:i,centered:u,getContainer:d,maskStyle:s,direction:m,prefixCls:l,wrapClassName:f,rootPrefixCls:c,bodyStyle:v,closable:S=!1,closeIcon:g,modalRender:C,focusTriggerAfterClose:p,onConfirm:b,styles:P}=e,x=`${l}-confirm`,$=e.width||416,y=e.style||{},h=e.mask===void 0?!0:e.mask,E=e.maskClosable===void 0?!1:e.maskClosable,R=T(x,`${x}-${e.type}`,{[`${x}-rtl`]:m==="rtl"},e.className),[,A]=$t(),B=r.useMemo(()=>o!==void 0?o:A.zIndexPopupBase+Yt,[o,A]);return r.createElement(ke,{prefixCls:l,className:R,wrapClassName:T({[`${x}-centered`]:!!e.centered},f),onCancel:()=>{t==null||t({triggerCancel:!0}),b==null||b(!1)},open:a,title:"",footer:null,transitionName:re(c||"","zoom",e.transitionName),maskTransitionName:re(c||"","fade",e.maskTransitionName),mask:h,maskClosable:E,style:y,styles:Object.assign({body:v,mask:s},P),width:$,zIndex:B,afterClose:n,keyboard:i,centered:u,getContainer:d,closable:S,closeIcon:g,modalRender:C,focusTriggerAfterClose:p},r.createElement(et,Object.assign({},e,{confirmPrefixCls:x})))},tt=e=>{const{rootPrefixCls:t,iconPrefixCls:o,direction:n,theme:a}=e;return r.createElement(Be,{prefixCls:t,iconPrefixCls:o,direction:n,theme:a},r.createElement(Pn,Object.assign({},e)))},Q=[];let nt="";function ot(){return nt}const Rn=e=>{var t,o;const{prefixCls:n,getContainer:a,direction:i}=e,u=je(),d=r.useContext(ae),s=ot()||d.getPrefixCls(),m=n||`${s}-modal`;let l=a;return l===!1&&(l=void 0),O.createElement(tt,Object.assign({},e,{rootPrefixCls:s,prefixCls:m,iconPrefixCls:d.iconPrefixCls,theme:d.theme,direction:i??d.direction,locale:(o=(t=d.locale)===null||t===void 0?void 0:t.Modal)!==null&&o!==void 0?o:u,getContainer:l}))};function te(e){const t=St(),o=document.createDocumentFragment();let n=Object.assign(Object.assign({},e),{close:s,open:!0}),a,i;function u(){for(var l,f=arguments.length,c=new Array(f),v=0;v<f;v++)c[v]=arguments[v];if(c.some(C=>C==null?void 0:C.triggerCancel)){var g;(l=e.onCancel)===null||l===void 0||(g=l).call.apply(g,[e,()=>{}].concat(q(c.slice(1))))}for(let C=0;C<Q.length;C++)if(Q[C]===s){Q.splice(C,1);break}i()}function d(l){clearTimeout(a),a=setTimeout(()=>{const f=t.getPrefixCls(void 0,ot()),c=t.getIconPrefixCls(),v=t.getTheme(),S=O.createElement(Rn,Object.assign({},l));i=Lt()(O.createElement(Be,{prefixCls:f,iconPrefixCls:c,theme:v},t.holderRender?t.holderRender(S):S),o)})}function s(){for(var l=arguments.length,f=new Array(l),c=0;c<l;c++)f[c]=arguments[c];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),u.apply(this,f)}}),n.visible&&delete n.visible,d(n)}function m(l){typeof l=="function"?n=l(n):n=Object.assign(Object.assign({},n),l),d(n)}return d(n),Q.push(s),{destroy:s,update:m}}function rt(e){return Object.assign(Object.assign({},e),{type:"warning"})}function at(e){return Object.assign(Object.assign({},e),{type:"info"})}function lt(e){return Object.assign(Object.assign({},e),{type:"success"})}function it(e){return Object.assign(Object.assign({},e),{type:"error"})}function st(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Nn(e){let{rootPrefixCls:t}=e;nt=t}var In=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const Tn=(e,t)=>{var o,{afterClose:n,config:a}=e,i=In(e,["afterClose","config"]);const[u,d]=r.useState(!0),[s,m]=r.useState(a),{direction:l,getPrefixCls:f}=r.useContext(ae),c=f("modal"),v=f(),S=()=>{var b;n(),(b=s.afterClose)===null||b===void 0||b.call(s)},g=function(){var b;d(!1);for(var P=arguments.length,x=new Array(P),$=0;$<P;$++)x[$]=arguments[$];if(x.some(E=>E==null?void 0:E.triggerCancel)){var h;(b=s.onCancel)===null||b===void 0||(h=b).call.apply(h,[s,()=>{}].concat(q(x.slice(1))))}};r.useImperativeHandle(t,()=>({destroy:g,update:b=>{m(P=>Object.assign(Object.assign({},P),b))}}));const C=(o=s.okCancel)!==null&&o!==void 0?o:s.type==="confirm",[p]=ge("Modal",Ot.Modal);return r.createElement(tt,Object.assign({prefixCls:c,rootPrefixCls:v},s,{close:g,open:u,afterClose:S,okText:s.okText||(C?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:s.direction||l,cancelText:s.cancelText||(p==null?void 0:p.cancelText)},i))},jn=r.forwardRef(Tn);let Ne=0;const Bn=r.memo(r.forwardRef((e,t)=>{const[o,n]=sn();return r.useImperativeHandle(t,()=>({patchElement:n}),[]),r.createElement(r.Fragment,null,o)}));function Mn(){const e=r.useRef(null),[t,o]=r.useState([]);r.useEffect(()=>{t.length&&(q(t).forEach(u=>{u()}),o([]))},[t]);const n=r.useCallback(i=>function(d){var s;Ne+=1;const m=r.createRef();let l;const f=new Promise(C=>{l=C});let c=!1,v;const S=r.createElement(jn,{key:`modal-${Ne}`,config:i(d),ref:m,afterClose:()=>{v==null||v()},isSilent:()=>c,onConfirm:C=>{l(C)}});return v=(s=e.current)===null||s===void 0?void 0:s.patchElement(S),v&&Q.push(v),{destroy:()=>{function C(){var p;(p=m.current)===null||p===void 0||p.destroy()}m.current?C():o(p=>[].concat(q(p),[C]))},update:C=>{function p(){var b;(b=m.current)===null||b===void 0||b.update(C)}m.current?p():o(b=>[].concat(q(b),[p]))},then:C=>(c=!0,f.then(C))}},[]);return[r.useMemo(()=>({info:n(at),success:n(lt),error:n(it),warning:n(rt),confirm:n(st)}),[]),r.createElement(Bn,{key:"modal-holder",ref:e})]}var Hn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]]);return o};const An=e=>{const{prefixCls:t,className:o,closeIcon:n,closable:a,type:i,title:u,children:d,footer:s}=e,m=Hn(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:l}=r.useContext(ae),f=l(),c=t||l("modal"),v=De(f),[S,g,C]=Je(c,v),p=`${c}-confirm`;let b={};return i?b={closable:a??!1,title:"",footer:"",children:r.createElement(et,Object.assign({},e,{prefixCls:c,confirmPrefixCls:p,rootPrefixCls:f,content:d}))}:b={closable:a??!0,title:u,footer:s!==null&&r.createElement(Ye,Object.assign({},e)),children:d},S(r.createElement(Ue,Object.assign({prefixCls:c,className:T(g,`${c}-pure-panel`,i&&p,i&&`${p}-${i}`,o,C,v)},m,{closeIcon:Ke(c,n),closable:a},b)))},Dn=an(An);function ct(e){return te(rt(e))}const z=ke;z.useModal=Mn;z.info=function(t){return te(at(t))};z.success=function(t){return te(lt(t))};z.error=function(t){return te(it(t))};z.warning=ct;z.warn=ct;z.confirm=function(t){return te(st(t))};z.destroyAll=function(){for(;Q.length;){const t=Q.pop();t&&t()}};z.config=Nn;z._InternalPanelDoNotUseOrYouWillBeFired=Dn;const{useStore:bo,useStoreSlice:zn,getStore:me}=Et(e=>({speed:500,currentGameId:be(),replayStep:null,setSpeed:t=>e({speed:t}),reset:()=>e({currentGameId:be()}),replay:t=>e({replayStep:t})}));function Ln(){const[e,t]=r.useState(!1);return w.jsxs(w.Fragment,{children:[w.jsx(Dt,{buttons:[{text:"游戏规则",onClick(){z.info({title:"游戏规则",okText:"知道了",centered:!0,content:w.jsx(Me,{onFirstAppear:()=>k.appear("game-sbwd-rule"),children:w.jsxs(Z,{$gap:"0.3",$direction:oe.COLUMN,children:[w.jsx("span",{children:"1. 点击指针, 其指针顺时针旋转 90 度后指向的圆圈指针依次旋转"}),w.jsx("span",{children:"2. 剩余步数用完, 游戏结束"})]})})})}},{text:"游戏记录",onClick:()=>t(!0)},{text:"重置",onClick:()=>me().reset()}]}),w.jsx(jt,{open:e,storeKey:Ae,onClose:()=>t(!1),children:o=>w.jsxs(Bt,{$direction:oe.COLUMN,$gap:"0.5",children:[w.jsxs(Mt,{$alignItems:He.CENTER,$justifyContent:de.BETWEEN,children:[w.jsxs("span",{children:["分数: ",o.totalRotate]}),w.jsx(zt,{format:"yyyy-MM-DD hh:mm:ss",children:o.time})]}),w.jsx(Z,{$justifyContent:de.END,children:w.jsx(It,{$presetTheme:Tt.PRIMARY,onClick:()=>{const n=o.stepHistory;t(!1),me().replay(n),k.click("game-sbwd-history-replay",{stepHistory:n})},children:"重放"})})]},o.gameId)})]})}const Fn=le(Z)`
  padding: var(--page-padding);
`,Wn=le(Z)`
  width: 60vmin;
  height: 60vmin;
`,_n=r.memo(le(ln)`
  width: 100%;
  height: 100%;
  transform: rotate(${({$rotate:e})=>e}deg);
  transition: transform ${({$speed:e})=>e}ms;
`),Ie=le.span`
  font-size: 3rem;
`;function Vn(e){return e%360===0?"top":e%360===90?"right":e%360===180?"bottom":"left"}function Gn(e,t,o){return o==="top"?[e-1,t]:o==="right"?[e,t+1]:o==="bottom"?[e+1,t]:[e,t-1]}function yo(){const e=[5,5],[t,o]=e,{speed:n,currentGameId:a,replayStep:i}=zn(["speed","currentGameId","replayStep"]),[u,d]=r.useState(Array.from({length:t},()=>new Array(o).fill(0))),[s,m]=r.useState(0),[l,f]=r.useState(10),[c,v]=r.useState(!1),S=r.useRef([]),g=r.useRef(a),C=r.useRef(i),p=r.useRef(!1),b=r.useMemo(()=>{const $=Rt((y,h)=>{m(E=>E+90),d(Nt(E=>{var M;const R=E[y][h]=E[y][h]+90,A=Vn(R),[B,L]=Gn(y,h,A),F=(M=E[B])==null?void 0:M[L];setTimeout(()=>{if(F===void 0)return v(!1);$(B,L)},n)}))},10,!0);return $},[n]),P=r.useCallback(($,y)=>{c||(S.current.push(`${$},${y}`),v(!0),b($,y),f(h=>h-1))},[c,b]),x=r.useCallback(()=>{S.current=[],d(Array.from({length:t},()=>new Array(o).fill(0))),f(10),m(0),p.current=!1},[t,o]);return r.useEffect(()=>{if(!c&&l<=0){if(p.current)return ye().showMessage({content:"回放结束"});const $={gameId:g.current,totalRotate:s,stepHistory:S.current};wt(Ae,{...$,time:Date.now()}),Pt(),k.event("game-sbwd-over",$),k.expose("game-sbwd-over"),Ht({id:"reload-history",type:At.RELOAD_HISTORY}),ye().showMessage({content:`游戏结束, 当前分数 ${s}!`,onClose:x})}},[c,x,s,l]),r.useEffect(()=>{g.current!==a&&(g.current=a,x())},[a,x]),r.useEffect(()=>{var y;if(!i)return;(y=C.current)!=null&&y.length||(x(),p.current=!0,C.current=i.slice());const $=setInterval(()=>{var R;if(c)return;const[h,E]=((R=C.current.shift())==null?void 0:R.split(",").map(Number))||[];if(P(h,E),!C.current.length){clearInterval($),me().replay(null);return}},n);return()=>clearInterval($)},[i,n,c,P,x]),w.jsx(Me,{onFirstAppear:()=>k.appear("game-sbwd"),children:w.jsxs(Fn,{$flex:"1",$gap:"5",$direction:oe.COLUMN,$alignItems:He.CENTER,$justifyContent:de.CENTER,children:[w.jsxs(Z,{$gap:"1",children:[w.jsxs(Ie,{children:["剩余步数: ",l]}),w.jsxs(Ie,{children:["当前度数: ",s]})]}),w.jsx(Wn,{$direction:oe.COLUMN,$gap:"1",children:u.map(($,y)=>w.jsx(Z,{$gap:"1",children:$.map((h,E)=>w.jsx(Z,{$flex:"1",onClick:()=>P(y,E),children:w.jsx(_n,{$rotate:h,$speed:n})},E))},y))})]})})}const xo={title:"十步万度",needBackIcon:!0,rightArea:w.jsx(Ln,{})};export{yo as Component,xo as handle};
