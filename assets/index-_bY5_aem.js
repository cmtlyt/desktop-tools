import{r as o,N as Ge,a5 as ae,M as ze,K as re,f as Be,R as L,p as xe,g as U,I as be,Y as ge,Z as ke,Q as De,w as Ve,u as We,L as Xe}from"./index-fIGy122M.js";import{a as Le,o as Ze,F as pe,u as Qe,C as Ye,R as lt}from"./index-BaXEvPNH.js";import{B as Je,t as et,r as Ee,u as Ke,a as it,i as ut}from"./BaseInput-IEf4qPG0.js";import{a as ct,u as He}from"./LoadingOutlined-Bb1yac9K.js";import{u as tt,g as Me,a as Ue}from"./useVariants-Dkdufd8t.js";import{u as Oe}from"./compact-item-DQqwvvGw.js";import{p as dt,I as ft}from"./pickAttrs-1ostT6he.js";import{g as vt,m as mt}from"./asyncToGenerator-CV1hgaKV.js";import{R as pt,a as gt}from"./EyeOutlined-CAScGSRm.js";import{c as qe}from"./reactNode-CMjwXlX0.js";import{B as Ct}from"./PurePanel-BGkfkyzL.js";var ht=["show"];function nt(e,r){return o.useMemo(function(){var a={};r&&(a.show=Ge(r)==="object"&&r.formatter?r.formatter:!!r),a=ae(ae({},a),e);var t=a,n=t.show,l=ze(t,ht);return ae(ae({},l),{},{show:!!n,showFormatter:typeof n=="function"?n:void 0,strategy:l.strategy||function(i){return i.length}})},[e,r])}var xt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],bt=o.forwardRef(function(e,r){var a=e.autoComplete,t=e.onChange,n=e.onFocus,l=e.onBlur,i=e.onPressEnter,c=e.onKeyDown,S=e.onKeyUp,f=e.prefixCls,d=f===void 0?"rc-input":f,v=e.disabled,A=e.htmlSize,B=e.className,m=e.maxLength,N=e.suffix,q=e.showCount,G=e.count,E=e.type,u=E===void 0?"text":E,F=e.classes,O=e.classNames,w=e.styles,j=e.onCompositionStart,g=e.onCompositionEnd,b=ze(e,xt),T=o.useState(!1),I=re(T,2),y=I[0],K=I[1],M=o.useRef(!1),P=o.useRef(!1),$=o.useRef(null),H=o.useRef(null),W=function(z){$.current&&et($.current,z)},Z=Le(e.defaultValue,{value:e.value}),p=re(Z,2),C=p[0],V=p[1],k=C==null?"":String(C),s=o.useState(null),x=re(s,2),R=x[0],Q=x[1],h=nt(G,q),J=h.max||m,ee=h.strategy(k),ce=!!J&&ee>J;o.useImperativeHandle(r,function(){var D;return{focus:W,blur:function(){var X;(X=$.current)===null||X===void 0||X.blur()},setSelectionRange:function(X,ve,ie){var le;(le=$.current)===null||le===void 0||le.setSelectionRange(X,ve,ie)},select:function(){var X;(X=$.current)===null||X===void 0||X.select()},input:$.current,nativeElement:((D=H.current)===null||D===void 0?void 0:D.nativeElement)||$.current}}),o.useEffect(function(){P.current&&(P.current=!1),K(function(D){return D&&v?!1:D})},[v]);var de=function(z,X,ve){var ie=X;if(!M.current&&h.exceedFormatter&&h.max&&h.strategy(X)>h.max){if(ie=h.exceedFormatter(X,{max:h.max}),X!==ie){var le,me;Q([((le=$.current)===null||le===void 0?void 0:le.selectionStart)||0,((me=$.current)===null||me===void 0?void 0:me.selectionEnd)||0])}}else if(ve.source==="compositionEnd")return;V(ie),$.current&&Ee($.current,z,t,ie)};o.useEffect(function(){if(R){var D;(D=$.current)===null||D===void 0||D.setSelectionRange.apply(D,Be(R))}},[R]);var oe=function(z){de(z,z.target.value,{source:"change"})},se=function(z){M.current=!1,de(z,z.currentTarget.value,{source:"compositionEnd"}),g==null||g(z)},Pe=function(z){i&&z.key==="Enter"&&!P.current&&(P.current=!0,i(z)),c==null||c(z)},te=function(z){z.key==="Enter"&&(P.current=!1),S==null||S(z)},fe=function(z){K(!0),n==null||n(z)},$e=function(z){P.current&&(P.current=!1),K(!1),l==null||l(z)},Ce=function(z){V(""),W(),$.current&&Ee($.current,z,t)},Ae=ce&&"".concat(d,"-out-of-range"),Se=function(){var z=Ze(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return L.createElement("input",xe({autoComplete:a},z,{onChange:oe,onFocus:fe,onBlur:$e,onKeyDown:Pe,onKeyUp:te,className:U(d,be({},"".concat(d,"-disabled"),v),O==null?void 0:O.input),style:w==null?void 0:w.input,ref:$,size:A,type:u,onCompositionStart:function(ve){M.current=!0,j==null||j(ve)},onCompositionEnd:se}))},Ne=function(){var z=Number(J)>0;if(N||h.show){var X=h.showFormatter?h.showFormatter({value:k,count:ee,maxLength:J}):"".concat(ee).concat(z?" / ".concat(J):"");return L.createElement(L.Fragment,null,h.show&&L.createElement("span",{className:U("".concat(d,"-show-count-suffix"),be({},"".concat(d,"-show-count-has-suffix"),!!N),O==null?void 0:O.count),style:ae({},w==null?void 0:w.count)},X),N)}return null};return L.createElement(Je,xe({},b,{prefixCls:d,className:U(B,Ae),handleReset:Ce,value:k,focused:y,triggerFocus:W,suffix:Ne(),disabled:v,classes:F,classNames:O,styles:w}),Se())});const yt=e=>{const{getPrefixCls:r,direction:a}=o.useContext(ge),{prefixCls:t,className:n}=e,l=r("input-group",t),i=r("input"),[c,S]=Ke(i),f=U(l,{[`${l}-lg`]:e.size==="large",[`${l}-sm`]:e.size==="small",[`${l}-compact`]:e.compact,[`${l}-rtl`]:a==="rtl"},S,n),d=o.useContext(pe),v=o.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return c(o.createElement("span",{className:f,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},o.createElement(pe.Provider,{value:v},e.children)))},at=e=>{let r;return typeof e=="object"&&(e!=null&&e.clearIcon)?r=e:e&&(r={clearIcon:L.createElement(ct,null)}),r};function ot(e,r){const a=o.useRef([]),t=()=>{a.current.push(setTimeout(()=>{var n,l,i,c;!((n=e.current)===null||n===void 0)&&n.input&&((l=e.current)===null||l===void 0?void 0:l.input.getAttribute("type"))==="password"&&(!((i=e.current)===null||i===void 0)&&i.input.hasAttribute("value"))&&((c=e.current)===null||c===void 0||c.input.removeAttribute("value"))}))};return o.useEffect(()=>(r&&t(),()=>a.current.forEach(n=>{n&&clearTimeout(n)})),[]),t}function St(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var wt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Ie=o.forwardRef((e,r)=>{var a;const{prefixCls:t,bordered:n=!0,status:l,size:i,disabled:c,onBlur:S,onFocus:f,suffix:d,allowClear:v,addonAfter:A,addonBefore:B,className:m,style:N,styles:q,rootClassName:G,onChange:E,classNames:u,variant:F}=e,O=wt(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:w,direction:j,input:g}=L.useContext(ge),b=w("input",t),T=o.useRef(null),I=He(b),[y,K,M]=Ke(b,I),{compactSize:P,compactItemClassnames:$}=Qe(b,j),H=Oe(oe=>{var se;return(se=i??P)!==null&&se!==void 0?se:oe}),W=L.useContext(ke),Z=c??W,{status:p,hasFeedback:C,feedbackIcon:V}=o.useContext(pe),k=Ue(p,l),s=St(e)||!!C;o.useRef(s);const x=ot(T,!0),R=oe=>{x(),S==null||S(oe)},Q=oe=>{x(),f==null||f(oe)},h=oe=>{x(),E==null||E(oe)},J=(C||d)&&L.createElement(L.Fragment,null,d,C&&V),ee=at(v??(g==null?void 0:g.allowClear)),[ce,de]=tt("input",F,n);return y(L.createElement(bt,Object.assign({ref:De(r,T),prefixCls:b,autoComplete:g==null?void 0:g.autoComplete},O,{disabled:Z,onBlur:R,onFocus:Q,style:Object.assign(Object.assign({},g==null?void 0:g.style),N),styles:Object.assign(Object.assign({},g==null?void 0:g.styles),q),suffix:J,allowClear:ee,className:U(m,G,M,I,$,g==null?void 0:g.className),onChange:h,addonBefore:B&&L.createElement(Ye,{form:!0,space:!0},B),addonAfter:A&&L.createElement(Ye,{form:!0,space:!0},A),classNames:Object.assign(Object.assign(Object.assign({},u),g==null?void 0:g.classNames),{input:U({[`${b}-sm`]:H==="small",[`${b}-lg`]:H==="large",[`${b}-rtl`]:j==="rtl"},u==null?void 0:u.input,(a=g==null?void 0:g.classNames)===null||a===void 0?void 0:a.input,K),variant:U({[`${b}-${ce}`]:de},Me(b,k)),affixWrapper:U({[`${b}-affix-wrapper-sm`]:H==="small",[`${b}-affix-wrapper-lg`]:H==="large",[`${b}-affix-wrapper-rtl`]:j==="rtl"},K),wrapper:U({[`${b}-group-rtl`]:j==="rtl"},K),groupWrapper:U({[`${b}-group-wrapper-sm`]:H==="small",[`${b}-group-wrapper-lg`]:H==="large",[`${b}-group-wrapper-rtl`]:j==="rtl",[`${b}-group-wrapper-${ce}`]:de},Me(`${b}-group-wrapper`,k,C),K)})})))}),Rt=e=>{const{componentCls:r,paddingXS:a}=e;return{[r]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:a,"&-rtl":{direction:"rtl"},[`${r}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${r}-sm ${r}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${r}-lg ${r}-input`]:{paddingInline:e.paddingXS}}}},Et=vt(["Input","OTP"],e=>{const r=mt(e,it(e));return[Rt(r)]},ut);var zt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Ot=o.forwardRef((e,r)=>{const{value:a,onChange:t,onActiveChange:n,index:l,mask:i}=e,c=zt(e,["value","onChange","onActiveChange","index","mask"]),S=a&&typeof i=="string"?i:a,f=m=>{t(l,m.target.value)},d=o.useRef(null);o.useImperativeHandle(r,()=>d.current);const v=()=>{Ve(()=>{var m;const N=(m=d.current)===null||m===void 0?void 0:m.input;document.activeElement===N&&N&&N.select()})},A=m=>{const{key:N,ctrlKey:q,metaKey:G}=m;N==="ArrowLeft"?n(l-1):N==="ArrowRight"?n(l+1):N==="z"&&(q||G)&&m.preventDefault(),v()},B=m=>{m.key==="Backspace"&&!a&&n(l-1),v()};return o.createElement(Ie,Object.assign({type:i===!0?"password":"text"},c,{ref:d,value:S,onInput:f,onFocus:v,onKeyDown:A,onKeyUp:B,onMouseDown:v,onMouseUp:v}))});var It=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};function Re(e){return(e||"").split("")}const Pt=o.forwardRef((e,r)=>{const{prefixCls:a,length:t=6,size:n,defaultValue:l,value:i,onChange:c,formatter:S,variant:f,disabled:d,status:v,autoFocus:A,mask:B,type:m,onInput:N,inputMode:q}=e,G=It(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:E,direction:u}=o.useContext(ge),F=E("otp",a),O=dt(G,{aria:!0,data:!0,attr:!0}),w=He(F),[j,g,b]=Et(F,w),T=Oe(s=>n??s),I=o.useContext(pe),y=Ue(I.status,v),K=o.useMemo(()=>Object.assign(Object.assign({},I),{status:y,hasFeedback:!1,feedbackIcon:null}),[I,y]),M=o.useRef(null),P=o.useRef({});o.useImperativeHandle(r,()=>({focus:()=>{var s;(s=P.current[0])===null||s===void 0||s.focus()},blur:()=>{var s;for(let x=0;x<t;x+=1)(s=P.current[x])===null||s===void 0||s.blur()},nativeElement:M.current}));const $=s=>S?S(s):s,[H,W]=o.useState(Re($(l||"")));o.useEffect(()=>{i!==void 0&&W(Re(i))},[i]);const Z=We(s=>{W(s),N&&N(s),c&&s.length===t&&s.every(x=>x)&&s.some((x,R)=>H[R]!==x)&&c(s.join(""))}),p=We((s,x)=>{let R=Be(H);for(let h=0;h<s;h+=1)R[h]||(R[h]="");x.length<=1?R[s]=x:R=R.slice(0,s).concat(Re(x)),R=R.slice(0,t);for(let h=R.length-1;h>=0&&!R[h];h-=1)R.pop();const Q=$(R.map(h=>h||" ").join(""));return R=Re(Q).map((h,J)=>h===" "&&!R[J]?R[J]:h),R}),C=(s,x)=>{var R;const Q=p(s,x),h=Math.min(s+x.length,t-1);h!==s&&Q[s]!==void 0&&((R=P.current[h])===null||R===void 0||R.focus()),Z(Q)},V=s=>{var x;(x=P.current[s])===null||x===void 0||x.focus()},k={variant:f,disabled:d,status:y,mask:B,type:m,inputMode:q};return j(o.createElement("div",Object.assign({},O,{ref:M,className:U(F,{[`${F}-sm`]:T==="small",[`${F}-lg`]:T==="large",[`${F}-rtl`]:u==="rtl"},b,g)}),o.createElement(pe.Provider,{value:K},Array.from({length:t}).map((s,x)=>{const R=`otp-${x}`,Q=H[x]||"";return o.createElement(Ot,Object.assign({ref:h=>{P.current[x]=h},key:R,index:x,size:T,htmlSize:1,className:`${F}-input`,onChange:C,value:Q,onActiveChange:V,autoFocus:x===0&&A},k))}))))});var $t={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},At=function(r,a){return o.createElement(ft,xe({},r,{ref:a,icon:$t}))},Nt=o.forwardRef(At),_t=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const jt=e=>e?o.createElement(pt,null):o.createElement(Nt,null),Ft={click:"onClick",hover:"onMouseOver"},Tt=o.forwardRef((e,r)=>{const{disabled:a,action:t="click",visibilityToggle:n=!0,iconRender:l=jt}=e,i=o.useContext(ke),c=a??i,S=typeof n=="object"&&n.visible!==void 0,[f,d]=o.useState(()=>S?n.visible:!1),v=o.useRef(null);o.useEffect(()=>{S&&d(n.visible)},[S,n]);const A=ot(v),B=()=>{var T;if(c)return;f&&A();const I=!f;d(I),typeof n=="object"&&((T=n.onVisibleChange)===null||T===void 0||T.call(n,I))},m=T=>{const I=Ft[t]||"",y=l(f),K={[I]:B,className:`${T}-icon`,key:"passwordIcon",onMouseDown:M=>{M.preventDefault()},onMouseUp:M=>{M.preventDefault()}};return o.cloneElement(o.isValidElement(y)?y:o.createElement("span",null,y),K)},{className:N,prefixCls:q,inputPrefixCls:G,size:E}=e,u=_t(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:F}=o.useContext(ge),O=F("input",G),w=F("input-password",q),j=n&&m(w),g=U(w,N,{[`${w}-${E}`]:!!E}),b=Object.assign(Object.assign({},Ze(u,["suffix","iconRender","visibilityToggle"])),{type:f?"text":"password",className:g,prefixCls:O,suffix:j});return E&&(b.size=E),o.createElement(Ie,Object.assign({ref:De(r,v)},b))});var Vt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Mt=o.forwardRef((e,r)=>{const{prefixCls:a,inputPrefixCls:t,className:n,size:l,suffix:i,enterButton:c=!1,addonAfter:S,loading:f,disabled:d,onSearch:v,onChange:A,onCompositionStart:B,onCompositionEnd:m}=e,N=Vt(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:q,direction:G}=o.useContext(ge),E=o.useRef(!1),u=q("input-search",a),F=q("input",t),{compactSize:O}=Qe(u,G),w=Oe(p=>{var C;return(C=l??O)!==null&&C!==void 0?C:p}),j=o.useRef(null),g=p=>{p!=null&&p.target&&p.type==="click"&&v&&v(p.target.value,p,{source:"clear"}),A==null||A(p)},b=p=>{var C;document.activeElement===((C=j.current)===null||C===void 0?void 0:C.input)&&p.preventDefault()},T=p=>{var C,V;v&&v((V=(C=j.current)===null||C===void 0?void 0:C.input)===null||V===void 0?void 0:V.value,p,{source:"input"})},I=p=>{E.current||f||T(p)},y=typeof c=="boolean"?o.createElement(gt,null):null,K=`${u}-button`;let M;const P=c||{},$=P.type&&P.type.__ANT_BUTTON===!0;$||P.type==="button"?M=qe(P,Object.assign({onMouseDown:b,onClick:p=>{var C,V;(V=(C=P==null?void 0:P.props)===null||C===void 0?void 0:C.onClick)===null||V===void 0||V.call(C,p),T(p)},key:"enterButton"},$?{className:K,size:w}:{})):M=o.createElement(Ct,{className:K,type:c?"primary":void 0,size:w,disabled:d,key:"enterButton",onMouseDown:b,onClick:T,loading:f,icon:y},c),S&&(M=[M,qe(S,{key:"addonAfter"})]);const H=U(u,{[`${u}-rtl`]:G==="rtl",[`${u}-${w}`]:!!w,[`${u}-with-button`]:!!c},n),W=p=>{E.current=!0,B==null||B(p)},Z=p=>{E.current=!1,m==null||m(p)};return o.createElement(Ie,Object.assign({ref:De(j,r),onPressEnter:I},N,{size:w,onCompositionStart:W,onCompositionEnd:Z,prefixCls:F,addonAfter:M,suffix:i,onChange:g,className:H,disabled:d}))});var Bt=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,kt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],_e={},ne;function Dt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(r&&_e[a])return _e[a];var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),l=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),i=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width")),c=kt.map(function(f){return"".concat(f,":").concat(t.getPropertyValue(f))}).join(";"),S={sizingStyle:c,paddingSize:l,borderSize:i,boxSizing:n};return r&&a&&(_e[a]=S),S}function Lt(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ne||(ne=document.createElement("textarea"),ne.setAttribute("tab-index","-1"),ne.setAttribute("aria-hidden","true"),ne.setAttribute("name","hiddenTextarea"),document.body.appendChild(ne)),e.getAttribute("wrap")?ne.setAttribute("wrap",e.getAttribute("wrap")):ne.removeAttribute("wrap");var n=Dt(e,r),l=n.paddingSize,i=n.borderSize,c=n.boxSizing,S=n.sizingStyle;ne.setAttribute("style","".concat(S,";").concat(Bt)),ne.value=e.value||e.placeholder||"";var f=void 0,d=void 0,v,A=ne.scrollHeight;if(c==="border-box"?A+=i:c==="content-box"&&(A-=l),a!==null||t!==null){ne.value=" ";var B=ne.scrollHeight-l;a!==null&&(f=B*a,c==="border-box"&&(f=f+l+i),A=Math.max(f,A)),t!==null&&(d=B*t,c==="border-box"&&(d=d+l+i),v=A>d?"":"hidden",A=Math.min(d,A))}var m={height:A,overflowY:v,resize:"none"};return f&&(m.minHeight=f),d&&(m.maxHeight=d),m}var Kt=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],je=0,Fe=1,Te=2,Ht=o.forwardRef(function(e,r){var a=e,t=a.prefixCls,n=a.defaultValue,l=a.value,i=a.autoSize,c=a.onResize,S=a.className,f=a.style,d=a.disabled,v=a.onChange;a.onInternalAutoSize;var A=ze(a,Kt),B=Le(n,{value:l,postState:function(s){return s??""}}),m=re(B,2),N=m[0],q=m[1],G=function(s){q(s.target.value),v==null||v(s)},E=o.useRef();o.useImperativeHandle(r,function(){return{textArea:E.current}});var u=o.useMemo(function(){return i&&Ge(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),F=re(u,2),O=F[0],w=F[1],j=!!i,g=function(){try{if(document.activeElement===E.current){var s=E.current,x=s.selectionStart,R=s.selectionEnd,Q=s.scrollTop;E.current.setSelectionRange(x,R),E.current.scrollTop=Q}}catch{}},b=o.useState(Te),T=re(b,2),I=T[0],y=T[1],K=o.useState(),M=re(K,2),P=M[0],$=M[1],H=function(){y(je)};Xe(function(){j&&H()},[l,O,w,j]),Xe(function(){if(I===je)y(Fe);else if(I===Fe){var k=Lt(E.current,!1,O,w);y(Te),$(k)}else g()},[I]);var W=o.useRef(),Z=function(){Ve.cancel(W.current)},p=function(s){I===Te&&(c==null||c(s),i&&(Z(),W.current=Ve(function(){H()})))};o.useEffect(function(){return Z},[]);var C=j?P:null,V=ae(ae({},f),C);return(I===je||I===Fe)&&(V.overflowY="hidden",V.overflowX="hidden"),o.createElement(lt,{onResize:p,disabled:!(i||c)},o.createElement("textarea",xe({},A,{ref:E,style:V,className:U(t,S,be({},"".concat(t,"-disabled"),d)),disabled:d,value:N,onChange:G})))}),Ut=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Wt=L.forwardRef(function(e,r){var a,t=e.defaultValue,n=e.value,l=e.onFocus,i=e.onBlur,c=e.onChange,S=e.allowClear,f=e.maxLength,d=e.onCompositionStart,v=e.onCompositionEnd,A=e.suffix,B=e.prefixCls,m=B===void 0?"rc-textarea":B,N=e.showCount,q=e.count,G=e.className,E=e.style,u=e.disabled,F=e.hidden,O=e.classNames,w=e.styles,j=e.onResize,g=e.onClear,b=e.onPressEnter,T=e.readOnly,I=e.autoSize,y=e.onKeyDown,K=ze(e,Ut),M=Le(t,{value:n,defaultValue:t}),P=re(M,2),$=P[0],H=P[1],W=$==null?"":String($),Z=L.useState(!1),p=re(Z,2),C=p[0],V=p[1],k=L.useRef(!1),s=L.useState(null),x=re(s,2),R=x[0],Q=x[1],h=o.useRef(null),J=o.useRef(null),ee=function(){var _;return(_=J.current)===null||_===void 0?void 0:_.textArea},ce=function(){ee().focus()};o.useImperativeHandle(r,function(){var Y;return{resizableTextArea:J.current,focus:ce,blur:function(){ee().blur()},nativeElement:((Y=h.current)===null||Y===void 0?void 0:Y.nativeElement)||ee()}}),o.useEffect(function(){V(function(Y){return!u&&Y})},[u]);var de=L.useState(null),oe=re(de,2),se=oe[0],Pe=oe[1];L.useEffect(function(){if(se){var Y;(Y=ee()).setSelectionRange.apply(Y,Be(se))}},[se]);var te=nt(q,N),fe=(a=te.max)!==null&&a!==void 0?a:f,$e=Number(fe)>0,Ce=te.strategy(W),Ae=!!fe&&Ce>fe,Se=function(_,ue){var we=ue;!k.current&&te.exceedFormatter&&te.max&&te.strategy(ue)>te.max&&(we=te.exceedFormatter(ue,{max:te.max}),ue!==we&&Pe([ee().selectionStart||0,ee().selectionEnd||0])),H(we),Ee(_.currentTarget,_,c,we)},Ne=function(_){k.current=!0,d==null||d(_)},D=function(_){k.current=!1,Se(_,_.currentTarget.value),v==null||v(_)},z=function(_){Se(_,_.target.value)},X=function(_){_.key==="Enter"&&b&&b(_),y==null||y(_)},ve=function(_){V(!0),l==null||l(_)},ie=function(_){V(!1),i==null||i(_)},le=function(_){H(""),ce(),Ee(ee(),_,c)},me=A,he;te.show&&(te.showFormatter?he=te.showFormatter({value:W,count:Ce,maxLength:fe}):he="".concat(Ce).concat($e?" / ".concat(fe):""),me=L.createElement(L.Fragment,null,me,L.createElement("span",{className:U("".concat(m,"-data-count"),O==null?void 0:O.count),style:w==null?void 0:w.count},he)));var rt=function(_){var ue;j==null||j(_),(ue=ee())!==null&&ue!==void 0&&ue.style.height&&Q(!0)},st=!I&&!N&&!S;return L.createElement(Je,{ref:h,value:W,allowClear:S,handleReset:le,suffix:me,prefixCls:m,classNames:ae(ae({},O),{},{affixWrapper:U(O==null?void 0:O.affixWrapper,be(be({},"".concat(m,"-show-count"),N),"".concat(m,"-textarea-allow-clear"),S))}),disabled:u,focused:C,className:U(G,Ae&&"".concat(m,"-out-of-range")),style:ae(ae({},E),R&&!st?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof he=="string"?he:void 0}},hidden:F,readOnly:T,onClear:g},L.createElement(Ht,xe({},K,{autoSize:I,maxLength:f,onKeyDown:X,onChange:z,onFocus:ve,onBlur:ie,onCompositionStart:Ne,onCompositionEnd:D,className:U(O==null?void 0:O.textarea),style:ae(ae({},w==null?void 0:w.textarea),{},{resize:E==null?void 0:E.resize}),disabled:u,prefixCls:m,onResize:rt,ref:J,readOnly:T})))}),Xt=function(e,r){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)r.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Yt=o.forwardRef((e,r)=>{var a,t;const{prefixCls:n,bordered:l=!0,size:i,disabled:c,status:S,allowClear:f,classNames:d,rootClassName:v,className:A,style:B,styles:m,variant:N}=e,q=Xt(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:G,direction:E,textArea:u}=o.useContext(ge),F=Oe(i),O=o.useContext(ke),w=c??O,{status:j,hasFeedback:g,feedbackIcon:b}=o.useContext(pe),T=Ue(j,S),I=o.useRef(null);o.useImperativeHandle(r,()=>{var p;return{resizableTextArea:(p=I.current)===null||p===void 0?void 0:p.resizableTextArea,focus:C=>{var V,k;et((k=(V=I.current)===null||V===void 0?void 0:V.resizableTextArea)===null||k===void 0?void 0:k.textArea,C)},blur:()=>{var C;return(C=I.current)===null||C===void 0?void 0:C.blur()}}});const y=G("input",n),K=He(y),[M,P,$]=Ke(y,K),[H,W]=tt("textArea",N,l),Z=at(f??(u==null?void 0:u.allowClear));return M(o.createElement(Wt,Object.assign({autoComplete:u==null?void 0:u.autoComplete},q,{style:Object.assign(Object.assign({},u==null?void 0:u.style),B),styles:Object.assign(Object.assign({},u==null?void 0:u.styles),m),disabled:w,allowClear:Z,className:U($,K,A,v,u==null?void 0:u.className),classNames:Object.assign(Object.assign(Object.assign({},d),u==null?void 0:u.classNames),{textarea:U({[`${y}-sm`]:F==="small",[`${y}-lg`]:F==="large"},P,d==null?void 0:d.textarea,(a=u==null?void 0:u.classNames)===null||a===void 0?void 0:a.textarea),variant:U({[`${y}-${H}`]:W},Me(y,T)),affixWrapper:U(`${y}-textarea-affix-wrapper`,{[`${y}-affix-wrapper-rtl`]:E==="rtl",[`${y}-affix-wrapper-sm`]:F==="small",[`${y}-affix-wrapper-lg`]:F==="large",[`${y}-textarea-show-count`]:e.showCount||((t=e.count)===null||t===void 0?void 0:t.show)},P)}),prefixCls:y,suffix:g&&o.createElement("span",{className:`${y}-textarea-suffix`},b),ref:I})))}),ye=Ie;ye.Group=yt;ye.Search=Mt;ye.TextArea=Yt;ye.Password=Tt;ye.OTP=Pt;export{ye as I};
