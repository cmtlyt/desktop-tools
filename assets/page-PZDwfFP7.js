const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/monaco-B3Re3ocI.js","assets/index-DwZ3VcdL.js","assets/index-Dk2L6hWJ.css","assets/index-C5spFGCl.js","assets/monaco-DZlM1Vl6.css","assets/terminal-DxrjeMSv.js","assets/button-BxUGn_cn.js","assets/iconBase-BFWPPRPh.js","assets/index-DRoDy7bY.js","assets/index-Baf81WNP.js","assets/index-B4g9YTQJ.js","assets/terminal-DYP7pi_n.css"])))=>i.map(i=>d[i]);
import{r as c,a2 as Fn,n as pn,j as x,a3 as Be,G as Tn}from"./index-DwZ3VcdL.js";import{c as Re,d as W,b as be,F as hn,a as Un}from"./button-BxUGn_cn.js";import{G as Ve}from"./iconBase-BFWPPRPh.js";import{I as Gn}from"./index-DRoDy7bY.js";import{S as mn}from"./index-Baf81WNP.js";import{S as On}from"./index-B4g9YTQJ.js";const $e=c.createContext(null);$e.displayName="PanelGroupContext";const $={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ke=10,ie=c.useLayoutEffect,en=Fn.useId,Wn=typeof en=="function"?en:()=>null;let Bn=0;function qe(e=null){const n=Wn(),t=c.useRef(e||n||null);return t.current===null&&(t.current=""+Bn++),e??t.current}function gn({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:o,id:s,maxSize:l,minSize:a,onCollapse:h,onExpand:g,onResize:f,order:u,style:b,tagName:v="div",...I}){const E=c.useContext($e);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:P,expandPanel:A,getPanelSize:M,getPanelStyle:_,groupId:q,isPanelCollapsed:L,reevaluatePanelConstraints:C,registerPanel:B,resizePanel:Y,unregisterPanel:G}=E,F=qe(s),D=c.useRef({callbacks:{onCollapse:h,onExpand:g,onResize:f},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:l,minSize:a},id:F,idIsFromProps:s!==void 0,order:u});c.useRef({didLogMissingDefaultSizeWarning:!1}),ie(()=>{const{callbacks:H,constraints:j}=D.current,T={...j};D.current.id=F,D.current.idIsFromProps=s!==void 0,D.current.order=u,H.onCollapse=h,H.onExpand=g,H.onResize=f,j.collapsedSize=t,j.collapsible=r,j.defaultSize=i,j.maxSize=l,j.minSize=a,(T.collapsedSize!==j.collapsedSize||T.collapsible!==j.collapsible||T.maxSize!==j.maxSize||T.minSize!==j.minSize)&&C(D.current,T)}),ie(()=>{const H=D.current;return B(H),()=>{G(H)}},[u,F,B,G]),c.useImperativeHandle(o,()=>({collapse:()=>{P(D.current)},expand:H=>{A(D.current,H)},getId(){return F},getSize(){return M(D.current)},isCollapsed(){return L(D.current)},isExpanded(){return!L(D.current)},resize:H=>{Y(D.current,H)}}),[P,A,M,L,F,Y]);const ne=_(D.current,i);return c.createElement(v,{...I,children:e,className:n,id:F,style:{...ne,...b},[$.groupId]:q,[$.panel]:"",[$.panelCollapsible]:r||void 0,[$.panelId]:F,[$.panelSize]:parseFloat(""+ne.flexGrow).toFixed(1)})}const re=c.forwardRef((e,n)=>c.createElement(gn,{...e,forwardedRef:n}));gn.displayName="Panel";re.displayName="forwardRef(Panel)";let Oe=null,Ie=-1,ee=null;function Vn(e,n){if(n){const t=(n&Sn)!==0,r=(n&bn)!==0,i=(n&wn)!==0,o=(n&Pn)!==0;if(t)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Kn(){ee!==null&&(document.head.removeChild(ee),Oe=null,ee=null,Ie=-1)}function je(e,n){var t,r;const i=Vn(e,n);if(Oe!==i){if(Oe=i,ee===null&&(ee=document.createElement("style"),document.head.appendChild(ee)),Ie>=0){var o;(o=ee.sheet)===null||o===void 0||o.removeRule(Ie)}Ie=(t=(r=ee.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${i} !important;}`))!==null&&t!==void 0?t:-1}}function yn(e){return e.type==="keydown"}function xn(e){return e.type.startsWith("pointer")}function vn(e){return e.type.startsWith("mouse")}function De(e){if(xn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(vn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function qn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Xn(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function Jn(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:rn(e),b:rn(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;S(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:tn(nn(t.a)),b:tn(nn(t.b))};if(i.a===i.b){const o=r.childNodes,s={a:t.a.at(-1),b:t.b.at(-1)};let l=o.length;for(;l--;){const a=o[l];if(a===s.a)return 1;if(a===s.b)return-1}}return Math.sign(i.a-i.b)}const Yn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Zn(e){var n;const t=getComputedStyle((n=zn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Qn(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Zn(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Yn.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function nn(e){let n=e.length;for(;n--;){const t=e[n];if(S(t,"Missing node"),Qn(t))return t}return null}function tn(e){return e&&Number(getComputedStyle(e).zIndex)||0}function rn(e){const n=[];for(;e;)n.push(e),e=zn(e);return n}function zn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const Sn=1,bn=2,wn=4,Pn=8,et=qn()==="coarse";let K=[],de=!1,oe=new Map,Me=new Map;const ze=new Set;function nt(e,n,t,r,i){var o;const{ownerDocument:s}=n,l={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:i},a=(o=oe.get(s))!==null&&o!==void 0?o:0;return oe.set(s,a+1),ze.add(l),Le(),function(){var g;Me.delete(e),ze.delete(l);const f=(g=oe.get(s))!==null&&g!==void 0?g:1;if(oe.set(s,f-1),Le(),f===1&&oe.delete(s),K.includes(l)){const u=K.indexOf(l);u>=0&&K.splice(u,1),Je(),i("up",!0,null)}}}function tt(e){const{target:n}=e,{x:t,y:r}=De(e);de=!0,Xe({target:n,x:t,y:r}),Le(),K.length>0&&(Ae("down",e),e.preventDefault(),Cn(n)||e.stopImmediatePropagation())}function He(e){const{x:n,y:t}=De(e);if(de&&e.buttons===0&&(de=!1,Ae("up",e)),!de){const{target:r}=e;Xe({target:r,x:n,y:t})}Ae("move",e),Je(),K.length>0&&e.preventDefault()}function Fe(e){const{target:n}=e,{x:t,y:r}=De(e);Me.clear(),de=!1,K.length>0&&(e.preventDefault(),Cn(n)||e.stopImmediatePropagation()),Ae("up",e),Xe({target:n,x:t,y:r}),Je(),Le()}function Cn(e){let n=e;for(;n;){if(n.hasAttribute($.resizeHandle))return!0;n=n.parentElement}return!1}function Xe({target:e,x:n,y:t}){K.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ze.forEach(i=>{const{element:o,hitAreaMargins:s}=i,l=o.getBoundingClientRect(),{bottom:a,left:h,right:g,top:f}=l,u=et?s.coarse:s.fine;if(n>=h-u&&n<=g+u&&t>=f-u&&t<=a+u){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Jn(r,o)>0){let v=r,I=!1;for(;v&&!v.contains(o);){if(Xn(v.getBoundingClientRect(),l)){I=!0;break}v=v.parentElement}if(I)return}K.push(i)}})}function Te(e,n){Me.set(e,n)}function Je(){let e=!1,n=!1;K.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:n=!0});let t=0;Me.forEach(r=>{t|=r}),e&&n?je("intersection",t):e?je("horizontal",t):n?je("vertical",t):Kn()}let Ue=new AbortController;function Le(){Ue.abort(),Ue=new AbortController;const e={capture:!0,signal:Ue.signal};ze.size&&(de?(K.length>0&&oe.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("contextmenu",Fe,e),r.addEventListener("pointerleave",He,e),r.addEventListener("pointermove",He,e))}),window.addEventListener("pointerup",Fe,e),window.addEventListener("pointercancel",Fe,e)):oe.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("pointerdown",tt,e),r.addEventListener("pointermove",He,e))}))}function Ae(e,n){ze.forEach(t=>{const{setResizeHandlerState:r}=t,i=K.includes(t);r(e,i,n)})}function rt(){const[e,n]=c.useState(0);return c.useCallback(()=>n(t=>t+1),[])}function S(e,n){if(!e)throw console.error(n),Error(n)}function se(e,n,t=Ke){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Q(e,n,t=Ke){return se(e,n,t)===0}function O(e,n,t){return se(e,n,t)===0}function ot(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=n[r];if(!O(i,o,t))return!1}return!0}function ue({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];S(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:i=0,collapsible:o,maxSize:s=100,minSize:l=0}=r;if(se(t,l)<0)if(o){const a=(i+l)/2;se(t,a)<0?t=i:t=l}else t=l;return t=Math.min(s,t),t=parseFloat(t.toFixed(Ke)),t}function xe({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:o}){if(O(e,0))return n;const s=[...n],[l,a]=r;S(l!=null,"Invalid first pivot index"),S(a!=null,"Invalid second pivot index");let h=0;if(o==="keyboard"){{const f=e<0?a:l,u=t[f];S(u,`Panel constraints not found for index ${f}`);const{collapsedSize:b=0,collapsible:v,minSize:I=0}=u;if(v){const E=n[f];if(S(E!=null,`Previous layout not found for panel index ${f}`),O(E,b)){const P=I-E;se(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}{const f=e<0?l:a,u=t[f];S(u,`No panel constraints found for index ${f}`);const{collapsedSize:b=0,collapsible:v,minSize:I=0}=u;if(v){const E=n[f];if(S(E!=null,`Previous layout not found for panel index ${f}`),O(E,I)){const P=E-b;se(P,Math.abs(e))>0&&(e=e<0?0-P:P)}}}}{const f=e<0?1:-1;let u=e<0?a:l,b=0;for(;;){const I=n[u];S(I!=null,`Previous layout not found for panel index ${u}`);const P=ue({panelConstraints:t,panelIndex:u,size:100})-I;if(b+=P,u+=f,u<0||u>=t.length)break}const v=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-v:v}{let u=e<0?l:a;for(;u>=0&&u<t.length;){const b=Math.abs(e)-Math.abs(h),v=n[u];S(v!=null,`Previous layout not found for panel index ${u}`);const I=v-b,E=ue({panelConstraints:t,panelIndex:u,size:I});if(!O(v,E)&&(h+=v-E,s[u]=E,h.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(ot(i,s))return i;{const f=e<0?a:l,u=n[f];S(u!=null,`Previous layout not found for panel index ${f}`);const b=u+h,v=ue({panelConstraints:t,panelIndex:f,size:b});if(s[f]=v,!O(v,b)){let I=b-v,P=e<0?a:l;for(;P>=0&&P<t.length;){const A=s[P];S(A!=null,`Previous layout not found for panel index ${P}`);const M=A+I,_=ue({panelConstraints:t,panelIndex:P,size:M});if(O(A,_)||(I-=_-A,s[P]=_),O(I,0))break;e>0?P--:P++}}}const g=s.reduce((f,u)=>u+f,0);return O(g,100)?s:i}function it({layout:e,panelsArray:n,pivotIndices:t}){let r=0,i=100,o=0,s=0;const l=t[0];S(l!=null,"No pivot index found"),n.forEach((f,u)=>{const{constraints:b}=f,{maxSize:v=100,minSize:I=0}=b;u===l?(r=I,i=v):(o+=I,s+=v)});const a=Math.min(i,100-o),h=Math.max(r,100-s),g=e[l];return{valueMax:a,valueMin:h,valueNow:g}}function Se(e,n=document){return Array.from(n.querySelectorAll(`[${$.resizeHandleId}][data-panel-group-id="${e}"]`))}function En(e,n,t=document){const i=Se(e,t).findIndex(o=>o.getAttribute($.resizeHandleId)===n);return i??null}function In(e,n,t){const r=En(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function Rn(e,n=document){var t;if(n instanceof HTMLElement&&(n==null||(t=n.dataset)===null||t===void 0?void 0:t.panelGroupId)==e)return n;const r=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Ne(e,n=document){const t=n.querySelector(`[${$.resizeHandleId}="${e}"]`);return t||null}function st(e,n,t,r=document){var i,o,s,l;const a=Ne(n,r),h=Se(e,r),g=a?h.indexOf(a):-1,f=(i=(o=t[g])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,u=(s=(l=t[g+1])===null||l===void 0?void 0:l.id)!==null&&s!==void 0?s:null;return[f,u]}function lt({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:s}){c.useRef({didWarnAboutMissingResizeHandle:!1}),ie(()=>{if(!o)return;const l=Se(t,o);for(let a=0;a<i.length-1;a++){const{valueMax:h,valueMin:g,valueNow:f}=it({layout:r,panelsArray:i,pivotIndices:[a,a+1]}),u=l[a];if(u!=null){const b=i[a];S(b,`No panel data found for index "${a}"`),u.setAttribute("aria-controls",b.id),u.setAttribute("aria-valuemax",""+Math.round(h)),u.setAttribute("aria-valuemin",""+Math.round(g)),u.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{l.forEach((a,h)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,r,i,o]),c.useEffect(()=>{if(!o)return;const l=n.current;S(l,"Eager values not found");const{panelDataArray:a}=l,h=Rn(t,o);S(h!=null,`No group found for id "${t}"`);const g=Se(t,o);S(g,`No resize handles found for group id "${t}"`);const f=g.map(u=>{const b=u.getAttribute($.resizeHandleId);S(b,"Resize handle element has no handle id attribute");const[v,I]=st(t,b,a,o);if(v==null||I==null)return()=>{};const E=P=>{if(!P.defaultPrevented)switch(P.key){case"Enter":{P.preventDefault();const A=a.findIndex(M=>M.id===v);if(A>=0){const M=a[A];S(M,`No panel data found for index ${A}`);const _=r[A],{collapsedSize:q=0,collapsible:L,minSize:C=0}=M.constraints;if(_!=null&&L){const B=xe({delta:O(_,q)?C-q:q-_,initialLayout:r,panelConstraints:a.map(Y=>Y.constraints),pivotIndices:In(t,b,o),prevLayout:r,trigger:"keyboard"});r!==B&&s(B)}}break}}};return u.addEventListener("keydown",E),()=>{u.removeEventListener("keydown",E)}});return()=>{f.forEach(u=>u())}},[o,e,n,t,r,i,s])}function on(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function Ln(e,n){const t=e==="horizontal",{x:r,y:i}=De(n);return t?r:i}function at(e,n,t,r,i){const o=t==="horizontal",s=Ne(n,i);S(s,`No resize handle element found for id "${n}"`);const l=s.getAttribute($.groupId);S(l,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=r;const h=Ln(t,e),g=Rn(l,i);S(g,`No group element found for id "${l}"`);const f=g.getBoundingClientRect(),u=o?f.width:f.height;return(h-a)/u*100}function ct(e,n,t,r,i,o){if(yn(e)){const s=t==="horizontal";let l=0;e.shiftKey?l=100:i!=null?l=i:l=10;let a=0;switch(e.key){case"ArrowDown":a=s?0:l;break;case"ArrowLeft":a=s?-l:0;break;case"ArrowRight":a=s?l:0;break;case"ArrowUp":a=s?0:-l;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return r==null?0:at(e,n,t,r,o)}function ut({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const s=t[o];S(s,`Panel constraints not found for index ${o}`);const{defaultSize:l}=s;l!=null&&(r++,n[o]=l,i-=l)}for(let o=0;o<e.length;o++){const s=t[o];S(s,`Panel constraints not found for index ${o}`);const{defaultSize:l}=s;if(l!=null)continue;const a=e.length-r,h=i/a;r++,n[o]=h,i-=h}return n}function ae(e,n,t){n.forEach((r,i)=>{const o=e[i];S(o,`Panel data not found for index ${i}`);const{callbacks:s,constraints:l,id:a}=o,{collapsedSize:h=0,collapsible:g}=l,f=t[a];if(f==null||r!==f){t[a]=r;const{onCollapse:u,onExpand:b,onResize:v}=s;v&&v(r,f),g&&(u||b)&&(b&&(f==null||Q(f,h))&&!Q(r,h)&&b(),u&&(f==null||!Q(f,h))&&Q(r,h)&&u())}})}function Ce(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function dt({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:i,precision:o=3}){const s=t[i];let l;return s==null?l=e!=null?e.toPrecision(o):"1":r.length===1?l="1":l=s.toPrecision(o),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function ft(e,n=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...i)},n)}}function sn(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function An(e){return`react-resizable-panels:${e}`}function kn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:i,order:o}=n;return i?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function $n(e,n){try{const t=An(e),r=n.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function pt(e,n,t){var r,i;const o=(r=$n(e,t))!==null&&r!==void 0?r:{},s=kn(n);return(i=o[s])!==null&&i!==void 0?i:null}function ht(e,n,t,r,i){var o;const s=An(e),l=kn(n),a=(o=$n(e,i))!==null&&o!==void 0?o:{};a[l]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(s,JSON.stringify(a))}catch(h){console.error(h)}}function ln({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,s)=>o+s,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!O(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const s=t[o];S(s!=null,`No layout data found for index ${o}`);const l=100/r*s;t[o]=l}let i=0;for(let o=0;o<n.length;o++){const s=t[o];S(s!=null,`No layout data found for index ${o}`);const l=ue({panelConstraints:n,panelIndex:o,size:s});s!=l&&(i+=s-l,t[o]=l)}if(!O(i,0))for(let o=0;o<n.length;o++){const s=t[o];S(s!=null,`No layout data found for index ${o}`);const l=s+i,a=ue({panelConstraints:n,panelIndex:o,size:l});if(s!==a&&(i-=a-s,t[o]=a,O(i,0)))break}return t}const mt=100,ve={getItem:e=>(sn(ve),ve.getItem(e)),setItem:(e,n)=>{sn(ve),ve.setItem(e,n)}},an={};function Dn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:i,id:o=null,onLayout:s=null,keyboardResizeBy:l=null,storage:a=ve,style:h,tagName:g="div",...f}){const u=qe(o),b=c.useRef(null),[v,I]=c.useState(null),[E,P]=c.useState([]),A=rt(),M=c.useRef({}),_=c.useRef(new Map),q=c.useRef(0),L=c.useRef({autoSaveId:e,direction:r,dragState:v,id:u,keyboardResizeBy:l,onLayout:s,storage:a}),C=c.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});c.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),c.useImperativeHandle(i,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:d}=C.current;return d},setLayout:d=>{const{onLayout:y}=L.current,{layout:w,panelDataArray:m}=C.current,p=ln({layout:d,panelConstraints:m.map(z=>z.constraints)});on(w,p)||(P(p),C.current.layout=p,y&&y(p),ae(m,p,M.current))}}),[]),ie(()=>{L.current.autoSaveId=e,L.current.direction=r,L.current.dragState=v,L.current.id=u,L.current.onLayout=s,L.current.storage=a}),lt({committedValuesRef:L,eagerValuesRef:C,groupId:u,layout:E,panelDataArray:C.current.panelDataArray,setLayout:P,panelGroupElement:b.current}),c.useEffect(()=>{const{panelDataArray:d}=C.current;if(e){if(E.length===0||E.length!==d.length)return;let y=an[e];y==null&&(y=ft(ht,mt),an[e]=y);const w=[...d],m=new Map(_.current);y(e,w,m,E,a)}},[e,E,a]),c.useEffect(()=>{});const B=c.useCallback(d=>{const{onLayout:y}=L.current,{layout:w,panelDataArray:m}=C.current;if(d.constraints.collapsible){const p=m.map(X=>X.constraints),{collapsedSize:z=0,panelSize:R,pivotIndices:N}=te(m,d,w);if(S(R!=null,`Panel size not found for panel "${d.id}"`),!Q(R,z)){_.current.set(d.id,R);const J=ce(m,d)===m.length-1?R-z:z-R,k=xe({delta:J,initialLayout:w,panelConstraints:p,pivotIndices:N,prevLayout:w,trigger:"imperative-api"});Ce(w,k)||(P(k),C.current.layout=k,y&&y(k),ae(m,k,M.current))}}},[]),Y=c.useCallback((d,y)=>{const{onLayout:w}=L.current,{layout:m,panelDataArray:p}=C.current;if(d.constraints.collapsible){const z=p.map(V=>V.constraints),{collapsedSize:R=0,panelSize:N=0,minSize:X=0,pivotIndices:J}=te(p,d,m),k=y??X;if(Q(N,R)){const V=_.current.get(d.id),ge=V!=null&&V>=k?V:k,_e=ce(p,d)===p.length-1?N-ge:ge-N,U=xe({delta:_e,initialLayout:m,panelConstraints:z,pivotIndices:J,prevLayout:m,trigger:"imperative-api"});Ce(m,U)||(P(U),C.current.layout=U,w&&w(U),ae(p,U,M.current))}}},[]),G=c.useCallback(d=>{const{layout:y,panelDataArray:w}=C.current,{panelSize:m}=te(w,d,y);return S(m!=null,`Panel size not found for panel "${d.id}"`),m},[]),F=c.useCallback((d,y)=>{const{panelDataArray:w}=C.current,m=ce(w,d);return dt({defaultSize:y,dragState:v,layout:E,panelData:w,panelIndex:m})},[v,E]),D=c.useCallback(d=>{const{layout:y,panelDataArray:w}=C.current,{collapsedSize:m=0,collapsible:p,panelSize:z}=te(w,d,y);return S(z!=null,`Panel size not found for panel "${d.id}"`),p===!0&&Q(z,m)},[]),ne=c.useCallback(d=>{const{layout:y,panelDataArray:w}=C.current,{collapsedSize:m=0,collapsible:p,panelSize:z}=te(w,d,y);return S(z!=null,`Panel size not found for panel "${d.id}"`),!p||se(z,m)>0},[]),H=c.useCallback(d=>{const{panelDataArray:y}=C.current;y.push(d),y.sort((w,m)=>{const p=w.order,z=m.order;return p==null&&z==null?0:p==null?-1:z==null?1:p-z}),C.current.panelDataArrayChanged=!0,A()},[A]);ie(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:d,onLayout:y,storage:w}=L.current,{layout:m,panelDataArray:p}=C.current;let z=null;if(d){const N=pt(d,p,w);N&&(_.current=new Map(Object.entries(N.expandToSizes)),z=N.layout)}z==null&&(z=ut({panelDataArray:p}));const R=ln({layout:z,panelConstraints:p.map(N=>N.constraints)});on(m,R)||(P(R),C.current.layout=R,y&&y(R),ae(p,R,M.current))}}),ie(()=>{const d=C.current;return()=>{d.layout=[]}},[]);const j=c.useCallback(d=>{let y=!1;const w=b.current;return w&&window.getComputedStyle(w,null).getPropertyValue("direction")==="rtl"&&(y=!0),function(p){p.preventDefault();const z=b.current;if(!z)return()=>null;const{direction:R,dragState:N,id:X,keyboardResizeBy:J,onLayout:k}=L.current,{layout:V,panelDataArray:ge}=C.current,{initialLayout:Pe}=N??{},_e=In(X,d,z);let U=ct(p,d,R,N,J,z);const Ze=R==="horizontal";Ze&&y&&(U=-U);const jn=ge.map(Hn=>Hn.constraints),ye=xe({delta:U,initialLayout:Pe??V,panelConstraints:jn,pivotIndices:_e,prevLayout:V,trigger:yn(p)?"keyboard":"mouse-or-touch"}),Qe=!Ce(V,ye);(xn(p)||vn(p))&&q.current!=U&&(q.current=U,!Qe&&U!==0?Ze?Te(d,U<0?Sn:bn):Te(d,U<0?wn:Pn):Te(d,0)),Qe&&(P(ye),C.current.layout=ye,k&&k(ye),ae(ge,ye,M.current))}},[]),T=c.useCallback((d,y)=>{const{onLayout:w}=L.current,{layout:m,panelDataArray:p}=C.current,z=p.map(V=>V.constraints),{panelSize:R,pivotIndices:N}=te(p,d,m);S(R!=null,`Panel size not found for panel "${d.id}"`);const J=ce(p,d)===p.length-1?R-y:y-R,k=xe({delta:J,initialLayout:m,panelConstraints:z,pivotIndices:N,prevLayout:m,trigger:"imperative-api"});Ce(m,k)||(P(k),C.current.layout=k,w&&w(k),ae(p,k,M.current))},[]),fe=c.useCallback((d,y)=>{const{layout:w,panelDataArray:m}=C.current,{collapsedSize:p=0,collapsible:z}=y,{collapsedSize:R=0,collapsible:N,maxSize:X=100,minSize:J=0}=d.constraints,{panelSize:k}=te(m,d,w);k!=null&&(z&&N&&Q(k,p)?Q(p,R)||T(d,R):k<J?T(d,J):k>X&&T(d,X))},[T]),pe=c.useCallback((d,y)=>{const{direction:w}=L.current,{layout:m}=C.current;if(!b.current)return;const p=Ne(d,b.current);S(p,`Drag handle element not found for id "${d}"`);const z=Ln(w,y);I({dragHandleId:d,dragHandleRect:p.getBoundingClientRect(),initialCursorPosition:z,initialLayout:m})},[]),he=c.useCallback(()=>{I(null)},[]),we=c.useCallback(d=>{const{panelDataArray:y}=C.current,w=ce(y,d);w>=0&&(y.splice(w,1),delete M.current[d.id],C.current.panelDataArrayChanged=!0,A())},[A]),le=c.useMemo(()=>({collapsePanel:B,direction:r,dragState:v,expandPanel:Y,getPanelSize:G,getPanelStyle:F,groupId:u,isPanelCollapsed:D,isPanelExpanded:ne,reevaluatePanelConstraints:fe,registerPanel:H,registerResizeHandle:j,resizePanel:T,startDragging:pe,stopDragging:he,unregisterPanel:we,panelGroupElement:b.current}),[B,v,r,Y,G,F,u,D,ne,fe,H,j,T,pe,he,we]),me={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return c.createElement($e.Provider,{value:le},c.createElement(g,{...f,children:n,className:t,id:o,ref:b,style:{...me,...h},[$.group]:"",[$.groupDirection]:r,[$.groupId]:u}))}const Mn=c.forwardRef((e,n)=>c.createElement(Dn,{...e,forwardedRef:n}));Dn.displayName="PanelGroup";Mn.displayName="forwardRef(PanelGroup)";function ce(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function te(e,n,t){const r=ce(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],s=t[r];return{...n.constraints,panelSize:s,pivotIndices:o}}function gt({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){c.useEffect(()=>{if(e||t==null||r==null)return;const i=Ne(n,r);if(i==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),t(s);break}case"F6":{s.preventDefault();const l=i.getAttribute($.groupId);S(l,`No group element found for id "${l}"`);const a=Se(l,r),h=En(l,n,r);S(h!==null,`No resize element found for id "${n}"`);const g=s.shiftKey?h>0?h-1:a.length-1:h+1<a.length?h+1:0;a[g].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,n,t])}function Nn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:o,onClick:s,onDragging:l,onFocus:a,onPointerDown:h,onPointerUp:g,style:f={},tabIndex:u=0,tagName:b="div",...v}){var I,E;const P=c.useRef(null),A=c.useRef({onClick:s,onDragging:l,onPointerDown:h,onPointerUp:g});c.useEffect(()=>{A.current.onClick=s,A.current.onDragging=l,A.current.onPointerDown=h,A.current.onPointerUp=g});const M=c.useContext($e);if(M===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:q,registerResizeHandle:L,startDragging:C,stopDragging:B,panelGroupElement:Y}=M,G=qe(i),[F,D]=c.useState("inactive"),[ne,H]=c.useState(!1),[j,T]=c.useState(null),fe=c.useRef({state:F});ie(()=>{fe.current.state=F}),c.useEffect(()=>{if(t)T(null);else{const le=L(G);T(()=>le)}},[t,G,L]);const pe=(I=r==null?void 0:r.coarse)!==null&&I!==void 0?I:15,he=(E=r==null?void 0:r.fine)!==null&&E!==void 0?E:5;c.useEffect(()=>{if(t||j==null)return;const le=P.current;S(le,"Element ref not attached");let me=!1;return nt(G,le,_,{coarse:pe,fine:he},(y,w,m)=>{if(!w){D("inactive");return}switch(y){case"down":{D("drag"),me=!1,S(m,'Expected event to be defined for "down" action'),C(G,m);const{onDragging:p,onPointerDown:z}=A.current;p==null||p(!0),z==null||z();break}case"move":{const{state:p}=fe.current;me=!0,p!=="drag"&&D("hover"),S(m,'Expected event to be defined for "move" action'),j(m);break}case"up":{D("hover"),B();const{onClick:p,onDragging:z,onPointerUp:R}=A.current;z==null||z(!1),R==null||R(),me||p==null||p();break}}})},[pe,_,t,he,L,G,j,C,B]),gt({disabled:t,handleId:G,resizeHandler:j,panelGroupElement:Y});const we={touchAction:"none",userSelect:"none"};return c.createElement(b,{...v,children:e,className:n,id:i,onBlur:()=>{H(!1),o==null||o()},onFocus:()=>{H(!0),a==null||a()},ref:P,role:"separator",style:{...we,...f},tabIndex:u,[$.groupDirection]:_,[$.groupId]:q,[$.resizeHandle]:"",[$.resizeHandleActive]:F==="drag"?"pointer":ne?"keyboard":void 0,[$.resizeHandleEnabled]:!t,[$.resizeHandleId]:G,[$.resizeHandleState]:F})}Nn.displayName="PanelResizeHandle";function Ge(e){return e==null?void 0:e.split("/").pop()}const{useStoreSlice:_n,getStore:ke}=pn((e,n)=>({currentFilePath:null,serviceUrls:[],previewUrl:"",openPaths:{},addServiceUrl:t=>e({serviceUrls:[...n().serviceUrls,t]}),setPreviewUrl:t=>e({previewUrl:t}),removeServiceUrl:t=>e({serviceUrls:n().serviceUrls.filter(r=>r!==t)}),setCurrentFilePath:t=>{const r={...n().openPaths},i=Ge(t);i&&!(i in r)&&(r[i]=t),e({currentFilePath:t,openPaths:r})},addOpenPath:t=>e({openPaths:{...n().openPaths,[Ge(t)]:t}}),closeOpenPath:t=>{const r=n().currentFilePath,i={...n().openPaths};delete i[Ge(t)],e({openPaths:i,currentFilePath:r===t?Object.values(i).at(-1):r})}})),yt=W.iframe`
  margin: 0;
  flex: 1;
  width: 100%;
  height: 100%;
  border: none;
  outline: 0;
`,xt=W(be)`
  height: 100%;
`,vt=c.memo(function(){const{previewUrl:n}=_n("previewUrl");return x.jsx(xt,{$direction:Re.COLUMN,children:x.jsx(yt,{src:n})})}),Z="code",{useStoreSlice:zt,getStore:Ye}=pn((e,n)=>({container:null,isInitialized:!1,setInitialized(t){e({isInitialized:t})},async initContainer(){const{isInitialized:t}=n();if(t)return;e({isInitialized:!0});const{WebContainer:r}=await Be(async()=>{const{WebContainer:o}=await import("./index-Cy79dHj7.js");return{WebContainer:o}},[]),i=await r.boot();await i.mount({[Z]:{directory:{}}}),i.on("server-ready",(o,s)=>{const{addServiceUrl:l,setPreviewUrl:a}=ke();l(s),a(s)}),e({container:i})}}));async function St(e,n,t){return{file:{contents:await e.fs.readFile(`${n}/${t}`,"utf-8")}}}function cn(){return{directory:{}}}const un=["node_modules",".git"];function bt(e,n){return un.every(t=>!e.includes(t))&&un.includes(n)}const wt=Tn(async function(n){const{container:t}=Ye(),r={[Z]:cn()};if(!t)return r[Z];const i=async(o=Z,s)=>{const l=await t.fs.readdir(o,{withFileTypes:!0});for(const a of l){if(bt(o,a.name))continue;const h=await(a.isFile()?St(t,o,a.name):cn());s[a.name]=h,a.isDirectory()&&await i(`${o}/${a.name}`,h.directory)}};await i(Z,r[Z].directory),n(r[Z])},10);function Pt(e){return"directory"in e}function dn(e){return"file"in e}function Yt(e){return`${Z}/${e}`.replace(/^\/+/,"/")}function Zt(e){switch(e.split(".").pop()||""){case"js":return"javascript";case"jsx":return"jsx";case"ts":return"typescript";case"tsx":return"tsx";case"css":return"css";case"html":return"html";case"json":return"json";case"md":return"markdown";case"yml":case"yaml":return"yaml";case"vue":return"vue";default:return"plain"}}function Qt(e,n){const{container:t}=Ye();t&&t.fs.writeFile(e,n)}function Ct(e){return Ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Et(e){return Ve({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2 4.75C2 3.784 2.784 3 3.75 3h4.971c.58 0 1.12.286 1.447.765l1.404 2.063c.046.069.124.11.207.11h8.471c.966 0 1.75.783 1.75 1.75V19.25A1.75 1.75 0 0 1 20.25 21H3.75A1.75 1.75 0 0 1 2 19.25Z"},child:[]}]})(e)}const It=W(be)`
  width: 100%;
  overflow-x: auto;
  white-space: nowrap;
`,Rt=W(be)`
  & & {
    position: relative;
    padding-left: 1.5em;

    &::before {
      position: absolute;
      left: 0.3em;
      content: '';
      height: 100%;
      width: 0.1rem;
      background-color: var(--color-gray-4);
    }
  }
`,Lt=c.memo(function e(n){const{name:t,directoryNode:r,path:i}=n,{directory:o}=r||{directory:{}},[s,l]=c.useState(typeof t>"u"),a=c.useMemo(()=>Object.keys(o),[o]),h=c.useMemo(()=>a.sort((g,f)=>Pt(o[g])&&dn(o[f])?-1:Number(g)-Number(f)),[a,o]);return x.jsxs(It,{$direction:Re.COLUMN,children:[x.jsx(We,{type:"directory",name:t,path:i,expand:s,onClick:()=>l(!s)}),x.jsx(mn,{when:s&&h.length>0,children:()=>x.jsx(Rt,{$justifyContent:hn.START,$direction:Re.COLUMN,children:h.map(g=>dn(o[g])?x.jsx(We,{type:"file",name:g,path:i},g):x.jsx(e,{name:g,directoryNode:o[g],path:`${i}/${g}`},g))})})]})}),At=W.span`
  padding: 0.1em 0;
  display: flex;
  align-items: center;
  gap: 0.5em;
`,kt=W.span`
  width: 1em;
  height: 1em;
  transform: rotate(${({$expand:e})=>e?90:0}deg);
  transition: transform 300ms;
`;function We(e){const{type:n,name:t,expand:r,path:i,onClick:o}=e;return typeof t>"u"?null:x.jsxs(At,{onClick:s=>{if(s.stopPropagation(),n==="directory")return o==null?void 0:o(s);ke().setCurrentFilePath(`${i}/${t}`)},children:[x.jsx(mn,{when:n==="directory",children:()=>x.jsx(kt,{$expand:r,children:x.jsx(Gn,{})})}),x.jsx(On,{when:n==="directory",fullback:x.jsx(Ct,{}),children:()=>x.jsx(Et,{})}),x.jsx("span",{children:t})]})}const $t=W.section`
  box-sizing: border-box;
  padding: 0.5em;
  width: 100%;
  height: 100%;
  overflow: auto;
  white-space: nowrap;
`;function Dt(e){const{type:n,name:t,directory:r}=e;return x.jsx($t,{children:n==="file"?x.jsx(We,{type:n,name:t,path:t}):x.jsx(Lt,{directoryNode:r,path:""})})}const Mt=W.aside`
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: 1fr;
  height: 100%;
  overflow: auto;
  transition: grid-template-columns 300ms;
`,Nt=c.memo(function(){const{container:n}=zt("container"),[t,r]=c.useState(null);return c.useEffect(()=>{if(!n)return;const i=n.fs.watch(Z,{recursive:!0,persistent:!0},o=>{o==="rename"&&wt(s=>{r(s)})});return()=>i.close()},[n]),x.jsx(Mt,{children:x.jsx(be,{$direction:Re.COLUMN,children:t&&x.jsx(Dt,{name:"",type:"directory",directory:t})})})});function _t(e){return Ve({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}const jt=W(be)`
  padding: 0 0.5em;
  width: 100%;
  height: 100%;
  overflow-x: auto;
  white-space: nowrap;

  &::-webkit-scrollbar {
    height: 0;
  }
`,Ht=W.section`
  position: relative;
  box-sizing: border-box;
  padding: 0 0.5em;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 80%;
  transition: background 300ms;

  ${({$isActive:e})=>e?`
          background-color: var(--color-gray-8);

          &::before{
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 0.2rem;
            content: '';
            background-color: var(--color-active);
          }
        `:""}
`,Ft=W(_t)`
  margin-left: 0.5em;
  cursor: pointer;
  border-radius: 0.2em;
  transform: translateY(0.1rem);
  transition: background 300ms;

  &:hover {
    background-color: var(--color-gray-7);
  }
`,Tt=c.memo(function(){const{openPaths:n,currentFilePath:t}=_n(["openPaths","currentFilePath"]);return x.jsx(jt,{$alignItems:Un.CENTER,$justifyContent:hn.START,children:Object.entries(n).map(([r,i])=>{const o=i===t;return x.jsxs(Ht,{$isActive:o,onClick:()=>ke().setCurrentFilePath(i),children:[x.jsx("span",{children:r}),x.jsx(Ft,{onClick:s=>{s.stopPropagation(),ke().closeOpenPath(i)}})]},i)})})}),Ut=c.lazy(()=>Be(()=>import("./monaco-B3Re3ocI.js").then(e=>e.a),__vite__mapDeps([0,1,2,3,4]))),Gt=c.lazy(()=>Be(()=>import("./terminal-DxrjeMSv.js"),__vite__mapDeps([5,1,2,6,7,8,9,10,11]))),fn=W(Mn)`
  height: 100%;
  background-color: #252525;
  color: #fff;
`,Ee=W(Nn)`
  background-color: var(--color-gray-8);

  ${({direction:e})=>e==="horizontal"?{width:"0.2rem",height:"100%"}:{width:"100%",height:"0.2rem"}}

  &:hover {
    background-color: var(--color-hover);
  }
`;function Ot(){const e=c.useRef(null);c.useEffect(()=>{const{initContainer:t}=Ye();t()},[]);const n=c.useCallback(()=>{var t;(t=e.current)==null||t.terminalResize()},[]);return x.jsxs(fn,{direction:"horizontal",children:[x.jsx(re,{minSize:1,defaultSize:15,children:x.jsx(Nt,{})}),x.jsx(Ee,{direction:"horizontal"}),x.jsx(re,{defaultSize:60,children:x.jsxs(fn,{direction:"vertical",onLayout:n,children:[x.jsx(re,{minSize:4,maxSize:4,defaultSize:4,children:x.jsx(Tt,{})}),x.jsx(Ee,{direction:"vertical"}),x.jsx(re,{children:x.jsx(Ut,{})}),x.jsx(Ee,{direction:"vertical"}),x.jsx(re,{defaultSize:30,children:x.jsx(Gt,{ref:e})})]})}),x.jsx(Ee,{direction:"horizontal"}),x.jsx(re,{minSize:30,children:x.jsx(vt,{})})]})}const Wt={title:"工作区"},er=Object.freeze(Object.defineProperty({__proto__:null,Component:Ot,handle:Wt},Symbol.toStringTag,{value:"Module"}));export{Z as D,Zt as a,ke as b,Qt as c,zt as d,Ye as g,er as p,Yt as r,_n as u};
