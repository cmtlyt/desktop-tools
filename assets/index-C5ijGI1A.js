import{r as n,U as Ie,as as Re,p as ne,g as S,a6 as Me,N as ce,ah as fe,V as R,Q as ve,a8 as ge,Y as ue,a9 as G,at as _e}from"./index-DQDweXBU.js";import{r as ze,C as Ke,s as he}from"./index-CDuiiMYe.js";import{K as ie,g as Le,m as He,u as We,z as Te}from"./asyncToGenerator-NVUWeNDe.js";import{p as de}from"./pickAttrs-BULR2qSE.js";import{u as Ae}from"./context-CbiM1_mg.js";import{u as Be,p as be,S as Fe}from"./Skeleton-C7lJET8s.js";function dt(e){return Array.isArray(e)?e.slice().reverse():[]}var pe=n.createContext(null),we=n.createContext({}),Ve=["prefixCls","className","containerRef"],Ue=function(t){var o=t.prefixCls,a=t.className,r=t.containerRef,i=Ie(t,Ve),c=n.useContext(we),d=c.panel,g=Re(d,r);return n.createElement("div",ne({className:S("".concat(o,"-content"),a),role:"dialog",ref:g},de(t,{aria:!0}),{"aria-modal":"true"},i))};function ye(e){return typeof e=="string"&&String(Number(e))===e?(Me(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Ce={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Xe(e,t){var o,a,r,i=e.prefixCls,c=e.open,d=e.placement,g=e.inline,p=e.push,k=e.forceRender,h=e.autoFocus,E=e.keyboard,l=e.classNames,f=e.rootClassName,s=e.rootStyle,D=e.zIndex,P=e.className,j=e.id,N=e.style,w=e.motion,b=e.width,y=e.height,C=e.children,O=e.mask,z=e.maskClosable,I=e.maskMotion,q=e.maskClassName,B=e.maskStyle,L=e.afterOpenChange,K=e.onClose,H=e.onMouseEnter,Z=e.onMouseOver,Q=e.onMouseLeave,F=e.onClick,J=e.onKeyDown,ee=e.onKeyUp,m=e.styles,M=e.drawerRender,$=n.useRef(),_=n.useRef(),W=n.useRef();n.useImperativeHandle(t,function(){return $.current});var ae=function(x){var U=x.keyCode,X=x.shiftKey;switch(U){case ie.TAB:{if(U===ie.TAB){if(!X&&document.activeElement===W.current){var Y;(Y=_.current)===null||Y===void 0||Y.focus({preventScroll:!0})}else if(X&&document.activeElement===_.current){var le;(le=W.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{K&&E&&(x.stopPropagation(),K(x));break}}};n.useEffect(function(){if(c&&h){var u;(u=$.current)===null||u===void 0||u.focus({preventScroll:!0})}},[c]);var oe=n.useState(!1),re=ce(oe,2),te=re[0],V=re[1],v=n.useContext(pe),se;typeof p=="boolean"?se=p?{}:{distance:0}:se=p||{};var T=(o=(a=(r=se)===null||r===void 0?void 0:r.distance)!==null&&a!==void 0?a:v==null?void 0:v.pushDistance)!==null&&o!==void 0?o:180,$e=n.useMemo(function(){return{pushDistance:T,push:function(){V(!0)},pull:function(){V(!1)}}},[T]);n.useEffect(function(){if(c){var u;v==null||(u=v.push)===null||u===void 0||u.call(v)}else{var x;v==null||(x=v.pull)===null||x===void 0||x.call(v)}},[c]),n.useEffect(function(){return function(){var u;v==null||(u=v.pull)===null||u===void 0||u.call(v)}},[]);var Ee=O&&n.createElement(fe,ne({key:"mask"},I,{visible:c}),function(u,x){var U=u.className,X=u.style;return n.createElement("div",{className:S("".concat(i,"-mask"),U,l==null?void 0:l.mask,q),style:R(R(R({},X),B),m==null?void 0:m.mask),onClick:z&&c?K:void 0,ref:x})}),De=typeof w=="function"?w(d):w,A={};if(te&&T)switch(d){case"top":A.transform="translateY(".concat(T,"px)");break;case"bottom":A.transform="translateY(".concat(-T,"px)");break;case"left":A.transform="translateX(".concat(T,"px)");break;default:A.transform="translateX(".concat(-T,"px)");break}d==="left"||d==="right"?A.width=ye(b):A.height=ye(y);var Pe={onMouseEnter:H,onMouseOver:Z,onMouseLeave:Q,onClick:F,onKeyDown:J,onKeyUp:ee},je=n.createElement(fe,ne({key:"panel"},De,{visible:c,forceRender:k,onVisibleChanged:function(x){L==null||L(x)},removeOnLeave:!1,leavedClassName:"".concat(i,"-content-wrapper-hidden")}),function(u,x){var U=u.className,X=u.style,Y=n.createElement(Ue,ne({id:j,containerRef:x,prefixCls:i,className:S(P,l==null?void 0:l.content),style:R(R({},N),m==null?void 0:m.content)},de(e,{aria:!0}),Pe),C);return n.createElement("div",ne({className:S("".concat(i,"-content-wrapper"),l==null?void 0:l.wrapper,U),style:R(R(R({},A),X),m==null?void 0:m.wrapper)},de(e,{data:!0})),M?M(Y):Y)}),me=R({},s);return D&&(me.zIndex=D),n.createElement(pe.Provider,{value:$e},n.createElement("div",{className:S(i,"".concat(i,"-").concat(d),f,ve(ve({},"".concat(i,"-open"),c),"".concat(i,"-inline"),g)),style:me,tabIndex:-1,ref:$,onKeyDown:ae},Ee,n.createElement("div",{tabIndex:0,ref:_,style:Ce,"aria-hidden":"true","data-sentinel":"start"}),je,n.createElement("div",{tabIndex:0,ref:W,style:Ce,"aria-hidden":"true","data-sentinel":"end"})))}var Ye=n.forwardRef(Xe),Ge=function(t){var o=t.open,a=o===void 0?!1:o,r=t.prefixCls,i=r===void 0?"rc-drawer":r,c=t.placement,d=c===void 0?"right":c,g=t.autoFocus,p=g===void 0?!0:g,k=t.keyboard,h=k===void 0?!0:k,E=t.width,l=E===void 0?378:E,f=t.mask,s=f===void 0?!0:f,D=t.maskClosable,P=D===void 0?!0:D,j=t.getContainer,N=t.forceRender,w=t.afterOpenChange,b=t.destroyOnClose,y=t.onMouseEnter,C=t.onMouseOver,O=t.onMouseLeave,z=t.onClick,I=t.onKeyDown,q=t.onKeyUp,B=t.panelRef,L=n.useState(!1),K=ce(L,2),H=K[0],Z=K[1],Q=n.useState(!1),F=ce(Q,2),J=F[0],ee=F[1];ge(function(){ee(!0)},[]);var m=J?a:!1,M=n.useRef(),$=n.useRef();ge(function(){m&&($.current=document.activeElement)},[m]);var _=function(te){var V;if(Z(te),w==null||w(te),!te&&$.current&&!((V=M.current)!==null&&V!==void 0&&V.contains($.current))){var v;(v=$.current)===null||v===void 0||v.focus({preventScroll:!0})}},W=n.useMemo(function(){return{panel:B}},[B]);if(!N&&!H&&!m&&b)return null;var ae={onMouseEnter:y,onMouseOver:C,onMouseLeave:O,onClick:z,onKeyDown:I,onKeyUp:q},oe=R(R({},t),{},{open:m,prefixCls:i,placement:d,autoFocus:p,keyboard:h,width:l,mask:s,maskClosable:P,inline:j===!1,afterOpenChange:_,ref:M},ae);return n.createElement(we.Provider,{value:W},n.createElement(ze,{open:m||N||H,autoDestroy:!1,getContainer:j,autoLock:s&&(m||H)},n.createElement(Ye,oe)))};const xe=e=>{var t,o;const{prefixCls:a,title:r,footer:i,extra:c,loading:d,onClose:g,headerStyle:p,bodyStyle:k,footerStyle:h,children:E,classNames:l,styles:f}=e,{drawer:s}=n.useContext(ue),D=n.useCallback(b=>n.createElement("button",{type:"button",onClick:g,"aria-label":"Close",className:`${a}-close`},b),[g]),[P,j]=Be(be(e),be(s),{closable:!0,closeIconRender:D}),N=n.useMemo(()=>{var b,y;return!r&&!P?null:n.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(b=s==null?void 0:s.styles)===null||b===void 0?void 0:b.header),p),f==null?void 0:f.header),className:S(`${a}-header`,{[`${a}-header-close-only`]:P&&!r&&!c},(y=s==null?void 0:s.classNames)===null||y===void 0?void 0:y.header,l==null?void 0:l.header)},n.createElement("div",{className:`${a}-header-title`},j,r&&n.createElement("div",{className:`${a}-title`},r)),c&&n.createElement("div",{className:`${a}-extra`},c))},[P,j,c,p,a,r]),w=n.useMemo(()=>{var b,y;if(!i)return null;const C=`${a}-footer`;return n.createElement("div",{className:S(C,(b=s==null?void 0:s.classNames)===null||b===void 0?void 0:b.footer,l==null?void 0:l.footer),style:Object.assign(Object.assign(Object.assign({},(y=s==null?void 0:s.styles)===null||y===void 0?void 0:y.footer),h),f==null?void 0:f.footer)},i)},[i,h,a]);return n.createElement(n.Fragment,null,N,n.createElement("div",{className:S(`${a}-body`,l==null?void 0:l.body,(t=s==null?void 0:s.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(o=s==null?void 0:s.styles)===null||o===void 0?void 0:o.body),k),f==null?void 0:f.body)},d?n.createElement(Fe,{active:!0,title:!1,paragraph:{rows:5},className:`${a}-body-skeleton`}):E),w)},qe=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},Se=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),ke=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},Se({opacity:e},{opacity:1})),Ze=(e,t)=>[ke(.7,t),Se({transform:qe(e)},{transform:"none"})],Qe=e=>{const{componentCls:t,motionDurationSlow:o}=e;return{[t]:{[`${t}-mask-motion`]:ke(0,o),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((a,r)=>Object.assign(Object.assign({},a),{[`&-${r}`]:Ze(r,o)}),{})}}},Je=e=>{const{borderRadiusSM:t,componentCls:o,zIndexPopup:a,colorBgMask:r,colorBgElevated:i,motionDurationSlow:c,motionDurationMid:d,paddingXS:g,padding:p,paddingLG:k,fontSizeLG:h,lineHeightLG:E,lineWidth:l,lineType:f,colorSplit:s,marginXS:D,colorIcon:P,colorIconHover:j,colorBgTextHover:N,colorBgTextActive:w,colorText:b,fontWeightStrong:y,footerPaddingBlock:C,footerPaddingInline:O,calc:z}=e,I=`${o}-content-wrapper`;return{[o]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none",color:b,"&-pure":{position:"relative",background:i,display:"flex",flexDirection:"column",[`&${o}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${o}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${o}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${o}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${o}-mask`]:{position:"absolute",inset:0,zIndex:a,background:r,pointerEvents:"auto"},[I]:{position:"absolute",zIndex:a,maxWidth:"100vw",transition:`all ${c}`,"&-hidden":{display:"none"}},[`&-left > ${I}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${I}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${I}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${I}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${o}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${o}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${G(p)} ${G(k)}`,fontSize:h,lineHeight:E,borderBottom:`${G(l)} ${f} ${s}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${o}-extra`]:{flex:"none"},[`${o}-close`]:Object.assign({display:"inline-flex",width:z(h).add(g).equal(),height:z(h).add(g).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:D,color:P,fontWeight:y,fontSize:h,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${d}`,textRendering:"auto","&:hover":{color:j,backgroundColor:N,textDecoration:"none"},"&:active":{backgroundColor:w}},_e(e)),[`${o}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:h,lineHeight:E},[`${o}-body`]:{flex:1,minWidth:0,minHeight:0,padding:k,overflow:"auto",[`${o}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${o}-footer`]:{flexShrink:0,padding:`${G(C)} ${G(O)}`,borderTop:`${G(l)} ${f} ${s}`},"&-rtl":{direction:"rtl"}}}},et=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),Ne=Le("Drawer",e=>{const t=He(e,{});return[Je(t),Qe(t)]},et);var Oe=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]]);return o};const tt={distance:180},nt=e=>{const{rootClassName:t,width:o,height:a,size:r="default",mask:i=!0,push:c=tt,open:d,afterOpenChange:g,onClose:p,prefixCls:k,getContainer:h,style:E,className:l,visible:f,afterVisibleChange:s,maskStyle:D,drawerStyle:P,contentWrapperStyle:j}=e,N=Oe(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:w,getPrefixCls:b,direction:y,drawer:C}=n.useContext(ue),O=b("drawer",k),[z,I,q]=Ne(O),B=h===void 0&&w?()=>w(document.body):h,L=S({"no-mask":!i,[`${O}-rtl`]:y==="rtl"},t,I,q),K=n.useMemo(()=>o??(r==="large"?736:378),[o,r]),H=n.useMemo(()=>a??(r==="large"?736:378),[a,r]),Z={motionName:he(O,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Q=W=>({motionName:he(O,`panel-motion-${W}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),F=Ae(),[J,ee]=We("Drawer",N.zIndex),{classNames:m={},styles:M={}}=N,{classNames:$={},styles:_={}}=C||{};return z(n.createElement(Ke,{form:!0,space:!0},n.createElement(Te.Provider,{value:ee},n.createElement(Ge,Object.assign({prefixCls:O,onClose:p,maskMotion:Z,motion:Q},N,{classNames:{mask:S(m.mask,$.mask),content:S(m.content,$.content),wrapper:S(m.wrapper,$.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},M.mask),D),_.mask),content:Object.assign(Object.assign(Object.assign({},M.content),P),_.content),wrapper:Object.assign(Object.assign(Object.assign({},M.wrapper),j),_.wrapper)},open:d??f,mask:i,push:c,width:K,height:H,style:Object.assign(Object.assign({},C==null?void 0:C.style),E),className:S(C==null?void 0:C.className,l),rootClassName:L,getContainer:B,afterOpenChange:g??s,panelRef:F,zIndex:J}),n.createElement(xe,Object.assign({prefixCls:O},N,{onClose:p}))))))},at=e=>{const{prefixCls:t,style:o,className:a,placement:r="right"}=e,i=Oe(e,["prefixCls","style","className","placement"]),{getPrefixCls:c}=n.useContext(ue),d=c("drawer",t),[g,p,k]=Ne(d),h=S(d,`${d}-pure`,`${d}-${r}`,p,k,a);return g(n.createElement("div",{className:h,style:o},n.createElement(xe,Object.assign({prefixCls:d},i))))};nt._InternalPanelDoNotUseOrYouWillBeFired=at;export{nt as D,dt as r};
