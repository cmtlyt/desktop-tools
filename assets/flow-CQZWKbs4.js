import{C as Ie,D as ze,E as Fe,G as Oe,x as Re,H as xe,z as V,y as Ae}from"./index-B1jaddfb.js";import{r as Y,H as Ce,R as ke}from"./index-CCpgtL37.js";const Te={BASE_URL:"/desktop-tools/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},ee=e=>{let t;const r=new Set,n=(y,S)=>{const p=typeof y=="function"?y(t):y;if(!Object.is(p,t)){const _=t;t=S??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(m=>m(t,_))}},o=()=>t,l={setState:n,getState:o,getInitialState:()=>d,subscribe:y=>(r.add(y),()=>r.delete(y)),destroy:()=>{(Te?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,o,l);return l},Me=e=>e?ee(e):ee;var ce={exports:{}},ae={},fe={exports:{}},le={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I=Y;function He(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $e=typeof Object.is=="function"?Object.is:He,Le=I.useState,Ne=I.useEffect,je=I.useLayoutEffect,Ue=I.useDebugValue;function We(e,t){var r=t(),n=Le({inst:{value:r,getSnapshot:t}}),o=n[0].inst,i=n[1];return je(function(){o.value=r,o.getSnapshot=t,N(o)&&i({inst:o})},[e,r,t]),Ne(function(){return N(o)&&i({inst:o}),e(function(){N(o)&&i({inst:o})})},[e]),Ue(r),r}function N(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$e(e,r)}catch{return!0}}function Be(e,t){return t()}var Je=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Be:We;le.useSyncExternalStore=I.useSyncExternalStore!==void 0?I.useSyncExternalStore:Je;fe.exports=le;var Ke=fe.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T=Y,qe=Ke;function Ge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xe=typeof Object.is=="function"?Object.is:Ge,Ye=qe.useSyncExternalStore,Qe=T.useRef,Ze=T.useEffect,Ve=T.useMemo,et=T.useDebugValue;ae.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var i=Qe(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Ve(function(){function l(_){if(!d){if(d=!0,y=_,_=n(_),o!==void 0&&s.hasValue){var m=s.value;if(o(m,_))return S=m}return S=_}if(m=S,Xe(y,_))return m;var f=n(_);return o!==void 0&&o(m,f)?m:(y=_,S=f)}var d=!1,y,S,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,o]);var u=Ye(e,i[0],i[1]);return Ze(function(){s.hasValue=!0,s.value=u},[u]),et(u),u};ce.exports=ae;var tt=ce.exports;const rt=Ce(tt),de={BASE_URL:"/desktop-tools/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:nt}=ke,{useSyncExternalStoreWithSelector:ot}=rt;let te=!1;const it=e=>e;function st(e,t=it,r){(de?"production":void 0)!=="production"&&r&&!te&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),te=!0);const n=ot(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return nt(n),n}const re=e=>{(de?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Me(e):e,r=(n,o)=>st(t,n,o);return Object.assign(r,t),r},_e=e=>e?re(e):re;function ye(e){const t=Y.useRef({});return r=>{if(!r)return t.current;const n=Ie(r,e);return ze(t.current,n)?t.current:t.current=n}}const me=_e(e=>({messageInfo:null,showMessage:t=>e({messageInfo:t})})),It=e=>me(ye(e));function zt(){return me.getState()}const ut={BASE_URL:"/desktop-tools/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function he(e,t){let r;try{r=e()}catch{return}return{getItem:o=>{var i;const s=l=>l===null?null:JSON.parse(l,void 0),u=(i=r.getItem(o))!=null?i:null;return u instanceof Promise?u.then(s):s(u)},setItem:(o,i)=>r.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>r.removeItem(o)}}const O=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return O(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return O(n)(r)}}}},ct=(e,t)=>(r,n,o)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:a=>a,version:0,merge:(a,h)=>({...h,...a}),...t},s=!1;const u=new Set,l=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...a)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...a)},n,o);const y=O(i.serialize),S=()=>{const a=i.partialize({...n()});let h;const c=y({state:a,version:i.version}).then(w=>d.setItem(i.name,w)).catch(w=>{h=w});if(h)throw h;return c},p=o.setState;o.setState=(a,h)=>{p(a,h),S()};const _=e((...a)=>{r(...a),S()},n,o);let m;const f=()=>{var a;if(!d)return;s=!1,u.forEach(c=>c(n()));const h=((a=i.onRehydrateStorage)==null?void 0:a.call(i,n()))||void 0;return O(d.getItem.bind(d))(i.name).then(c=>{if(c)return i.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return i.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var w;return m=i.merge(c,(w=n())!=null?w:_),r(m,!0),S()}).then(()=>{h==null||h(m,void 0),s=!0,l.forEach(c=>c(m))}).catch(c=>{h==null||h(void 0,c)})};return o.persist={setOptions:a=>{i={...i,...a},a.getStorage&&(d=a.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>s,onHydrate:a=>(u.add(a),()=>{u.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},f(),m||_},at=(e,t)=>(r,n,o)=>{let i={storage:he(()=>localStorage),partialize:f=>f,version:0,merge:(f,a)=>({...a,...f}),...t},s=!1;const u=new Set,l=new Set;let d=i.storage;if(!d)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...f)},n,o);const y=()=>{const f=i.partialize({...n()});return d.setItem(i.name,{state:f,version:i.version})},S=o.setState;o.setState=(f,a)=>{S(f,a),y()};const p=e((...f)=>{r(...f),y()},n,o);o.getInitialState=()=>p;let _;const m=()=>{var f,a;if(!d)return;s=!1,u.forEach(c=>{var w;return c((w=n())!=null?w:p)});const h=((a=i.onRehydrateStorage)==null?void 0:a.call(i,(f=n())!=null?f:p))||void 0;return O(d.getItem.bind(d))(i.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return[!0,i.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var w;const[De,be]=c;if(_=i.merge(be,(w=n())!=null?w:p),r(_,!0),De)return y()}).then(()=>{h==null||h(_,void 0),_=n(),s=!0,l.forEach(c=>c(_))}).catch(c=>{h==null||h(void 0,c)})};return o.persist={setOptions:f=>{i={...i,...f},f.storage&&(d=f.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:f=>(u.add(f),()=>{u.delete(f)}),onFinishHydration:f=>(l.add(f),()=>{l.delete(f)})},i.skipHydration||m(),_||p},ft=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ut?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ct(e,t)):at(e,t),lt=ft;var pe=Symbol.for("immer-nothing"),ne=Symbol.for("immer-draftable"),v=Symbol.for("immer-state");function E(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var z=Object.getPrototypeOf;function F(e){return!!e&&!!e[v]}function D(e){var t;return e?Se(e)||Array.isArray(e)||!!e[ne]||!!((t=e.constructor)!=null&&t[ne])||H(e)||$(e):!1}var dt=Object.prototype.constructor.toString();function Se(e){if(!e||typeof e!="object")return!1;const t=z(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dt}function A(e,t){M(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function M(e){const t=e[v];return t?t.type_:Array.isArray(e)?1:H(e)?2:$(e)?3:0}function B(e,t){return M(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ve(e,t,r){const n=M(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function _t(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function H(e){return e instanceof Map}function $(e){return e instanceof Set}function P(e){return e.copy_||e.base_}function J(e,t){if(H(e))return new Map(e);if($(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Se(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[v];let o=Reflect.ownKeys(n);for(let i=0;i<o.length;i++){const s=o[i],u=n[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[s]})}return Object.create(z(e),n)}else{const n=z(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function Q(e,t=!1){return L(e)||F(e)||!D(e)||(M(e)>1&&(e.set=e.add=e.clear=e.delete=yt),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Q(n,!0))),e}function yt(){E(2)}function L(e){return Object.isFrozen(e)}var mt={};function b(e){const t=mt[e];return t||E(0,e),t}var R;function ge(){return R}function ht(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oe(e,t){t&&(b("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function K(e){q(e),e.drafts_.forEach(pt),e.drafts_=null}function q(e){e===R&&(R=e.parent_)}function ie(e){return R=ht(R,e)}function pt(e){const t=e[v];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function se(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[v].modified_&&(K(t),E(4)),D(e)&&(e=C(t,e),t.parent_||k(t,e)),t.patches_&&b("Patches").generateReplacementPatches_(r[v].base_,e,t.patches_,t.inversePatches_)):e=C(t,r,[]),K(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pe?e:void 0}function C(e,t,r){if(L(t))return t;const n=t[v];if(!n)return A(t,(o,i)=>ue(e,n,t,o,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return k(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),A(i,(u,l)=>ue(e,n,o,u,l,r,s)),k(e,o,!1),r&&e.patches_&&b("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function ue(e,t,r,n,o,i,s){if(F(o)){const u=i&&t&&t.type_!==3&&!B(t.assigned_,n)?i.concat(n):void 0,l=C(e,o,u);if(ve(r,n,l),F(l))e.canAutoFreeze_=!1;else return}else s&&r.add(o);if(D(o)&&!L(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;C(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&k(e,o)}}function k(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Q(t,r)}function St(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ge(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=Z;r&&(o=[n],i=x);const{revoke:s,proxy:u}=Proxy.revocable(o,i);return n.draft_=u,n.revoke_=s,u}var Z={get(e,t){if(t===v)return e;const r=P(e);if(!B(r,t))return vt(e,r,t);const n=r[t];return e.finalized_||!D(n)?n:n===j(e.base_,t)?(U(e),e.copy_[t]=X(n,e)):n},has(e,t){return t in P(e)},ownKeys(e){return Reflect.ownKeys(P(e))},set(e,t,r){const n=we(P(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=j(P(e),t),i=o==null?void 0:o[v];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_t(r,o)&&(r!==void 0||B(e.base_,t)))return!0;U(e),G(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return j(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,U(e),G(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=P(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){E(11)},getPrototypeOf(e){return z(e.base_)},setPrototypeOf(){E(12)}},x={};A(Z,(e,t)=>{x[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});x.deleteProperty=function(e,t){return x.set.call(this,e,t,void 0)};x.set=function(e,t,r){return Z.set.call(this,e[0],t,r,e[0])};function j(e,t){const r=e[v];return(r?P(r):e)[t]}function vt(e,t,r){var o;const n=we(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function we(e,t){if(!(t in e))return;let r=z(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=z(r)}}function G(e){e.modified_||(e.modified_=!0,e.parent_&&G(e.parent_))}function U(e){e.copy_||(e.copy_=J(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...d){return s.produce(l,y=>r.call(this,y,...d))}}typeof r!="function"&&E(6),n!==void 0&&typeof n!="function"&&E(7);let o;if(D(t)){const i=ie(this),s=X(t,void 0);let u=!0;try{o=r(s),u=!1}finally{u?K(i):q(i)}return oe(i,n),se(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===pe&&(o=void 0),this.autoFreeze_&&Q(o,!0),n){const i=[],s=[];b("Patches").generateReplacementPatches_(t,o,i,s),n(i,s)}return o}else E(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...u)=>this.produceWithPatches(s,l=>t(l,...u));let n,o;return[this.produce(t,r,(s,u)=>{n=s,o=u}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){D(e)||E(8),F(e)&&(e=wt(e));const t=ie(this),r=X(e,void 0);return r[v].isManual_=!0,q(t),r}finishDraft(e,t){const r=e&&e[v];(!r||!r.isManual_)&&E(9);const{scope_:n}=r;return oe(n,t),se(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=b("Patches").applyPatches_;return F(e)?n(e,t):this.produce(e,o=>n(o,t))}};function X(e,t){const r=H(e)?b("MapSet").proxyMap_(e,t):$(e)?b("MapSet").proxySet_(e,t):St(e,t);return(t?t.scope_:ge()).drafts_.push(r),r}function wt(e){return F(e)||E(10,e),Ee(e)}function Ee(e){if(!D(e)||L(e))return e;const t=e[v];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=J(e,t.scope_.immer_.useStrictShallowCopy_)}else r=J(e,!0);return A(r,(n,o)=>{ve(r,n,Ee(o))}),t&&(t.finalized_=!1),r}var g=new gt,W=g.produce;g.produceWithPatches.bind(g);g.setAutoFreeze.bind(g);g.setUseStrictShallowCopy.bind(g);g.applyPatches.bind(g);g.createDraft.bind(g);g.finishDraft.bind(g);const Et={getItem:Re,async setItem(e,t){await xe(e,t),V()},async removeItem(e){await Ae(e),V()}},Pt=e=>({addFlow:t=>{e(r=>W(r,n=>{const o={...t,id:`local-${Oe(16)}`,creator:"test",account:t.amountDistributions[0].account,amount:String(t.amountDistributions.reduce((i,s)=>i+ +s.amount,0)),createTime:new Date().toLocaleString(),updateTime:new Date().toLocaleString()};n.flows.unshift(o)}))},updateFlow:(t,r)=>{e(n=>W(n,o=>{const i=o.flows.findIndex(s=>s.id===t);i<0||o.flows.splice(i,1,{...o.flows[i],...r,id:o.flows[i].id,amount:String(r.amountDistributions.reduce((s,u)=>s+ +u.amount,0)),updateTime:new Date().toLocaleString()})}))},deleteFlow:t=>{e(r=>W(r,n=>{n.flows.splice(n.flows.findIndex(o=>o.id===t),1)}))}}),Pe=_e(lt((e,t)=>({flows:[],...Pt(e)}),{name:Fe,storage:he(()=>Et)})),Ft=e=>Pe(ye(e)),Ot=()=>Pe.getState();export{ye as a,zt as b,_e as c,Ft as d,Ot as g,It as u};
