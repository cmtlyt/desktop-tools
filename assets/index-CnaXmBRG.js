import{r as a,_ as oe,a as De,b as ye,c as re,d as Ne,R,C as rt,e as Be,f as ge,g as ae,h as st,i as at,j as $e,k as it,l as ct,m as lt,n as ut,o as ft,p as dt,q as mt,s as gt,u as Ge,w as vt,t as pt,v as Ae,x as N,O as ht}from"./index-DxoghkTl.js";import{d as K,F as yt,a as we,l as xe,b as ue,S as Oe,u as be,g as Ue,c as Ce,e as xt,f as Ct}from"./index-IY_eViHJ.js";import{G as Xe}from"./iconBase-4EpsQ8do.js";import{S as bt}from"./index-D9GgxVnM.js";import{u as St}from"./use-navigate-Bs0hQwNV.js";import{L as Et}from"./index-DxhQp46c.js";import{T as kt}from"./index-CiX_HdoE.js";import{A as Nt}from"./index-BGtdLWsf.js";import{r as wt}from"./render-sRR_tWA-.js";import{u as Ke,R as $t,a as At,b as Ot,c as jt}from"./LoadingOutlined-CMzeasex.js";import{R as Rt}from"./InfoCircleFilled-D6yDLrJw.js";import{K as Mt,g as It,m as Pt,a as Re,C as Lt}from"./asyncToGenerator-BnBe-SRU.js";import{p as Ft,R as _t}from"./pickAttrs-BvTa_dZH.js";import{S as Tt}from"./index-BgEjhUnq.js";import{W as Wt}from"./context-C6yg_iBW.js";import"./index-FCVL0ZV9.js";var Ye=a.forwardRef(function(e,t){var o=e.prefixCls,n=e.style,r=e.className,s=e.duration,i=s===void 0?4.5:s,u=e.showProgress,c=e.pauseOnHover,l=c===void 0?!0:c,y=e.eventKey,v=e.content,p=e.closable,m=e.closeIcon,h=m===void 0?"x":m,g=e.props,C=e.onClick,F=e.onNoticeClose,_=e.times,w=e.hovering,A=a.useState(!1),k=oe(A,2),x=k[0],M=k[1],d=a.useState(0),f=oe(d,2),E=f[0],b=f[1],I=a.useState(0),T=oe(I,2),P=T[0],ee=T[1],$=w||x,G=i>0&&u,Y=function(){F(y)},ne=function(S){(S.key==="Enter"||S.code==="Enter"||S.keyCode===Mt.ENTER)&&Y()};a.useEffect(function(){if(!$&&i>0){var z=Date.now()-P,S=setTimeout(function(){Y()},i*1e3-P);return function(){l&&clearTimeout(S),ee(Date.now()-z)}}},[i,$,_]),a.useEffect(function(){if(!$&&G&&(l||P===0)){var z=performance.now(),S,H=function ie(){cancelAnimationFrame(S),S=requestAnimationFrame(function(se){var Q=se+P-z,te=Math.min(Q/(i*1e3),1);b(te*100),te<1&&ie()})};return H(),function(){l&&cancelAnimationFrame(S)}}},[i,P,$,G,_]);var q=a.useMemo(function(){return De(p)==="object"&&p!==null?p:p?{closeIcon:h}:{}},[p,h]),X=Ft(q,!0),U=100-(!E||E<0?0:E>100?100:E),W="".concat(o,"-notice");return a.createElement("div",ye({},g,{ref:t,className:re(W,r,Ne({},"".concat(W,"-closable"),p)),style:n,onMouseEnter:function(S){var H;M(!0),g==null||(H=g.onMouseEnter)===null||H===void 0||H.call(g,S)},onMouseLeave:function(S){var H;M(!1),g==null||(H=g.onMouseLeave)===null||H===void 0||H.call(g,S)},onClick:C}),a.createElement("div",{className:"".concat(W,"-content")},v),p&&a.createElement("a",ye({tabIndex:0,className:"".concat(W,"-close"),onKeyDown:ne,"aria-label":"Close"},X,{onClick:function(S){S.preventDefault(),S.stopPropagation(),Y()}}),q.closeIcon),G&&a.createElement("progress",{className:"".concat(W,"-progress"),max:"100",value:U},U+"%"))}),Ve=R.createContext({}),Ht=function(t){var o=t.children,n=t.classNames;return R.createElement(Ve.Provider,{value:{classNames:n}},o)},Me=8,Ie=3,Pe=16,zt=function(t){var o={offset:Me,threshold:Ie,gap:Pe};if(t&&De(t)==="object"){var n,r,s;o.offset=(n=t.offset)!==null&&n!==void 0?n:Me,o.threshold=(r=t.threshold)!==null&&r!==void 0?r:Ie,o.gap=(s=t.gap)!==null&&s!==void 0?s:Pe}return[!!t,o]},Dt=["className","style","classNames","styles"],Bt=function(t){var o=t.configList,n=t.placement,r=t.prefixCls,s=t.className,i=t.style,u=t.motion,c=t.onAllNoticeRemoved,l=t.onNoticeClose,y=t.stack,v=a.useContext(Ve),p=v.classNames,m=a.useRef({}),h=a.useState(null),g=oe(h,2),C=g[0],F=g[1],_=a.useState([]),w=oe(_,2),A=w[0],k=w[1],x=o.map(function($){return{config:$,key:String($.key)}}),M=zt(y),d=oe(M,2),f=d[0],E=d[1],b=E.offset,I=E.threshold,T=E.gap,P=f&&(A.length>0||x.length<=I),ee=typeof u=="function"?u(n):u;return a.useEffect(function(){f&&A.length>1&&k(function($){return $.filter(function(G){return x.some(function(Y){var ne=Y.key;return G===ne})})})},[A,x,f]),a.useEffect(function(){var $;if(f&&m.current[($=x[x.length-1])===null||$===void 0?void 0:$.key]){var G;F(m.current[(G=x[x.length-1])===null||G===void 0?void 0:G.key])}},[x,f]),R.createElement(rt,ye({key:n,className:re(r,"".concat(r,"-").concat(n),p==null?void 0:p.list,s,Ne(Ne({},"".concat(r,"-stack"),!!f),"".concat(r,"-stack-expanded"),P)),style:i,keys:x,motionAppear:!0},ee,{onAllRemoved:function(){c(n)}}),function($,G){var Y=$.config,ne=$.className,q=$.style,X=$.index,U=Y,W=U.key,z=U.times,S=String(W),H=Y,ie=H.className,se=H.style,Q=H.classNames,te=H.styles,Ee=Be(H,Dt),fe=x.findIndex(function(he){return he.key===S}),O={};if(f){var j=x.length-1-(fe>-1?fe:X-1),L=n==="top"||n==="bottom"?"-50%":"0";if(j>0){var V,J,D;O.height=P?(V=m.current[S])===null||V===void 0?void 0:V.offsetHeight:C==null?void 0:C.offsetHeight;for(var B=0,de=0;de<j;de++){var me;B+=((me=m.current[x[x.length-1-de].key])===null||me===void 0?void 0:me.offsetHeight)+T}var tt=(P?B:j*b)*(n.startsWith("top")?1:-1),nt=!P&&C!==null&&C!==void 0&&C.offsetWidth&&(J=m.current[S])!==null&&J!==void 0&&J.offsetWidth?((C==null?void 0:C.offsetWidth)-b*2*(j<3?j:3))/((D=m.current[S])===null||D===void 0?void 0:D.offsetWidth):1;O.transform="translate3d(".concat(L,", ").concat(tt,"px, 0) scaleX(").concat(nt,")")}else O.transform="translate3d(".concat(L,", 0, 0)")}return R.createElement("div",{ref:G,className:re("".concat(r,"-notice-wrapper"),ne,Q==null?void 0:Q.wrapper),style:ge(ge(ge({},q),O),te==null?void 0:te.wrapper),onMouseEnter:function(){return k(function(ce){return ce.includes(S)?ce:[].concat(ae(ce),[S])})},onMouseLeave:function(){return k(function(ce){return ce.filter(function(ot){return ot!==S})})}},R.createElement(Ye,ye({},Ee,{ref:function(ce){fe>-1?m.current[S]=ce:delete m.current[S]},prefixCls:r,classNames:Q,styles:te,className:re(ie,p==null?void 0:p.notice),style:se,times:z,key:W,eventKey:W,onNoticeClose:l,hovering:f&&A.length>0})))})},Gt=a.forwardRef(function(e,t){var o=e.prefixCls,n=o===void 0?"rc-notification":o,r=e.container,s=e.motion,i=e.maxCount,u=e.className,c=e.style,l=e.onAllRemoved,y=e.stack,v=e.renderNotifications,p=a.useState([]),m=oe(p,2),h=m[0],g=m[1],C=function(f){var E,b=h.find(function(I){return I.key===f});b==null||(E=b.onClose)===null||E===void 0||E.call(b),g(function(I){return I.filter(function(T){return T.key!==f})})};a.useImperativeHandle(t,function(){return{open:function(f){g(function(E){var b=ae(E),I=b.findIndex(function(ee){return ee.key===f.key}),T=ge({},f);if(I>=0){var P;T.times=(((P=E[I])===null||P===void 0?void 0:P.times)||0)+1,b[I]=T}else T.times=0,b.push(T);return i>0&&b.length>i&&(b=b.slice(-i)),b})},close:function(f){C(f)},destroy:function(){g([])}}});var F=a.useState({}),_=oe(F,2),w=_[0],A=_[1];a.useEffect(function(){var d={};h.forEach(function(f){var E=f.placement,b=E===void 0?"topRight":E;b&&(d[b]=d[b]||[],d[b].push(f))}),Object.keys(w).forEach(function(f){d[f]=d[f]||[]}),A(d)},[h]);var k=function(f){A(function(E){var b=ge({},E),I=b[f]||[];return I.length||delete b[f],b})},x=a.useRef(!1);if(a.useEffect(function(){Object.keys(w).length>0?x.current=!0:x.current&&(l==null||l(),x.current=!1)},[w]),!r)return null;var M=Object.keys(w);return st.createPortal(a.createElement(a.Fragment,null,M.map(function(d){var f=w[d],E=a.createElement(Bt,{key:d,configList:f,placement:d,prefixCls:n,className:u==null?void 0:u(d),style:c==null?void 0:c(d),motion:s,onNoticeClose:C,onAllNoticeRemoved:k,stack:y});return v?v(E,{prefixCls:n,key:d}):E})),r)}),Ut=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Xt=function(){return document.body},Le=0;function Kt(){for(var e={},t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(function(r){r&&Object.keys(r).forEach(function(s){var i=r[s];i!==void 0&&(e[s]=i)})}),e}function Yt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,o=t===void 0?Xt:t,n=e.motion,r=e.prefixCls,s=e.maxCount,i=e.className,u=e.style,c=e.onAllRemoved,l=e.stack,y=e.renderNotifications,v=Be(e,Ut),p=a.useState(),m=oe(p,2),h=m[0],g=m[1],C=a.useRef(),F=a.createElement(Gt,{container:h,ref:C,prefixCls:r,motion:n,maxCount:s,className:i,style:u,onAllRemoved:c,stack:l,renderNotifications:y}),_=a.useState([]),w=oe(_,2),A=w[0],k=w[1],x=a.useMemo(function(){return{open:function(d){var f=Kt(v,d);(f.key===null||f.key===void 0)&&(f.key="rc-notification-".concat(Le),Le+=1),k(function(E){return[].concat(ae(E),[{type:"open",config:f}])})},close:function(d){k(function(f){return[].concat(ae(f),[{type:"close",key:d}])})},destroy:function(){k(function(d){return[].concat(ae(d),[{type:"destroy"}])})}}},[]);return a.useEffect(function(){g(o())}),a.useEffect(function(){C.current&&A.length&&(A.forEach(function(M){switch(M.type){case"open":C.current.open(M.config);break;case"close":C.current.close(M.key);break;case"destroy":C.current.destroy();break}}),k(function(M){return M.filter(function(d){return!A.includes(d)})}))},[A]),[x,F]}const Vt=e=>{const{componentCls:t,iconCls:o,boxShadow:n,colorText:r,colorSuccess:s,colorError:i,colorWarning:u,colorInfo:c,fontSizeLG:l,motionEaseInOutCirc:y,motionDurationSlow:v,marginXS:p,paddingXS:m,borderRadiusLG:h,zIndexPopup:g,contentPadding:C,contentBg:F}=e,_=`${t}-notice`,w=new Re("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),A=new Re("MessageMoveOut",{"0%":{maxHeight:e.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),k={padding:m,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${o}`]:{marginInlineEnd:p,fontSize:l},[`${_}-content`]:{display:"inline-block",padding:C,background:F,borderRadius:h,boxShadow:n,pointerEvents:"all"},[`${t}-success > ${o}`]:{color:s},[`${t}-error > ${o}`]:{color:i},[`${t}-warning > ${o}`]:{color:u},[`${t}-info > ${o},
      ${t}-loading > ${o}`]:{color:c}};return[{[t]:Object.assign(Object.assign({},at(e)),{color:r,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:w,animationDuration:v,animationPlayState:"paused",animationTimingFunction:y},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:A,animationDuration:v,animationPlayState:"paused",animationTimingFunction:y},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${_}-wrapper`]:Object.assign({},k)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},k),{padding:0,textAlign:"start"})}]},qt=e=>({zIndexPopup:e.zIndexPopupBase+Lt+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),qe=It("Message",e=>{const t=Pt(e,{height:150});return[Vt(t)]},qt);var Qt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const Jt={info:a.createElement(Rt,null),success:a.createElement($t,null),error:a.createElement(At,null),warning:a.createElement(Ot,null),loading:a.createElement(jt,null)},Qe=e=>{let{prefixCls:t,type:o,icon:n,children:r}=e;return a.createElement("div",{className:re(`${t}-custom-content`,`${t}-${o}`)},n||Jt[o],a.createElement("span",null,r))},Zt=e=>{const{prefixCls:t,className:o,type:n,icon:r,content:s}=e,i=Qt(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:u}=a.useContext($e),c=t||u("message"),l=Ke(c),[y,v,p]=qe(c,l);return y(a.createElement(Ye,Object.assign({},i,{prefixCls:c,className:re(o,v,`${c}-notice-pure-panel`,p,l),eventKey:"pure",duration:null,content:a.createElement(Qe,{prefixCls:c,type:n,icon:r},s)})))};function en(e,t){return{motionName:t??`${e}-move-up`}}function je(e){let t;const o=new Promise(r=>{t=e(()=>{r(!0)})}),n=()=>{t==null||t()};return n.then=(r,s)=>o.then(r,s),n.promise=o,n}var tn=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const nn=8,on=3,rn=e=>{let{children:t,prefixCls:o}=e;const n=Ke(o),[r,s,i]=qe(o,n);return r(a.createElement(Ht,{classNames:{list:re(s,i,n)}},t))},sn=(e,t)=>{let{prefixCls:o,key:n}=t;return a.createElement(rn,{prefixCls:o,key:n},e)},an=a.forwardRef((e,t)=>{const{top:o,prefixCls:n,getContainer:r,maxCount:s,duration:i=on,rtl:u,transitionName:c,onAllRemoved:l}=e,{getPrefixCls:y,getPopupContainer:v,message:p,direction:m}=a.useContext($e),h=n||y("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:o??nn}),C=()=>re({[`${h}-rtl`]:u??m==="rtl"}),F=()=>en(h,c),_=a.createElement("span",{className:`${h}-close-x`},a.createElement(_t,{className:`${h}-close-icon`})),[w,A]=Yt({prefixCls:h,style:g,className:C,motion:F,closable:!1,closeIcon:_,duration:i,getContainer:()=>(r==null?void 0:r())||(v==null?void 0:v())||document.body,maxCount:s,onAllRemoved:l,renderNotifications:sn});return a.useImperativeHandle(t,()=>Object.assign(Object.assign({},w),{prefixCls:h,message:p})),A});let Fe=0;function Je(e){const t=a.useRef(null);return it(),[a.useMemo(()=>{const n=c=>{var l;(l=t.current)===null||l===void 0||l.close(c)},r=c=>{if(!t.current){const x=()=>{};return x.then=()=>{},x}const{open:l,prefixCls:y,message:v}=t.current,p=`${y}-notice`,{content:m,icon:h,type:g,key:C,className:F,style:_,onClose:w}=c,A=tn(c,["content","icon","type","key","className","style","onClose"]);let k=C;return k==null&&(Fe+=1,k=`antd-message-${Fe}`),je(x=>(l(Object.assign(Object.assign({},A),{key:k,content:a.createElement(Qe,{prefixCls:y,type:g,icon:h},m),placement:"top",className:re(g&&`${p}-${g}`,F,v==null?void 0:v.className),style:Object.assign(Object.assign({},v==null?void 0:v.style),_),onClose:()=>{w==null||w(),x()}})),()=>{n(k)}))},i={open:r,destroy:c=>{var l;c!==void 0?n(c):(l=t.current)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const l=(y,v,p)=>{let m;y&&typeof y=="object"&&"content"in y?m=y:m={content:y};let h,g;typeof v=="function"?g=v:(h=v,g=p);const C=Object.assign(Object.assign({onClose:g,duration:h},m),{type:c});return r(C)};i[c]=l}),i},[]),a.createElement(an,Object.assign({key:"message-holder"},e,{ref:t}))]}function cn(e){return Je(e)}const ln=R.createContext({});let Z=null,le=e=>e(),ve=[],pe={};function _e(){const{getContainer:e,duration:t,rtl:o,maxCount:n,top:r}=pe,s=(e==null?void 0:e())||document.body;return{getContainer:()=>s,duration:t,rtl:o,maxCount:n,top:r}}const un=R.forwardRef((e,t)=>{const{messageConfig:o,sync:n}=e,{getPrefixCls:r}=a.useContext($e),s=pe.prefixCls||r("message"),i=a.useContext(ln),[u,c]=Je(Object.assign(Object.assign(Object.assign({},o),{prefixCls:s}),i.message));return R.useImperativeHandle(t,()=>{const l=Object.assign({},u);return Object.keys(l).forEach(y=>{l[y]=function(){return n(),u[y].apply(u,arguments)}}),{instance:l,sync:n}}),c}),fn=R.forwardRef((e,t)=>{const[o,n]=R.useState(_e),r=()=>{n(_e)};R.useEffect(r,[]);const s=lt(),i=s.getRootPrefixCls(),u=s.getIconPrefixCls(),c=s.getTheme(),l=R.createElement(un,{ref:t,sync:r,messageConfig:o});return R.createElement(ct,{prefixCls:i,iconPrefixCls:u,theme:c},s.holderRender?s.holderRender(l):l)});function Se(){if(!Z){const e=document.createDocumentFragment(),t={fragment:e};Z=t,le(()=>{wt(R.createElement(fn,{ref:o=>{const{instance:n,sync:r}=o||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,Se())})}}),e)});return}Z.instance&&(ve.forEach(e=>{const{type:t,skipped:o}=e;if(!o)switch(t){case"open":{le(()=>{const n=Z.instance.open(Object.assign(Object.assign({},pe),e.config));n==null||n.then(e.resolve),e.setCloseFn(n)});break}case"destroy":le(()=>{Z==null||Z.instance.destroy(e.key)});break;default:le(()=>{var n;const r=(n=Z.instance)[t].apply(n,ae(e.args));r==null||r.then(e.resolve),e.setCloseFn(r)})}}),ve=[])}function dn(e){pe=Object.assign(Object.assign({},pe),e),le(()=>{var t;(t=Z==null?void 0:Z.sync)===null||t===void 0||t.call(Z)})}function mn(e){const t=je(o=>{let n;const r={type:"open",config:e,resolve:o,setCloseFn:s=>{n=s}};return ve.push(r),()=>{n?le(()=>{n()}):r.skipped=!0}});return Se(),t}function gn(e,t){const o=je(n=>{let r;const s={type:e,args:t,resolve:n,setCloseFn:i=>{r=i}};return ve.push(s),()=>{r?le(()=>{r()}):s.skipped=!0}});return Se(),o}const vn=e=>{ve.push({type:"destroy",key:e}),Se()},pn=["success","info","warning","error","loading"],hn={open:mn,destroy:vn,config:dn,useMessage:cn,_InternalPanelDoNotUseOrYouWillBeFired:Zt},Ze=hn;pn.forEach(e=>{Ze[e]=function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return gn(e,o)}});R.Component;var yn={subtree:!0,childList:!0,attributeFilter:["style","class"]};function xn(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yn;a.useEffect(function(){if(!(!gt()||!e)){var n,r=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(n=new MutationObserver(t),r.forEach(function(s){n.observe(s,o)})),function(){var s,i;(s=n)===null||s===void 0||s.takeRecords(),(i=n)===null||i===void 0||i.disconnect()}}},[o,e])}const et=3;function ke(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const n=document.createElement("canvas"),r=n.getContext("2d"),s=e*o,i=t*o;return n.setAttribute("width",`${s}px`),n.setAttribute("height",`${i}px`),r.save(),[r,n,s,i]}function Cn(){function e(t,o,n,r,s,i,u,c){const[l,y,v,p]=ke(r,s,n);if(t instanceof HTMLImageElement)l.drawImage(t,0,0,v,p);else{const{color:X,fontSize:U,fontStyle:W,fontWeight:z,fontFamily:S,textAlign:H}=i,ie=Number(U)*n;l.font=`${W} normal ${z} ${ie}px/${s}px ${S}`,l.fillStyle=X,l.textAlign=H,l.textBaseline="top";const se=Array.isArray(t)?t:[t];se==null||se.forEach((Q,te)=>{l.fillText(Q??"",v/2,te*(ie+et*n))})}const m=Math.PI/180*Number(o),h=Math.max(r,s),[g,C,F]=ke(h,h,n);g.translate(F/2,F/2),g.rotate(m),v>0&&p>0&&g.drawImage(y,-v/2,-p/2);function _(X,U){const W=X*Math.cos(m)-U*Math.sin(m),z=X*Math.sin(m)+U*Math.cos(m);return[W,z]}let w=0,A=0,k=0,x=0;const M=v/2,d=p/2;[[0-M,0-d],[0+M,0-d],[0+M,0+d],[0-M,0+d]].forEach(X=>{let[U,W]=X;const[z,S]=_(U,W);w=Math.min(w,z),A=Math.max(A,z),k=Math.min(k,S),x=Math.max(x,S)});const E=w+F/2,b=k+F/2,I=A-w,T=x-k,P=u*n,ee=c*n,$=(I+P)*2,G=T+ee,[Y,ne]=ke($,G);function q(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Y.drawImage(C,E,b,I,T,X,U,I,T)}return q(),q(I+P,-T/2-ee/2),q(I+P,+T/2+ee/2),[ne.toDataURL(),$/n,G/n]}return e}function bn(e){const t=R.useRef(!1),o=R.useRef(),n=Ge(e);return()=>{t.current||(t.current=!0,n(),o.current=vt(()=>{t.current=!1}))}}function Sn(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function En(e){return Object.keys(e).map(t=>`${Sn(t)}: ${e[t]};`).join(" ")}function kn(){return window.devicePixelRatio||1}const Nn=(e,t)=>{let o=!1;return e.removedNodes.length&&(o=Array.from(e.removedNodes).some(n=>t(n))),e.type==="attributes"&&t(e.target)&&(o=!0),o},wn={visibility:"visible !important"};function $n(e){const[t]=a.useState(()=>new Map);return[(s,i,u)=>{if(u){if(!t.get(u)){const l=document.createElement("div");t.set(u,l)}const c=t.get(u);c.setAttribute("style",En(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${s}')`,backgroundSize:`${Math.floor(i)}px`}),wn))),c.removeAttribute("class"),c.parentElement!==u&&u.append(c)}return t.get(u)},s=>{const i=t.get(s);i&&s&&s.removeChild(i),t.delete(s)},s=>Array.from(t.values()).includes(s)]}function Te(e,t){return e.size===t.size?e:t}const We=100,He=100,ze={position:"relative",overflow:"hidden"},An=e=>{var t,o;const{zIndex:n=9,rotate:r=-22,width:s,height:i,image:u,content:c,font:l={},style:y,className:v,rootClassName:p,gap:m=[We,He],offset:h,children:g,inherit:C=!0}=e,F=Object.assign(Object.assign({},ze),y),[,_]=pt(),{color:w=_.colorFill,fontSize:A=_.fontSizeLG,fontWeight:k="normal",fontStyle:x="normal",fontFamily:M="sans-serif",textAlign:d="center"}=l,[f=We,E=He]=m,b=f/2,I=E/2,T=(t=h==null?void 0:h[0])!==null&&t!==void 0?t:b,P=(o=h==null?void 0:h[1])!==null&&o!==void 0?o:I,ee=R.useMemo(()=>{const O={zIndex:n,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let j=T-b,L=P-I;return j>0&&(O.left=`${j}px`,O.width=`calc(100% - ${j}px)`,j=0),L>0&&(O.top=`${L}px`,O.height=`calc(100% - ${L}px)`,L=0),O.backgroundPosition=`${j}px ${L}px`,O},[n,T,b,P,I]),[$,G]=R.useState(),[Y,ne]=R.useState(new Set),q=R.useMemo(()=>{const O=$?[$]:[];return[].concat(O,ae(Array.from(Y)))},[$,Y]),X=O=>{let j=120,L=64;if(!u&&O.measureText){O.font=`${Number(A)}px ${M}`;const V=Array.isArray(c)?c:[c],J=V.map(D=>{const B=O.measureText(D);return[B.width,B.fontBoundingBoxAscent+B.fontBoundingBoxDescent]});j=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[0])))),L=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[1]))))*V.length+(V.length-1)*et}return[s??j,i??L]},U=Cn(),[W,z]=R.useState(null),H=bn(()=>{const j=document.createElement("canvas").getContext("2d");if(j){const L=kn(),[V,J]=X(j),D=B=>{const[de,me]=U(B||"",r,L,V,J,{color:w,fontSize:A,fontStyle:x,fontWeight:k,fontFamily:M,textAlign:d},f,E);z([de,me])};if(u){const B=new Image;B.onload=()=>{D(B)},B.onerror=()=>{D(c)},B.crossOrigin="anonymous",B.referrerPolicy="no-referrer",B.src=u}else D(c)}}),[ie,se,Q]=$n(ee);a.useEffect(()=>{W&&q.forEach(O=>{ie(W[0],W[1],O)})},[W,q]);const te=Ge(O=>{O.forEach(j=>{if(Nn(j,Q))H();else if(j.target===$&&j.attributeName==="style"){const L=Object.keys(ze);for(let V=0;V<L.length;V+=1){const J=L[V],D=F[J],B=$.style[J];D&&D!==B&&($.style[J]=D)}}})});xn(q,te),a.useEffect(H,[r,n,s,i,u,c,w,A,k,x,M,d,f,E,T,P]);const Ee=R.useMemo(()=>({add:O=>{ne(j=>{const L=new Set(j);return L.add(O),Te(j,L)})},remove:O=>{se(O),ne(j=>{const L=new Set(j);return L.delete(O),Te(j,L)})}}),[]),fe=C?R.createElement(Wt.Provider,{value:Ee},g):g;return R.createElement("div",{ref:G,className:re(v,p),style:F},fe)};function On(e){return Xe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M321.94 98 158.82 237.78a24 24 0 0 0 0 36.44L321.94 414c15.57 13.34 39.62 2.28 39.62-18.22v-279.6c0-20.5-24.05-31.56-39.62-18.18z"},child:[]}]})(e)}const jn=K(Oe)`
  position: relative;
  z-index: 2;
  height: 5rem;
  padding: 0 2rem;
  overflow-x: auto;

  &::-webkit-scrollbar {
    height: 0;
  }
`,Rn=K(On)`
  margin-right: 1rem;
  padding: 1rem;
  background: var(--color-gray-3);
  border-radius: var(--radius-button);
`,Mn=K.span`
  font-size: 1.8rem;
  font-weight: 700;
  letter-spacing: 0.04rem;
`,In=K(ue)`
  flex-shrink: 0;
`;function Pn(){var u,c,l,y;const e=St(),t=Ae(),o=a.useMemo(()=>t.at(-1),[t]),n=(u=o==null?void 0:o.handle)==null?void 0:u.title,r=(c=o==null?void 0:o.handle)==null?void 0:c.needBackIcon,s=(l=o==null?void 0:o.handle)==null?void 0:l.rightArea,i=(y=o==null?void 0:o.handle)==null?void 0:y.titleArea;return N.jsxs(jn,{$gap:"1",$justifyContent:yt.BETWEEN,children:[N.jsxs(In,{$alignItems:we.CENTER,children:[N.jsx(bt,{if:r,children:()=>N.jsx(Rn,{onClick:()=>{xe.click("header-back-icon"),e(-1)}})}),N.jsx(Mn,{children:i||n})]}),N.jsx(ue,{$alignItems:we.CENTER,children:s})]})}function Ln(e){return Xe({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708M7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}const Fn=K(Et)`
  display: flex;
  color: var(--color-gray-5);
  transition: color 300ms;

  &:hover {
    color: var(--color-hover);
  }
`,_n=K.span`
  display: flex;
  color: var(--color-active);
`,Tn=K(ue)`
  font-size: 1.4rem;
`;function Wn(){const e=Ae(),t=a.useMemo(()=>e.map(o=>{var n,r;return{label:((n=o.handle)==null?void 0:n.crumbLabel)||((r=o.handle)==null?void 0:r.title),path:o.pathname}}).filter(o=>o.label),[e]);return N.jsx(Tn,{children:t.map((o,n,r)=>n<r.length-1?N.jsxs(Fn,{to:o.path,onClick:()=>xe.click("crumb-link-click"),children:["/",o.label]},o.path):N.jsxs(_n,{onClick:()=>xe.click("crumb-acitve-text-click"),children:["/",o.label]},o.path))})}const Hn=K(Oe)`
  position: relative;
  z-index: 2;
  padding: 1rem 2rem;
`,zn=K(Ln)`
  font-size: 2rem;
  transition: transform 300ms;
  transform: ${({$expandAside:e})=>e?"rotate(180deg)":"rotate(0)"};
`;function Dn(){const{expandAside:e}=be("expandAside"),t=()=>{Ue().setExpandAside(!e),xe.click("footer-expand-icon",{expandAside:!e})};return N.jsx("footer",{children:N.jsxs(Hn,{$gap:"1",$alignItems:we.CENTER,children:[N.jsx(zn,{onClick:t,$expandAside:e}),N.jsx(Wn,{})]})})}const Bn=K(Nt)`
  margin: 0 0.5rem;
`,Gn=a.memo(()=>N.jsx(Bn,{needActiveStyle:!0,direction:Ce.COLUMN,shadowOption:{$blur:"0.8rem"},appListHander:e=>[{name:"首页",path:"/",icon:N.jsx(kt,{})},...e]})),Un=K(Oe)`
  height: 100%;
  overflow: hidden;
`,Xn=K.aside`
  position: relative;
  z-index: 2;
  display: grid;
  grid-template-columns: ${({$width:e,$expandAside:t})=>t?e:"0"};
  transition: grid-template-columns 300ms;
`;function Kn(){const e=xt(),[t,o]=a.useState(""),n=a.useRef(null),{expandAside:r}=be("expandAside");return a.useEffect(()=>{n.current&&o(`${n.current.offsetWidth/e}rem`)},[e]),N.jsx(Xn,{ref:n,$width:t,$expandAside:r,children:N.jsx(Un,{$direction:Ce.COLUMN,children:N.jsx(Gn,{})})})}function Yn(){const[e,t]=Ze.useMessage(),{messageInfo:o}=be("messageInfo");return a.useEffect(()=>{o&&e.open(o)},[o,e]),t}const Vn=200;function qn(){const{loading:e}=be("loading"),t=Ae();return a.useEffect(()=>{Ue().setLoading(!1)},[t]),N.jsx(Tt,{spinning:e,delay:Vn,size:"large",fullscreen:!0})}const Qn=K(ue)`
  position: relative;
  z-index: 1;
  overflow-y: auto;
`,Jn=K(An)`
  flex: 1;
  display: flex;
  flex-direction: column;
`;function po(){return N.jsxs(Jn,{content:["cmtlyt","desktop-tools"],font:{color:"rgba(0,0,0,0.05)"},children:[N.jsx(qn,{}),N.jsx(Ct,{}),N.jsx(Yn,{}),N.jsxs(ue,{$flex:"1",style:{height:"100%"},children:[N.jsx(Kn,{}),N.jsxs(ue,{$flex:"1",$direction:Ce.COLUMN,style:{overflow:"hidden"},children:[N.jsx(Pn,{}),N.jsx(Qn,{$flex:"1",$direction:Ce.COLUMN,children:N.jsx(ht,{})}),N.jsx(Dn,{})]})]})]})}export{po as Component};
