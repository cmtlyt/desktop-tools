import{V as l}from"./index-DmYpbGJ8.js";function p(){return"storage"in navigator}function H(t){return t.startsWith("opfs://")}function i(t){if(!t.startsWith("opfs://"))throw new Error(`${t} Not a opfs url`)}const f=l(async()=>await navigator.storage.getDirectory());async function u(t,e=!0){const n=await f(),o=t.length;let r=n;for(let a=0,s=t[a];a<o&&s;s=t[++a])r=await r.getDirectoryHandle(s,{create:e});return r}async function d(t,e=!0){i(t);const n=t.replace("opfs://","");return u(n.split("/"),e)}async function c(t,e=!0){i(t);const n=t.split("/"),o=n.pop(),r=n.join("/");return(await d(r,e)).getFileHandle(o,{create:e})}async function y(t,e=!1,n=!0){return i(t),(await c(t,n)).createWritable({keepExistingData:e})}async function w(t){return i(t),(await c(t,!1)).getFile()}export{y as a,w as g,H as i,p as o};
