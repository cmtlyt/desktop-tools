import{j as e,r as a,n as m,aC as u,l as d,aD as x}from"./index-BHn-5kDJ.js";import{B as p,b as f,a as l}from"./button-33LOwmTr.js";import{B as g}from"./index-BeGVX1Cb.js";import{u as h}from"./store-HLRTus4i.js";import{u as R}from"./use-navigate-C-71Bho_.js";import{E as j}from"./index-BSX_QpAB.js";import{S as E}from"./index-B4g9YTQJ.js";import{I as A,H as B,a as I,b as k,R as C,P as S}from"./index-kvWh7jXO.js";import{A as T}from"./index-puiPgJXF.js";import"./iconBase-DWAVRDNR.js";import"./index-CnF4Dh-w.js";import"./is-phone-CuSjcm4O.js";import"./index-lII6oVnv.js";import"./index-B4i0GCbx.js";import"./asyncToGenerator-DqLG1eNp.js";import"./reactNode-DCIqjImr.js";import"./index-BDkKQ-kb.js";import"./useLocale-B4w2dLha.js";import"./index-C-y_YN2t.js";function b(){return e.jsx(g,{buttons:[{text:"录制",$presetTheme:p.PRIMARY,to:"/recorder/recording"}]})}function D(s){const{record:o,onDelete:r}=s,{id:t}=o;return e.jsx(C,{wrapperProps:{$alignItems:l.CENTER},buttons:[{text:"删除",$presetTheme:p.DANGER,logInfo:{id:t},onClick(n){n.stopPropagation(),r==null||r(t)}}]})}const $=a.memo(function(o){const{recordInfo:r,onClick:t,onDelete:n}=o;return e.jsx(A,{onClick:t,children:e.jsxs(B,{rightArea:e.jsx(D,{record:r,onDelete:n}),children:[e.jsx(f,{$flex:"1",$alignItems:l.CENTER,children:e.jsx(I,{children:r.name})}),e.jsx(k,{children:r.createTime})]})})});function w(s){x().deleteRecord(s)}function X(){const s=m(),{setRecord:o}=h("setRecord"),{records:r}=u("records"),{records:t}=s,n=R(),c=a.useMemo(()=>t||r,[r,t]);return a.useEffect(()=>{o(void 0)},[o]),e.jsx(T,{onFirstAppear:()=>d.appear("record-list"),children:e.jsx(S,{children:e.jsx(E,{when:c.length>0,fullback:e.jsx(j,{}),children:()=>c.map(i=>e.jsx($,{recordInfo:i,onClick:()=>{o(i),d.click("record-item-click",{id:i.id}),n(`/recorder/playback/${i.id}`)},onDelete:w},i.id))})})})}const Z={title:"记录",rightArea:e.jsx(b,{})};async function _(){return window.logger.todo("请求接口加载笔记信息, 报错时使用本地存储中的笔记信息"),{records:null}}export{X as Component,Z as handle,_ as loader};
