import{N as i,r as c,L as r,J as d}from"./index-CJ_IAsxN.js";import{c as u}from"./index-nwGVCKA8.js";import{P as a,F as p}from"./flow-form-teuYSDoQ.js";import{B as m}from"./store-D3quMkSH.js";import{l,a as f,B as x}from"./index-BUSCz6YA.js";import{u as g}from"./layout-CZY5c0iG.js";import{A as E}from"./index-D6UBKmSS.js";const n=u(t=>({id:"",setId:o=>t({id:o})}));function R(){const{id:t}=i(),{setEditorId:o}=n(s=>({setEditorId:s.setId})),e=t?a.EDITOR:a.CREATE;return c.useEffect(()=>{o(t||"")},[o,t]),r.jsx(E,{onFirstAppear:()=>l.appear("flow-editor",{id:t,pageStatus:e}),children:r.jsx(f,{children:r.jsx(p,{pageStatus:e})})})}function h(){const{id:t}=n(s=>({id:s.id})),{showMessage:o}=g(s=>({showMessage:s.showMessage})),e=d();return r.jsx(m,{buttons:[{text:"取消",onClick(){e(-1)}},{text:"保存",$presetTheme:x.PRIMARY,onClick(){window.logger.todo("save id:",t),o({type:"success",content:"保存成功",onClose(){e("/flow")}})}}]})}const L={title:"编辑",needBackIcon:!0,rightArea:r.jsx(h,{})};async function M({params:t}){return{id:t.id}}export{R as Component,L as handle,M as loader};
