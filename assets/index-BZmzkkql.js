import{r as a,_ as oe,a as Be,b as xe,c as re,d as Ne,R as M,C as at,e as Ge,f as ge,g as ae,h as it,i as ct,j as Ae,k as lt,l as ut,m as ft,n as dt,o as mt,p as gt,q as vt,s as pt,u as Ue,w as ht,t as yt,v as je,x as S,O as xt}from"./index-ykcWsmCX.js";import{d as X,F as Ct,a as we,A as bt,l as ve,b as ue,S as Oe,u as be,g as Xe,c as Ce,e as St,f as Et,h as kt}from"./index-00ZVflCa.js";import{G as Ke}from"./index-yc5uezU0.js";import{S as Nt}from"./index-DLUWWLMN.js";import{u as wt}from"./use-navigate-APJQpmhl.js";import{L as $t}from"./index-hmLgQnBZ.js";import{T as At}from"./index-Clp5EM9W.js";import{A as jt}from"./index-D704CLoU.js";import{r as Ot}from"./render-CLmjOQlL.js";import{u as Ye,R as Mt,a as Rt,b as It,c as Ve}from"./LoadingOutlined-vBqDyKtL.js";import{R as Pt}from"./InfoCircleFilled-DRyNcKZS.js";import{p as Lt,K as Tt,a as Re,C as Ft,R as Wt}from"./asyncToGenerator-Djgx2aci.js";import{g as _t,m as Ht}from"./genStyleUtils-BL-xOt_k.js";import{W as zt}from"./context-BYKOwOIq.js";var qe=a.forwardRef(function(e,t){var o=e.prefixCls,n=e.style,r=e.className,s=e.duration,i=s===void 0?4.5:s,u=e.showProgress,c=e.pauseOnHover,l=c===void 0?!0:c,k=e.eventKey,v=e.content,p=e.closable,m=e.closeIcon,h=m===void 0?"x":m,g=e.props,x=e.onClick,T=e.onNoticeClose,F=e.times,w=e.hovering,A=a.useState(!1),N=oe(A,2),y=N[0],R=N[1],d=a.useState(0),f=oe(d,2),E=f[0],C=f[1],I=a.useState(0),W=oe(I,2),P=W[0],ee=W[1],$=w||y,G=i>0&&u,Y=function(){T(k)},ne=function(b){(b.key==="Enter"||b.code==="Enter"||b.keyCode===Tt.ENTER)&&Y()};a.useEffect(function(){if(!$&&i>0){var z=Date.now()-P,b=setTimeout(function(){Y()},i*1e3-P);return function(){l&&clearTimeout(b),ee(Date.now()-z)}}},[i,$,F]),a.useEffect(function(){if(!$&&G&&(l||P===0)){var z=performance.now(),b,H=function ie(){cancelAnimationFrame(b),b=requestAnimationFrame(function(se){var Q=se+P-z,te=Math.min(Q/(i*1e3),1);C(te*100),te<1&&ie()})};return H(),function(){l&&cancelAnimationFrame(b)}}},[i,P,$,G,F]);var q=a.useMemo(function(){return Be(p)==="object"&&p!==null?p:p?{closeIcon:h}:{}},[p,h]),K=Lt(q,!0),U=100-(!E||E<0?0:E>100?100:E),_="".concat(o,"-notice");return a.createElement("div",xe({},g,{ref:t,className:re(_,r,Ne({},"".concat(_,"-closable"),p)),style:n,onMouseEnter:function(b){var H;R(!0),g==null||(H=g.onMouseEnter)===null||H===void 0||H.call(g,b)},onMouseLeave:function(b){var H;R(!1),g==null||(H=g.onMouseLeave)===null||H===void 0||H.call(g,b)},onClick:x}),a.createElement("div",{className:"".concat(_,"-content")},v),p&&a.createElement("a",xe({tabIndex:0,className:"".concat(_,"-close"),onKeyDown:ne,"aria-label":"Close"},K,{onClick:function(b){b.preventDefault(),b.stopPropagation(),Y()}}),q.closeIcon),G&&a.createElement("progress",{className:"".concat(_,"-progress"),max:"100",value:U},U+"%"))}),Qe=M.createContext({}),Dt=function(t){var o=t.children,n=t.classNames;return M.createElement(Qe.Provider,{value:{classNames:n}},o)},Ie=8,Pe=3,Le=16,Bt=function(t){var o={offset:Ie,threshold:Pe,gap:Le};if(t&&Be(t)==="object"){var n,r,s;o.offset=(n=t.offset)!==null&&n!==void 0?n:Ie,o.threshold=(r=t.threshold)!==null&&r!==void 0?r:Pe,o.gap=(s=t.gap)!==null&&s!==void 0?s:Le}return[!!t,o]},Gt=["className","style","classNames","styles"],Ut=function(t){var o=t.configList,n=t.placement,r=t.prefixCls,s=t.className,i=t.style,u=t.motion,c=t.onAllNoticeRemoved,l=t.onNoticeClose,k=t.stack,v=a.useContext(Qe),p=v.classNames,m=a.useRef({}),h=a.useState(null),g=oe(h,2),x=g[0],T=g[1],F=a.useState([]),w=oe(F,2),A=w[0],N=w[1],y=o.map(function($){return{config:$,key:String($.key)}}),R=Bt(k),d=oe(R,2),f=d[0],E=d[1],C=E.offset,I=E.threshold,W=E.gap,P=f&&(A.length>0||y.length<=I),ee=typeof u=="function"?u(n):u;return a.useEffect(function(){f&&A.length>1&&N(function($){return $.filter(function(G){return y.some(function(Y){var ne=Y.key;return G===ne})})})},[A,y,f]),a.useEffect(function(){var $;if(f&&m.current[($=y[y.length-1])===null||$===void 0?void 0:$.key]){var G;T(m.current[(G=y[y.length-1])===null||G===void 0?void 0:G.key])}},[y,f]),M.createElement(at,xe({key:n,className:re(r,"".concat(r,"-").concat(n),p==null?void 0:p.list,s,Ne(Ne({},"".concat(r,"-stack"),!!f),"".concat(r,"-stack-expanded"),P)),style:i,keys:y,motionAppear:!0},ee,{onAllRemoved:function(){c(n)}}),function($,G){var Y=$.config,ne=$.className,q=$.style,K=$.index,U=Y,_=U.key,z=U.times,b=String(_),H=Y,ie=H.className,se=H.style,Q=H.classNames,te=H.styles,Ee=Ge(H,Gt),fe=y.findIndex(function(ye){return ye.key===b}),j={};if(f){var O=y.length-1-(fe>-1?fe:K-1),L=n==="top"||n==="bottom"?"-50%":"0";if(O>0){var V,J,D;j.height=P?(V=m.current[b])===null||V===void 0?void 0:V.offsetHeight:x==null?void 0:x.offsetHeight;for(var B=0,de=0;de<O;de++){var me;B+=((me=m.current[y[y.length-1-de].key])===null||me===void 0?void 0:me.offsetHeight)+W}var ot=(P?B:O*C)*(n.startsWith("top")?1:-1),rt=!P&&x!==null&&x!==void 0&&x.offsetWidth&&(J=m.current[b])!==null&&J!==void 0&&J.offsetWidth?((x==null?void 0:x.offsetWidth)-C*2*(O<3?O:3))/((D=m.current[b])===null||D===void 0?void 0:D.offsetWidth):1;j.transform="translate3d(".concat(L,", ").concat(ot,"px, 0) scaleX(").concat(rt,")")}else j.transform="translate3d(".concat(L,", 0, 0)")}return M.createElement("div",{ref:G,className:re("".concat(r,"-notice-wrapper"),ne,Q==null?void 0:Q.wrapper),style:ge(ge(ge({},q),j),te==null?void 0:te.wrapper),onMouseEnter:function(){return N(function(ce){return ce.includes(b)?ce:[].concat(ae(ce),[b])})},onMouseLeave:function(){return N(function(ce){return ce.filter(function(st){return st!==b})})}},M.createElement(qe,xe({},Ee,{ref:function(ce){fe>-1?m.current[b]=ce:delete m.current[b]},prefixCls:r,classNames:Q,styles:te,className:re(ie,p==null?void 0:p.notice),style:se,times:z,key:_,eventKey:_,onNoticeClose:l,hovering:f&&A.length>0})))})},Xt=a.forwardRef(function(e,t){var o=e.prefixCls,n=o===void 0?"rc-notification":o,r=e.container,s=e.motion,i=e.maxCount,u=e.className,c=e.style,l=e.onAllRemoved,k=e.stack,v=e.renderNotifications,p=a.useState([]),m=oe(p,2),h=m[0],g=m[1],x=function(f){var E,C=h.find(function(I){return I.key===f});C==null||(E=C.onClose)===null||E===void 0||E.call(C),g(function(I){return I.filter(function(W){return W.key!==f})})};a.useImperativeHandle(t,function(){return{open:function(f){g(function(E){var C=ae(E),I=C.findIndex(function(ee){return ee.key===f.key}),W=ge({},f);if(I>=0){var P;W.times=(((P=E[I])===null||P===void 0?void 0:P.times)||0)+1,C[I]=W}else W.times=0,C.push(W);return i>0&&C.length>i&&(C=C.slice(-i)),C})},close:function(f){x(f)},destroy:function(){g([])}}});var T=a.useState({}),F=oe(T,2),w=F[0],A=F[1];a.useEffect(function(){var d={};h.forEach(function(f){var E=f.placement,C=E===void 0?"topRight":E;C&&(d[C]=d[C]||[],d[C].push(f))}),Object.keys(w).forEach(function(f){d[f]=d[f]||[]}),A(d)},[h]);var N=function(f){A(function(E){var C=ge({},E),I=C[f]||[];return I.length||delete C[f],C})},y=a.useRef(!1);if(a.useEffect(function(){Object.keys(w).length>0?y.current=!0:y.current&&(l==null||l(),y.current=!1)},[w]),!r)return null;var R=Object.keys(w);return it.createPortal(a.createElement(a.Fragment,null,R.map(function(d){var f=w[d],E=a.createElement(Ut,{key:d,configList:f,placement:d,prefixCls:n,className:u==null?void 0:u(d),style:c==null?void 0:c(d),motion:s,onNoticeClose:x,onAllNoticeRemoved:N,stack:k});return v?v(E,{prefixCls:n,key:d}):E})),r)}),Kt=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Yt=function(){return document.body},Te=0;function Vt(){for(var e={},t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(function(r){r&&Object.keys(r).forEach(function(s){var i=r[s];i!==void 0&&(e[s]=i)})}),e}function qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,o=t===void 0?Yt:t,n=e.motion,r=e.prefixCls,s=e.maxCount,i=e.className,u=e.style,c=e.onAllRemoved,l=e.stack,k=e.renderNotifications,v=Ge(e,Kt),p=a.useState(),m=oe(p,2),h=m[0],g=m[1],x=a.useRef(),T=a.createElement(Xt,{container:h,ref:x,prefixCls:r,motion:n,maxCount:s,className:i,style:u,onAllRemoved:c,stack:l,renderNotifications:k}),F=a.useState([]),w=oe(F,2),A=w[0],N=w[1],y=a.useMemo(function(){return{open:function(d){var f=Vt(v,d);(f.key===null||f.key===void 0)&&(f.key="rc-notification-".concat(Te),Te+=1),N(function(E){return[].concat(ae(E),[{type:"open",config:f}])})},close:function(d){N(function(f){return[].concat(ae(f),[{type:"close",key:d}])})},destroy:function(){N(function(d){return[].concat(ae(d),[{type:"destroy"}])})}}},[]);return a.useEffect(function(){g(o())}),a.useEffect(function(){x.current&&A.length&&(A.forEach(function(R){switch(R.type){case"open":x.current.open(R.config);break;case"close":x.current.close(R.key);break;case"destroy":x.current.destroy();break}}),N(function(R){return R.filter(function(d){return!A.includes(d)})}))},[A]),[y,T]}const Qt=e=>{const{componentCls:t,iconCls:o,boxShadow:n,colorText:r,colorSuccess:s,colorError:i,colorWarning:u,colorInfo:c,fontSizeLG:l,motionEaseInOutCirc:k,motionDurationSlow:v,marginXS:p,paddingXS:m,borderRadiusLG:h,zIndexPopup:g,contentPadding:x,contentBg:T}=e,F=`${t}-notice`,w=new Re("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),A=new Re("MessageMoveOut",{"0%":{maxHeight:e.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),N={padding:m,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${o}`]:{marginInlineEnd:p,fontSize:l},[`${F}-content`]:{display:"inline-block",padding:x,background:T,borderRadius:h,boxShadow:n,pointerEvents:"all"},[`${t}-success > ${o}`]:{color:s},[`${t}-error > ${o}`]:{color:i},[`${t}-warning > ${o}`]:{color:u},[`${t}-info > ${o},
      ${t}-loading > ${o}`]:{color:c}};return[{[t]:Object.assign(Object.assign({},ct(e)),{color:r,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:w,animationDuration:v,animationPlayState:"paused",animationTimingFunction:k},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:A,animationDuration:v,animationPlayState:"paused",animationTimingFunction:k},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${F}-wrapper`]:Object.assign({},N)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},N),{padding:0,textAlign:"start"})}]},Jt=e=>({zIndexPopup:e.zIndexPopupBase+Ft+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),Je=_t("Message",e=>{const t=Ht(e,{height:150});return[Qt(t)]},Jt);var Zt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const en={info:a.createElement(Pt,null),success:a.createElement(Mt,null),error:a.createElement(Rt,null),warning:a.createElement(It,null),loading:a.createElement(Ve,null)},Ze=e=>{let{prefixCls:t,type:o,icon:n,children:r}=e;return a.createElement("div",{className:re(`${t}-custom-content`,`${t}-${o}`)},n||en[o],a.createElement("span",null,r))},tn=e=>{const{prefixCls:t,className:o,type:n,icon:r,content:s}=e,i=Zt(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:u}=a.useContext(Ae),c=t||u("message"),l=Ye(c),[k,v,p]=Je(c,l);return k(a.createElement(qe,Object.assign({},i,{prefixCls:c,className:re(o,v,`${c}-notice-pure-panel`,p,l),eventKey:"pure",duration:null,content:a.createElement(Ze,{prefixCls:c,type:n,icon:r},s)})))};function nn(e,t){return{motionName:t??`${e}-move-up`}}function Me(e){let t;const o=new Promise(r=>{t=e(()=>{r(!0)})}),n=()=>{t==null||t()};return n.then=(r,s)=>o.then(r,s),n.promise=o,n}var on=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]]);return o};const rn=8,sn=3,an=e=>{let{children:t,prefixCls:o}=e;const n=Ye(o),[r,s,i]=Je(o,n);return r(a.createElement(Dt,{classNames:{list:re(s,i,n)}},t))},cn=(e,t)=>{let{prefixCls:o,key:n}=t;return a.createElement(an,{prefixCls:o,key:n},e)},ln=a.forwardRef((e,t)=>{const{top:o,prefixCls:n,getContainer:r,maxCount:s,duration:i=sn,rtl:u,transitionName:c,onAllRemoved:l}=e,{getPrefixCls:k,getPopupContainer:v,message:p,direction:m}=a.useContext(Ae),h=n||k("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:o??rn}),x=()=>re({[`${h}-rtl`]:u??m==="rtl"}),T=()=>nn(h,c),F=a.createElement("span",{className:`${h}-close-x`},a.createElement(Wt,{className:`${h}-close-icon`})),[w,A]=qt({prefixCls:h,style:g,className:x,motion:T,closable:!1,closeIcon:F,duration:i,getContainer:()=>(r==null?void 0:r())||(v==null?void 0:v())||document.body,maxCount:s,onAllRemoved:l,renderNotifications:cn});return a.useImperativeHandle(t,()=>Object.assign(Object.assign({},w),{prefixCls:h,message:p})),A});let Fe=0;function et(e){const t=a.useRef(null);return lt(),[a.useMemo(()=>{const n=c=>{var l;(l=t.current)===null||l===void 0||l.close(c)},r=c=>{if(!t.current){const y=()=>{};return y.then=()=>{},y}const{open:l,prefixCls:k,message:v}=t.current,p=`${k}-notice`,{content:m,icon:h,type:g,key:x,className:T,style:F,onClose:w}=c,A=on(c,["content","icon","type","key","className","style","onClose"]);let N=x;return N==null&&(Fe+=1,N=`antd-message-${Fe}`),Me(y=>(l(Object.assign(Object.assign({},A),{key:N,content:a.createElement(Ze,{prefixCls:k,type:g,icon:h},m),placement:"top",className:re(g&&`${p}-${g}`,T,v==null?void 0:v.className),style:Object.assign(Object.assign({},v==null?void 0:v.style),F),onClose:()=>{w==null||w(),y()}})),()=>{n(N)}))},i={open:r,destroy:c=>{var l;c!==void 0?n(c):(l=t.current)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const l=(k,v,p)=>{let m;k&&typeof k=="object"&&"content"in k?m=k:m={content:k};let h,g;typeof v=="function"?g=v:(h=v,g=p);const x=Object.assign(Object.assign({onClose:g,duration:h},m),{type:c});return r(x)};i[c]=l}),i},[]),a.createElement(ln,Object.assign({key:"message-holder"},e,{ref:t}))]}function un(e){return et(e)}const fn=M.createContext({});let Z=null,le=e=>e(),pe=[],he={};function We(){const{getContainer:e,duration:t,rtl:o,maxCount:n,top:r}=he,s=(e==null?void 0:e())||document.body;return{getContainer:()=>s,duration:t,rtl:o,maxCount:n,top:r}}const dn=M.forwardRef((e,t)=>{const{messageConfig:o,sync:n}=e,{getPrefixCls:r}=a.useContext(Ae),s=he.prefixCls||r("message"),i=a.useContext(fn),[u,c]=et(Object.assign(Object.assign(Object.assign({},o),{prefixCls:s}),i.message));return M.useImperativeHandle(t,()=>{const l=Object.assign({},u);return Object.keys(l).forEach(k=>{l[k]=function(){return n(),u[k].apply(u,arguments)}}),{instance:l,sync:n}}),c}),mn=M.forwardRef((e,t)=>{const[o,n]=M.useState(We),r=()=>{n(We)};M.useEffect(r,[]);const s=ft(),i=s.getRootPrefixCls(),u=s.getIconPrefixCls(),c=s.getTheme(),l=M.createElement(dn,{ref:t,sync:r,messageConfig:o});return M.createElement(ut,{prefixCls:i,iconPrefixCls:u,theme:c},s.holderRender?s.holderRender(l):l)});function Se(){if(!Z){const e=document.createDocumentFragment(),t={fragment:e};Z=t,le(()=>{Ot(M.createElement(mn,{ref:o=>{const{instance:n,sync:r}=o||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,Se())})}}),e)});return}Z.instance&&(pe.forEach(e=>{const{type:t,skipped:o}=e;if(!o)switch(t){case"open":{le(()=>{const n=Z.instance.open(Object.assign(Object.assign({},he),e.config));n==null||n.then(e.resolve),e.setCloseFn(n)});break}case"destroy":le(()=>{Z==null||Z.instance.destroy(e.key)});break;default:le(()=>{var n;const r=(n=Z.instance)[t].apply(n,ae(e.args));r==null||r.then(e.resolve),e.setCloseFn(r)})}}),pe=[])}function gn(e){he=Object.assign(Object.assign({},he),e),le(()=>{var t;(t=Z==null?void 0:Z.sync)===null||t===void 0||t.call(Z)})}function vn(e){const t=Me(o=>{let n;const r={type:"open",config:e,resolve:o,setCloseFn:s=>{n=s}};return pe.push(r),()=>{n?le(()=>{n()}):r.skipped=!0}});return Se(),t}function pn(e,t){const o=Me(n=>{let r;const s={type:e,args:t,resolve:n,setCloseFn:i=>{r=i}};return pe.push(s),()=>{r?le(()=>{r()}):s.skipped=!0}});return Se(),o}const hn=e=>{pe.push({type:"destroy",key:e}),Se()},yn=["success","info","warning","error","loading"],xn={open:vn,destroy:hn,config:gn,useMessage:un,_InternalPanelDoNotUseOrYouWillBeFired:tn},tt=xn;yn.forEach(e=>{tt[e]=function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return pn(e,o)}});M.Component;var Cn={subtree:!0,childList:!0,attributeFilter:["style","class"]};function bn(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cn;a.useEffect(function(){if(!(!pt()||!e)){var n,r=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(n=new MutationObserver(t),r.forEach(function(s){n.observe(s,o)})),function(){var s,i;(s=n)===null||s===void 0||s.takeRecords(),(i=n)===null||i===void 0||i.disconnect()}}},[o,e])}const nt=3;function ke(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const n=document.createElement("canvas"),r=n.getContext("2d"),s=e*o,i=t*o;return n.setAttribute("width",`${s}px`),n.setAttribute("height",`${i}px`),r.save(),[r,n,s,i]}function Sn(){function e(t,o,n,r,s,i,u,c){const[l,k,v,p]=ke(r,s,n);if(t instanceof HTMLImageElement)l.drawImage(t,0,0,v,p);else{const{color:K,fontSize:U,fontStyle:_,fontWeight:z,fontFamily:b,textAlign:H}=i,ie=Number(U)*n;l.font=`${_} normal ${z} ${ie}px/${s}px ${b}`,l.fillStyle=K,l.textAlign=H,l.textBaseline="top";const se=Array.isArray(t)?t:[t];se==null||se.forEach((Q,te)=>{l.fillText(Q??"",v/2,te*(ie+nt*n))})}const m=Math.PI/180*Number(o),h=Math.max(r,s),[g,x,T]=ke(h,h,n);g.translate(T/2,T/2),g.rotate(m),v>0&&p>0&&g.drawImage(k,-v/2,-p/2);function F(K,U){const _=K*Math.cos(m)-U*Math.sin(m),z=K*Math.sin(m)+U*Math.cos(m);return[_,z]}let w=0,A=0,N=0,y=0;const R=v/2,d=p/2;[[0-R,0-d],[0+R,0-d],[0+R,0+d],[0-R,0+d]].forEach(K=>{let[U,_]=K;const[z,b]=F(U,_);w=Math.min(w,z),A=Math.max(A,z),N=Math.min(N,b),y=Math.max(y,b)});const E=w+T/2,C=N+T/2,I=A-w,W=y-N,P=u*n,ee=c*n,$=(I+P)*2,G=W+ee,[Y,ne]=ke($,G);function q(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Y.drawImage(x,E,C,I,W,K,U,I,W)}return q(),q(I+P,-W/2-ee/2),q(I+P,+W/2+ee/2),[ne.toDataURL(),$/n,G/n]}return e}function En(e){const t=M.useRef(!1),o=M.useRef(),n=Ue(e);return()=>{t.current||(t.current=!0,n(),o.current=ht(()=>{t.current=!1}))}}function kn(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Nn(e){return Object.keys(e).map(t=>`${kn(t)}: ${e[t]};`).join(" ")}function wn(){return window.devicePixelRatio||1}const $n=(e,t)=>{let o=!1;return e.removedNodes.length&&(o=Array.from(e.removedNodes).some(n=>t(n))),e.type==="attributes"&&t(e.target)&&(o=!0),o},An={visibility:"visible !important"};function jn(e){const[t]=a.useState(()=>new Map);return[(s,i,u)=>{if(u){if(!t.get(u)){const l=document.createElement("div");t.set(u,l)}const c=t.get(u);c.setAttribute("style",Nn(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${s}')`,backgroundSize:`${Math.floor(i)}px`}),An))),c.removeAttribute("class"),c.parentElement!==u&&u.append(c)}return t.get(u)},s=>{const i=t.get(s);i&&s&&s.removeChild(i),t.delete(s)},s=>Array.from(t.values()).includes(s)]}function _e(e,t){return e.size===t.size?e:t}const He=100,ze=100,De={position:"relative",overflow:"hidden"},On=e=>{var t,o;const{zIndex:n=9,rotate:r=-22,width:s,height:i,image:u,content:c,font:l={},style:k,className:v,rootClassName:p,gap:m=[He,ze],offset:h,children:g,inherit:x=!0}=e,T=Object.assign(Object.assign({},De),k),[,F]=yt(),{color:w=F.colorFill,fontSize:A=F.fontSizeLG,fontWeight:N="normal",fontStyle:y="normal",fontFamily:R="sans-serif",textAlign:d="center"}=l,[f=He,E=ze]=m,C=f/2,I=E/2,W=(t=h==null?void 0:h[0])!==null&&t!==void 0?t:C,P=(o=h==null?void 0:h[1])!==null&&o!==void 0?o:I,ee=M.useMemo(()=>{const j={zIndex:n,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let O=W-C,L=P-I;return O>0&&(j.left=`${O}px`,j.width=`calc(100% - ${O}px)`,O=0),L>0&&(j.top=`${L}px`,j.height=`calc(100% - ${L}px)`,L=0),j.backgroundPosition=`${O}px ${L}px`,j},[n,W,C,P,I]),[$,G]=M.useState(),[Y,ne]=M.useState(new Set),q=M.useMemo(()=>{const j=$?[$]:[];return[].concat(j,ae(Array.from(Y)))},[$,Y]),K=j=>{let O=120,L=64;if(!u&&j.measureText){j.font=`${Number(A)}px ${R}`;const V=Array.isArray(c)?c:[c],J=V.map(D=>{const B=j.measureText(D);return[B.width,B.fontBoundingBoxAscent+B.fontBoundingBoxDescent]});O=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[0])))),L=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[1]))))*V.length+(V.length-1)*nt}return[s??O,i??L]},U=Sn(),[_,z]=M.useState(null),H=En(()=>{const O=document.createElement("canvas").getContext("2d");if(O){const L=wn(),[V,J]=K(O),D=B=>{const[de,me]=U(B||"",r,L,V,J,{color:w,fontSize:A,fontStyle:y,fontWeight:N,fontFamily:R,textAlign:d},f,E);z([de,me])};if(u){const B=new Image;B.onload=()=>{D(B)},B.onerror=()=>{D(c)},B.crossOrigin="anonymous",B.referrerPolicy="no-referrer",B.src=u}else D(c)}}),[ie,se,Q]=jn(ee);a.useEffect(()=>{_&&q.forEach(j=>{ie(_[0],_[1],j)})},[_,q]);const te=Ue(j=>{j.forEach(O=>{if($n(O,Q))H();else if(O.target===$&&O.attributeName==="style"){const L=Object.keys(De);for(let V=0;V<L.length;V+=1){const J=L[V],D=T[J],B=$.style[J];D&&D!==B&&($.style[J]=D)}}})});bn(q,te),a.useEffect(H,[r,n,s,i,u,c,w,A,N,y,R,d,f,E,W,P]);const Ee=M.useMemo(()=>({add:j=>{ne(O=>{const L=new Set(O);return L.add(j),_e(O,L)})},remove:j=>{se(j),ne(O=>{const L=new Set(O);return L.delete(j),_e(O,L)})}}),[]),fe=x?M.createElement(zt.Provider,{value:Ee},g):g;return M.createElement("div",{ref:G,className:re(v,p),style:T},fe)};function Mn(e){return Ke({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M321.94 98 158.82 237.78a24 24 0 0 0 0 36.44L321.94 414c15.57 13.34 39.62 2.28 39.62-18.22v-279.6c0-20.5-24.05-31.56-39.62-18.18z"},child:[]}]})(e)}const Rn=X(Oe)`
  height: 5rem;
  padding: 0 2rem;
  overflow-x: auto;

  &::-webkit-scrollbar {
    height: 0;
  }
`,In=X(Mn)`
  margin-right: 1rem;
  padding: 1rem;
  background: var(--color-gray-3);
  border-radius: var(--radius-button);
`,Pn=X.span`
  font-size: 1.8rem;
  font-weight: 700;
  letter-spacing: 0.04rem;
`,Ln=X(ue)`
  flex-shrink: 0;
`;function Tn(){var i,u,c;const e=wt(),t=je(),o=a.useMemo(()=>t.at(-1),[t]),n=(i=o==null?void 0:o.handle)==null?void 0:i.title,r=(u=o==null?void 0:o.handle)==null?void 0:u.needBackIcon,s=(c=o==null?void 0:o.handle)==null?void 0:c.rightArea;return S.jsxs(Rn,{$gap:"1",$justifyContent:Ct.BETWEEN,children:[S.jsxs(Ln,{$alignItems:we.CENTER,children:[S.jsx(Nt,{if:r,children:S.jsx(bt,{onFirstAppear:()=>ve.appear("header-back-icon"),children:S.jsx(In,{onClick:()=>{ve.click("header-back-icon"),e(-1)}})})}),S.jsx(Pn,{children:n})]}),S.jsx(ue,{$alignItems:we.CENTER,children:s})]})}function Fn(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708M7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}const Wn=X($t)`
  display: flex;
  color: var(--color-gray-5);
  transition: color 300ms;

  &:hover {
    color: var(--color-hover);
  }
`,_n=X.span`
  display: flex;
  color: var(--color-active);
`,Hn=X(ue)`
  font-size: 1.4rem;
`;function zn(){const e=je(),t=a.useMemo(()=>e.map(o=>{var n,r;return{label:((n=o.handle)==null?void 0:n.crumbLabel)||((r=o.handle)==null?void 0:r.title),path:o.pathname}}).filter(o=>o.label),[e]);return S.jsx(Hn,{children:t.map((o,n,r)=>n<r.length-1?S.jsxs(Wn,{to:o.path,onClick:()=>ve.click("crumb-link-click"),children:["/",o.label]},o.path):S.jsxs(_n,{onClick:()=>ve.click("crumb-acitve-text-click"),children:["/",o.label]},o.path))})}const Dn=X(Oe)`
  padding: 1rem 2rem;
`,Bn=X(Fn)`
  font-size: 2rem;
  transition: transform 300ms;
  transform: ${({$expandAside:e})=>e?"rotate(180deg)":"rotate(0)"};
`;function Gn(){const{expandAside:e}=be("expandAside"),t=()=>{Xe().setExpandAside(!e),ve.click("footer-expand-icon",{expandAside:!e})};return S.jsx("footer",{children:S.jsxs(Dn,{$gap:"1",$alignItems:we.CENTER,children:[S.jsx(Bn,{onClick:t,$expandAside:e}),S.jsx(zn,{})]})})}const Un=X(jt)`
  margin: 0 0.5rem;
`,Xn=a.memo(()=>S.jsx(Un,{needActiveStyle:!0,direction:Ce.COLUMN,shadowOption:{$blur:"0.8rem"},appListHander:e=>[{name:"首页",path:"/",icon:S.jsx(At,{})},...e]})),Kn=X(Oe)`
  height: 100%;
  overflow: hidden;
`,Yn=X.aside`
  position: relative;
  display: grid;
  grid-template-columns: ${({$width:e,$expandAside:t})=>t?e:"0"};
  transition: grid-template-columns 300ms;
`;function Vn(){const e=St(),[t,o]=a.useState(""),n=a.useRef(null),{expandAside:r}=be("expandAside");return a.useEffect(()=>{n.current&&o(`${n.current.offsetWidth/e}rem`)},[e]),S.jsx(Yn,{ref:n,$width:t,$expandAside:r,children:S.jsx(Kn,{$direction:Ce.COLUMN,children:S.jsx(Xn,{})})})}function qn(){const[e,t]=tt.useMessage(),{messageInfo:o}=be("messageInfo");return a.useEffect(()=>{o&&e.open(o)},[o,e]),t}const Qn=X(Ve)`
  width: 1em;
  height: 1em;
`,$e=300,Jn=X.section`
  position: fixed;
  z-index: 100;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
  color: white;
  font-size: 10vmin;
  opacity: 0;
  transition: opacity 100ms;
  ${({$show:e})=>e?{opacity:1}:{"pointer-events":"none",transition:`opacity ${$e}ms`}};
`;function Zn(){const{loading:e}=be("loading"),t=je(),[o,n]=a.useState(!1),r=a.useRef(0);return a.useEffect(()=>{if(e){const u=setTimeout(()=>n(e),10);return()=>clearTimeout(u)}const s=Et();if(s-r.current>$e){r.current=s,n(e);return}const i=setTimeout(()=>n(e),$e-s+r.current);return()=>clearTimeout(i)},[e]),a.useEffect(()=>{Xe().setLoading(!1)},[t]),S.jsx(Jn,{$show:o,children:S.jsx(Qn,{})})}const eo=X(ue)`
  position: relative;
  overflow-y: auto;
`,to=X(On)`
  flex: 1;
  display: flex;
  flex-direction: column;
`;function ho(){return S.jsxs(to,{content:["cmtlyt","desktop-tools"],font:{color:"rgba(0,0,0,0.05)"},children:[S.jsx(Zn,{}),S.jsx(kt,{}),S.jsx(qn,{}),S.jsxs(ue,{$flex:"1",style:{height:"100%"},children:[S.jsx(Vn,{}),S.jsxs(ue,{$flex:"1",$direction:Ce.COLUMN,style:{overflow:"hidden"},children:[S.jsx(Tn,{}),S.jsx(eo,{$flex:"1",$direction:Ce.COLUMN,children:S.jsx(xt,{})}),S.jsx(Gn,{})]})]})]})}export{ho as Component};
