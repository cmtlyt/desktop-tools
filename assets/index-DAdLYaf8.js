import{r as a,_ as oe,a as Ge,b as xe,c as se,d as we,R as I,C as at,e as Be,f as ge,g as ae,h as it,i as ct,j as Ae,k as lt,l as ut,m as ft,n as dt,o as mt,p as gt,q as vt,s as pt,u as Ue,w as ht,t as yt,v as je,x as S,O as xt}from"./index-DPyw2emj.js";import{d as X,F as Ct,a as Ne,A as bt,l as ve,b as ue,S as Oe,u as be,g as Xe,c as Ce,e as St,f as kt,h as Et}from"./index-BDXJWp2I.js";import{G as Ke,T as wt,A as Nt}from"./index-YdSEjVU_.js";import{S as $t}from"./index-DLUWWLMN.js";import{u as At}from"./use-navigate-Bnft7QDd.js";import{L as jt}from"./index-BatrDtnn.js";import{p as Ot,K as It,a as Me,C as Mt,u as Ye,R as Rt,b as Pt,c as Lt,d as Ve,e as Ft,r as Tt}from"./render-PLe49dv2.js";import{R as Wt}from"./InfoCircleFilled-BLeg4aT2.js";import{g as _t,m as Ht}from"./genStyleUtils-BoCG9oNe.js";import{W as zt}from"./context-CFVFTXZX.js";var qe=a.forwardRef(function(e,t){var o=e.prefixCls,n=e.style,s=e.className,r=e.duration,i=r===void 0?4.5:r,u=e.showProgress,c=e.pauseOnHover,l=c===void 0?!0:c,E=e.eventKey,v=e.content,p=e.closable,m=e.closeIcon,h=m===void 0?"x":m,g=e.props,x=e.onClick,F=e.onNoticeClose,T=e.times,N=e.hovering,A=a.useState(!1),w=oe(A,2),y=w[0],M=w[1],d=a.useState(0),f=oe(d,2),k=f[0],C=f[1],R=a.useState(0),W=oe(R,2),P=W[0],ee=W[1],$=N||y,B=i>0&&u,Y=function(){F(E)},ne=function(b){(b.key==="Enter"||b.code==="Enter"||b.keyCode===It.ENTER)&&Y()};a.useEffect(function(){if(!$&&i>0){var z=Date.now()-P,b=setTimeout(function(){Y()},i*1e3-P);return function(){l&&clearTimeout(b),ee(Date.now()-z)}}},[i,$,T]),a.useEffect(function(){if(!$&&B&&(l||P===0)){var z=performance.now(),b,H=function ie(){cancelAnimationFrame(b),b=requestAnimationFrame(function(re){var Q=re+P-z,te=Math.min(Q/(i*1e3),1);C(te*100),te<1&&ie()})};return H(),function(){l&&cancelAnimationFrame(b)}}},[i,P,$,B,T]);var q=a.useMemo(function(){return Ge(p)==="object"&&p!==null?p:p?{closeIcon:h}:{}},[p,h]),K=Ot(q,!0),U=100-(!k||k<0?0:k>100?100:k),_="".concat(o,"-notice");return a.createElement("div",xe({},g,{ref:t,className:se(_,s,we({},"".concat(_,"-closable"),p)),style:n,onMouseEnter:function(b){var H;M(!0),g==null||(H=g.onMouseEnter)===null||H===void 0||H.call(g,b)},onMouseLeave:function(b){var H;M(!1),g==null||(H=g.onMouseLeave)===null||H===void 0||H.call(g,b)},onClick:x}),a.createElement("div",{className:"".concat(_,"-content")},v),p&&a.createElement("a",xe({tabIndex:0,className:"".concat(_,"-close"),onKeyDown:ne,"aria-label":"Close"},K,{onClick:function(b){b.preventDefault(),b.stopPropagation(),Y()}}),q.closeIcon),B&&a.createElement("progress",{className:"".concat(_,"-progress"),max:"100",value:U},U+"%"))}),Qe=I.createContext({}),Dt=function(t){var o=t.children,n=t.classNames;return I.createElement(Qe.Provider,{value:{classNames:n}},o)},Re=8,Pe=3,Le=16,Gt=function(t){var o={offset:Re,threshold:Pe,gap:Le};if(t&&Ge(t)==="object"){var n,s,r;o.offset=(n=t.offset)!==null&&n!==void 0?n:Re,o.threshold=(s=t.threshold)!==null&&s!==void 0?s:Pe,o.gap=(r=t.gap)!==null&&r!==void 0?r:Le}return[!!t,o]},Bt=["className","style","classNames","styles"],Ut=function(t){var o=t.configList,n=t.placement,s=t.prefixCls,r=t.className,i=t.style,u=t.motion,c=t.onAllNoticeRemoved,l=t.onNoticeClose,E=t.stack,v=a.useContext(Qe),p=v.classNames,m=a.useRef({}),h=a.useState(null),g=oe(h,2),x=g[0],F=g[1],T=a.useState([]),N=oe(T,2),A=N[0],w=N[1],y=o.map(function($){return{config:$,key:String($.key)}}),M=Gt(E),d=oe(M,2),f=d[0],k=d[1],C=k.offset,R=k.threshold,W=k.gap,P=f&&(A.length>0||y.length<=R),ee=typeof u=="function"?u(n):u;return a.useEffect(function(){f&&A.length>1&&w(function($){return $.filter(function(B){return y.some(function(Y){var ne=Y.key;return B===ne})})})},[A,y,f]),a.useEffect(function(){var $;if(f&&m.current[($=y[y.length-1])===null||$===void 0?void 0:$.key]){var B;F(m.current[(B=y[y.length-1])===null||B===void 0?void 0:B.key])}},[y,f]),I.createElement(at,xe({key:n,className:se(s,"".concat(s,"-").concat(n),p==null?void 0:p.list,r,we(we({},"".concat(s,"-stack"),!!f),"".concat(s,"-stack-expanded"),P)),style:i,keys:y,motionAppear:!0},ee,{onAllRemoved:function(){c(n)}}),function($,B){var Y=$.config,ne=$.className,q=$.style,K=$.index,U=Y,_=U.key,z=U.times,b=String(_),H=Y,ie=H.className,re=H.style,Q=H.classNames,te=H.styles,ke=Be(H,Bt),fe=y.findIndex(function(ye){return ye.key===b}),j={};if(f){var O=y.length-1-(fe>-1?fe:K-1),L=n==="top"||n==="bottom"?"-50%":"0";if(O>0){var V,J,D;j.height=P?(V=m.current[b])===null||V===void 0?void 0:V.offsetHeight:x==null?void 0:x.offsetHeight;for(var G=0,de=0;de<O;de++){var me;G+=((me=m.current[y[y.length-1-de].key])===null||me===void 0?void 0:me.offsetHeight)+W}var ot=(P?G:O*C)*(n.startsWith("top")?1:-1),st=!P&&x!==null&&x!==void 0&&x.offsetWidth&&(J=m.current[b])!==null&&J!==void 0&&J.offsetWidth?((x==null?void 0:x.offsetWidth)-C*2*(O<3?O:3))/((D=m.current[b])===null||D===void 0?void 0:D.offsetWidth):1;j.transform="translate3d(".concat(L,", ").concat(ot,"px, 0) scaleX(").concat(st,")")}else j.transform="translate3d(".concat(L,", 0, 0)")}return I.createElement("div",{ref:B,className:se("".concat(s,"-notice-wrapper"),ne,Q==null?void 0:Q.wrapper),style:ge(ge(ge({},q),j),te==null?void 0:te.wrapper),onMouseEnter:function(){return w(function(ce){return ce.includes(b)?ce:[].concat(ae(ce),[b])})},onMouseLeave:function(){return w(function(ce){return ce.filter(function(rt){return rt!==b})})}},I.createElement(qe,xe({},ke,{ref:function(ce){fe>-1?m.current[b]=ce:delete m.current[b]},prefixCls:s,classNames:Q,styles:te,className:se(ie,p==null?void 0:p.notice),style:re,times:z,key:_,eventKey:_,onNoticeClose:l,hovering:f&&A.length>0})))})},Xt=a.forwardRef(function(e,t){var o=e.prefixCls,n=o===void 0?"rc-notification":o,s=e.container,r=e.motion,i=e.maxCount,u=e.className,c=e.style,l=e.onAllRemoved,E=e.stack,v=e.renderNotifications,p=a.useState([]),m=oe(p,2),h=m[0],g=m[1],x=function(f){var k,C=h.find(function(R){return R.key===f});C==null||(k=C.onClose)===null||k===void 0||k.call(C),g(function(R){return R.filter(function(W){return W.key!==f})})};a.useImperativeHandle(t,function(){return{open:function(f){g(function(k){var C=ae(k),R=C.findIndex(function(ee){return ee.key===f.key}),W=ge({},f);if(R>=0){var P;W.times=(((P=k[R])===null||P===void 0?void 0:P.times)||0)+1,C[R]=W}else W.times=0,C.push(W);return i>0&&C.length>i&&(C=C.slice(-i)),C})},close:function(f){x(f)},destroy:function(){g([])}}});var F=a.useState({}),T=oe(F,2),N=T[0],A=T[1];a.useEffect(function(){var d={};h.forEach(function(f){var k=f.placement,C=k===void 0?"topRight":k;C&&(d[C]=d[C]||[],d[C].push(f))}),Object.keys(N).forEach(function(f){d[f]=d[f]||[]}),A(d)},[h]);var w=function(f){A(function(k){var C=ge({},k),R=C[f]||[];return R.length||delete C[f],C})},y=a.useRef(!1);if(a.useEffect(function(){Object.keys(N).length>0?y.current=!0:y.current&&(l==null||l(),y.current=!1)},[N]),!s)return null;var M=Object.keys(N);return it.createPortal(a.createElement(a.Fragment,null,M.map(function(d){var f=N[d],k=a.createElement(Ut,{key:d,configList:f,placement:d,prefixCls:n,className:u==null?void 0:u(d),style:c==null?void 0:c(d),motion:r,onNoticeClose:x,onAllNoticeRemoved:w,stack:E});return v?v(k,{prefixCls:n,key:d}):k})),s)}),Kt=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Yt=function(){return document.body},Fe=0;function Vt(){for(var e={},t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach(function(s){s&&Object.keys(s).forEach(function(r){var i=s[r];i!==void 0&&(e[r]=i)})}),e}function qt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,o=t===void 0?Yt:t,n=e.motion,s=e.prefixCls,r=e.maxCount,i=e.className,u=e.style,c=e.onAllRemoved,l=e.stack,E=e.renderNotifications,v=Be(e,Kt),p=a.useState(),m=oe(p,2),h=m[0],g=m[1],x=a.useRef(),F=a.createElement(Xt,{container:h,ref:x,prefixCls:s,motion:n,maxCount:r,className:i,style:u,onAllRemoved:c,stack:l,renderNotifications:E}),T=a.useState([]),N=oe(T,2),A=N[0],w=N[1],y=a.useMemo(function(){return{open:function(d){var f=Vt(v,d);(f.key===null||f.key===void 0)&&(f.key="rc-notification-".concat(Fe),Fe+=1),w(function(k){return[].concat(ae(k),[{type:"open",config:f}])})},close:function(d){w(function(f){return[].concat(ae(f),[{type:"close",key:d}])})},destroy:function(){w(function(d){return[].concat(ae(d),[{type:"destroy"}])})}}},[]);return a.useEffect(function(){g(o())}),a.useEffect(function(){x.current&&A.length&&(A.forEach(function(M){switch(M.type){case"open":x.current.open(M.config);break;case"close":x.current.close(M.key);break;case"destroy":x.current.destroy();break}}),w(function(M){return M.filter(function(d){return!A.includes(d)})}))},[A]),[y,F]}const Qt=e=>{const{componentCls:t,iconCls:o,boxShadow:n,colorText:s,colorSuccess:r,colorError:i,colorWarning:u,colorInfo:c,fontSizeLG:l,motionEaseInOutCirc:E,motionDurationSlow:v,marginXS:p,paddingXS:m,borderRadiusLG:h,zIndexPopup:g,contentPadding:x,contentBg:F}=e,T=`${t}-notice`,N=new Me("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),A=new Me("MessageMoveOut",{"0%":{maxHeight:e.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),w={padding:m,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${o}`]:{marginInlineEnd:p,fontSize:l},[`${T}-content`]:{display:"inline-block",padding:x,background:F,borderRadius:h,boxShadow:n,pointerEvents:"all"},[`${t}-success > ${o}`]:{color:r},[`${t}-error > ${o}`]:{color:i},[`${t}-warning > ${o}`]:{color:u},[`${t}-info > ${o},
      ${t}-loading > ${o}`]:{color:c}};return[{[t]:Object.assign(Object.assign({},ct(e)),{color:s,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:N,animationDuration:v,animationPlayState:"paused",animationTimingFunction:E},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:A,animationDuration:v,animationPlayState:"paused",animationTimingFunction:E},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${T}-wrapper`]:Object.assign({},w)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},w),{padding:0,textAlign:"start"})}]},Jt=e=>({zIndexPopup:e.zIndexPopupBase+Mt+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),Je=_t("Message",e=>{const t=Ht(e,{height:150});return[Qt(t)]},Jt);var Zt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};const en={info:a.createElement(Wt,null),success:a.createElement(Rt,null),error:a.createElement(Pt,null),warning:a.createElement(Lt,null),loading:a.createElement(Ve,null)},Ze=e=>{let{prefixCls:t,type:o,icon:n,children:s}=e;return a.createElement("div",{className:se(`${t}-custom-content`,`${t}-${o}`)},n||en[o],a.createElement("span",null,s))},tn=e=>{const{prefixCls:t,className:o,type:n,icon:s,content:r}=e,i=Zt(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:u}=a.useContext(Ae),c=t||u("message"),l=Ye(c),[E,v,p]=Je(c,l);return E(a.createElement(qe,Object.assign({},i,{prefixCls:c,className:se(o,v,`${c}-notice-pure-panel`,p,l),eventKey:"pure",duration:null,content:a.createElement(Ze,{prefixCls:c,type:n,icon:s},r)})))};function nn(e,t){return{motionName:t??`${e}-move-up`}}function Ie(e){let t;const o=new Promise(s=>{t=e(()=>{s(!0)})}),n=()=>{t==null||t()};return n.then=(s,r)=>o.then(s,r),n.promise=o,n}var on=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(o[n[s]]=e[n[s]]);return o};const sn=8,rn=3,an=e=>{let{children:t,prefixCls:o}=e;const n=Ye(o),[s,r,i]=Je(o,n);return s(a.createElement(Dt,{classNames:{list:se(r,i,n)}},t))},cn=(e,t)=>{let{prefixCls:o,key:n}=t;return a.createElement(an,{prefixCls:o,key:n},e)},ln=a.forwardRef((e,t)=>{const{top:o,prefixCls:n,getContainer:s,maxCount:r,duration:i=rn,rtl:u,transitionName:c,onAllRemoved:l}=e,{getPrefixCls:E,getPopupContainer:v,message:p,direction:m}=a.useContext(Ae),h=n||E("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:o??sn}),x=()=>se({[`${h}-rtl`]:u??m==="rtl"}),F=()=>nn(h,c),T=a.createElement("span",{className:`${h}-close-x`},a.createElement(Ft,{className:`${h}-close-icon`})),[N,A]=qt({prefixCls:h,style:g,className:x,motion:F,closable:!1,closeIcon:T,duration:i,getContainer:()=>(s==null?void 0:s())||(v==null?void 0:v())||document.body,maxCount:r,onAllRemoved:l,renderNotifications:cn});return a.useImperativeHandle(t,()=>Object.assign(Object.assign({},N),{prefixCls:h,message:p})),A});let Te=0;function et(e){const t=a.useRef(null);return lt(),[a.useMemo(()=>{const n=c=>{var l;(l=t.current)===null||l===void 0||l.close(c)},s=c=>{if(!t.current){const y=()=>{};return y.then=()=>{},y}const{open:l,prefixCls:E,message:v}=t.current,p=`${E}-notice`,{content:m,icon:h,type:g,key:x,className:F,style:T,onClose:N}=c,A=on(c,["content","icon","type","key","className","style","onClose"]);let w=x;return w==null&&(Te+=1,w=`antd-message-${Te}`),Ie(y=>(l(Object.assign(Object.assign({},A),{key:w,content:a.createElement(Ze,{prefixCls:E,type:g,icon:h},m),placement:"top",className:se(g&&`${p}-${g}`,F,v==null?void 0:v.className),style:Object.assign(Object.assign({},v==null?void 0:v.style),T),onClose:()=>{N==null||N(),y()}})),()=>{n(w)}))},i={open:s,destroy:c=>{var l;c!==void 0?n(c):(l=t.current)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(c=>{const l=(E,v,p)=>{let m;E&&typeof E=="object"&&"content"in E?m=E:m={content:E};let h,g;typeof v=="function"?g=v:(h=v,g=p);const x=Object.assign(Object.assign({onClose:g,duration:h},m),{type:c});return s(x)};i[c]=l}),i},[]),a.createElement(ln,Object.assign({key:"message-holder"},e,{ref:t}))]}function un(e){return et(e)}const fn=I.createContext({});let Z=null,le=e=>e(),pe=[],he={};function We(){const{getContainer:e,duration:t,rtl:o,maxCount:n,top:s}=he,r=(e==null?void 0:e())||document.body;return{getContainer:()=>r,duration:t,rtl:o,maxCount:n,top:s}}const dn=I.forwardRef((e,t)=>{const{messageConfig:o,sync:n}=e,{getPrefixCls:s}=a.useContext(Ae),r=he.prefixCls||s("message"),i=a.useContext(fn),[u,c]=et(Object.assign(Object.assign(Object.assign({},o),{prefixCls:r}),i.message));return I.useImperativeHandle(t,()=>{const l=Object.assign({},u);return Object.keys(l).forEach(E=>{l[E]=function(){return n(),u[E].apply(u,arguments)}}),{instance:l,sync:n}}),c}),mn=I.forwardRef((e,t)=>{const[o,n]=I.useState(We),s=()=>{n(We)};I.useEffect(s,[]);const r=ft(),i=r.getRootPrefixCls(),u=r.getIconPrefixCls(),c=r.getTheme(),l=I.createElement(dn,{ref:t,sync:s,messageConfig:o});return I.createElement(ut,{prefixCls:i,iconPrefixCls:u,theme:c},r.holderRender?r.holderRender(l):l)});function Se(){if(!Z){const e=document.createDocumentFragment(),t={fragment:e};Z=t,le(()=>{Tt(I.createElement(mn,{ref:o=>{const{instance:n,sync:s}=o||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=s,Se())})}}),e)});return}Z.instance&&(pe.forEach(e=>{const{type:t,skipped:o}=e;if(!o)switch(t){case"open":{le(()=>{const n=Z.instance.open(Object.assign(Object.assign({},he),e.config));n==null||n.then(e.resolve),e.setCloseFn(n)});break}case"destroy":le(()=>{Z==null||Z.instance.destroy(e.key)});break;default:le(()=>{var n;const s=(n=Z.instance)[t].apply(n,ae(e.args));s==null||s.then(e.resolve),e.setCloseFn(s)})}}),pe=[])}function gn(e){he=Object.assign(Object.assign({},he),e),le(()=>{var t;(t=Z==null?void 0:Z.sync)===null||t===void 0||t.call(Z)})}function vn(e){const t=Ie(o=>{let n;const s={type:"open",config:e,resolve:o,setCloseFn:r=>{n=r}};return pe.push(s),()=>{n?le(()=>{n()}):s.skipped=!0}});return Se(),t}function pn(e,t){const o=Ie(n=>{let s;const r={type:e,args:t,resolve:n,setCloseFn:i=>{s=i}};return pe.push(r),()=>{s?le(()=>{s()}):r.skipped=!0}});return Se(),o}const hn=e=>{pe.push({type:"destroy",key:e}),Se()},yn=["success","info","warning","error","loading"],xn={open:vn,destroy:hn,config:gn,useMessage:un,_InternalPanelDoNotUseOrYouWillBeFired:tn},tt=xn;yn.forEach(e=>{tt[e]=function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return pn(e,o)}});I.Component;var Cn={subtree:!0,childList:!0,attributeFilter:["style","class"]};function bn(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cn;a.useEffect(function(){if(!(!pt()||!e)){var n,s=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(n=new MutationObserver(t),s.forEach(function(r){n.observe(r,o)})),function(){var r,i;(r=n)===null||r===void 0||r.takeRecords(),(i=n)===null||i===void 0||i.disconnect()}}},[o,e])}const nt=3;function Ee(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const n=document.createElement("canvas"),s=n.getContext("2d"),r=e*o,i=t*o;return n.setAttribute("width",`${r}px`),n.setAttribute("height",`${i}px`),s.save(),[s,n,r,i]}function Sn(){function e(t,o,n,s,r,i,u,c){const[l,E,v,p]=Ee(s,r,n);if(t instanceof HTMLImageElement)l.drawImage(t,0,0,v,p);else{const{color:K,fontSize:U,fontStyle:_,fontWeight:z,fontFamily:b,textAlign:H}=i,ie=Number(U)*n;l.font=`${_} normal ${z} ${ie}px/${r}px ${b}`,l.fillStyle=K,l.textAlign=H,l.textBaseline="top";const re=Array.isArray(t)?t:[t];re==null||re.forEach((Q,te)=>{l.fillText(Q??"",v/2,te*(ie+nt*n))})}const m=Math.PI/180*Number(o),h=Math.max(s,r),[g,x,F]=Ee(h,h,n);g.translate(F/2,F/2),g.rotate(m),v>0&&p>0&&g.drawImage(E,-v/2,-p/2);function T(K,U){const _=K*Math.cos(m)-U*Math.sin(m),z=K*Math.sin(m)+U*Math.cos(m);return[_,z]}let N=0,A=0,w=0,y=0;const M=v/2,d=p/2;[[0-M,0-d],[0+M,0-d],[0+M,0+d],[0-M,0+d]].forEach(K=>{let[U,_]=K;const[z,b]=T(U,_);N=Math.min(N,z),A=Math.max(A,z),w=Math.min(w,b),y=Math.max(y,b)});const k=N+F/2,C=w+F/2,R=A-N,W=y-w,P=u*n,ee=c*n,$=(R+P)*2,B=W+ee,[Y,ne]=Ee($,B);function q(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Y.drawImage(x,k,C,R,W,K,U,R,W)}return q(),q(R+P,-W/2-ee/2),q(R+P,+W/2+ee/2),[ne.toDataURL(),$/n,B/n]}return e}function kn(e){const t=I.useRef(!1),o=I.useRef(),n=Ue(e);return()=>{t.current||(t.current=!0,n(),o.current=ht(()=>{t.current=!1}))}}function En(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function wn(e){return Object.keys(e).map(t=>`${En(t)}: ${e[t]};`).join(" ")}function Nn(){return window.devicePixelRatio||1}const $n=(e,t)=>{let o=!1;return e.removedNodes.length&&(o=Array.from(e.removedNodes).some(n=>t(n))),e.type==="attributes"&&t(e.target)&&(o=!0),o},An={visibility:"visible !important"};function jn(e){const[t]=a.useState(()=>new Map);return[(r,i,u)=>{if(u){if(!t.get(u)){const l=document.createElement("div");t.set(u,l)}const c=t.get(u);c.setAttribute("style",wn(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${r}')`,backgroundSize:`${Math.floor(i)}px`}),An))),c.removeAttribute("class"),c.parentElement!==u&&u.append(c)}return t.get(u)},r=>{const i=t.get(r);i&&r&&r.removeChild(i),t.delete(r)},r=>Array.from(t.values()).includes(r)]}function _e(e,t){return e.size===t.size?e:t}const He=100,ze=100,De={position:"relative",overflow:"hidden"},On=e=>{var t,o;const{zIndex:n=9,rotate:s=-22,width:r,height:i,image:u,content:c,font:l={},style:E,className:v,rootClassName:p,gap:m=[He,ze],offset:h,children:g,inherit:x=!0}=e,F=Object.assign(Object.assign({},De),E),[,T]=yt(),{color:N=T.colorFill,fontSize:A=T.fontSizeLG,fontWeight:w="normal",fontStyle:y="normal",fontFamily:M="sans-serif",textAlign:d="center"}=l,[f=He,k=ze]=m,C=f/2,R=k/2,W=(t=h==null?void 0:h[0])!==null&&t!==void 0?t:C,P=(o=h==null?void 0:h[1])!==null&&o!==void 0?o:R,ee=I.useMemo(()=>{const j={zIndex:n,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let O=W-C,L=P-R;return O>0&&(j.left=`${O}px`,j.width=`calc(100% - ${O}px)`,O=0),L>0&&(j.top=`${L}px`,j.height=`calc(100% - ${L}px)`,L=0),j.backgroundPosition=`${O}px ${L}px`,j},[n,W,C,P,R]),[$,B]=I.useState(),[Y,ne]=I.useState(new Set),q=I.useMemo(()=>{const j=$?[$]:[];return[].concat(j,ae(Array.from(Y)))},[$,Y]),K=j=>{let O=120,L=64;if(!u&&j.measureText){j.font=`${Number(A)}px ${M}`;const V=Array.isArray(c)?c:[c],J=V.map(D=>{const G=j.measureText(D);return[G.width,G.fontBoundingBoxAscent+G.fontBoundingBoxDescent]});O=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[0])))),L=Math.ceil(Math.max.apply(Math,ae(J.map(D=>D[1]))))*V.length+(V.length-1)*nt}return[r??O,i??L]},U=Sn(),[_,z]=I.useState(null),H=kn(()=>{const O=document.createElement("canvas").getContext("2d");if(O){const L=Nn(),[V,J]=K(O),D=G=>{const[de,me]=U(G||"",s,L,V,J,{color:N,fontSize:A,fontStyle:y,fontWeight:w,fontFamily:M,textAlign:d},f,k);z([de,me])};if(u){const G=new Image;G.onload=()=>{D(G)},G.onerror=()=>{D(c)},G.crossOrigin="anonymous",G.referrerPolicy="no-referrer",G.src=u}else D(c)}}),[ie,re,Q]=jn(ee);a.useEffect(()=>{_&&q.forEach(j=>{ie(_[0],_[1],j)})},[_,q]);const te=Ue(j=>{j.forEach(O=>{if($n(O,Q))H();else if(O.target===$&&O.attributeName==="style"){const L=Object.keys(De);for(let V=0;V<L.length;V+=1){const J=L[V],D=F[J],G=$.style[J];D&&D!==G&&($.style[J]=D)}}})});bn(q,te),a.useEffect(H,[s,n,r,i,u,c,N,A,w,y,M,d,f,k,W,P]);const ke=I.useMemo(()=>({add:j=>{ne(O=>{const L=new Set(O);return L.add(j),_e(O,L)})},remove:j=>{re(j),ne(O=>{const L=new Set(O);return L.delete(j),_e(O,L)})}}),[]),fe=x?I.createElement(zt.Provider,{value:ke},g):g;return I.createElement("div",{ref:B,className:se(v,p),style:F},fe)};function In(e){return Ke({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M321.94 98 158.82 237.78a24 24 0 0 0 0 36.44L321.94 414c15.57 13.34 39.62 2.28 39.62-18.22v-279.6c0-20.5-24.05-31.56-39.62-18.18z"},child:[]}]})(e)}const Mn=X(Oe)`
  height: 5rem;
  padding: 0 2rem;
  overflow-x: auto;

  &::-webkit-scrollbar {
    height: 0;
  }
`,Rn=X(In)`
  margin-right: 1rem;
  padding: 1rem;
  background: var(--color-gray-3);
  border-radius: var(--radius-button);
`,Pn=X.span`
  font-size: 1.8rem;
  font-weight: 700;
  letter-spacing: 0.04rem;
`,Ln=X(ue)`
  flex-shrink: 0;
`;function Fn(){var i,u,c;const e=At(),t=je(),o=a.useMemo(()=>t.at(-1),[t]),n=(i=o==null?void 0:o.handle)==null?void 0:i.title,s=(u=o==null?void 0:o.handle)==null?void 0:u.needBackIcon,r=(c=o==null?void 0:o.handle)==null?void 0:c.rightArea;return S.jsxs(Mn,{$gap:"1",$justifyContent:Ct.between,children:[S.jsxs(Ln,{$alignItems:Ne.center,children:[S.jsx($t,{if:s,children:S.jsx(bt,{onFirstAppear:()=>ve.appear("header-back-icon"),children:S.jsx(Rn,{onClick:()=>{ve.click("header-back-icon"),e(-1)}})})}),S.jsx(Pn,{children:n})]}),S.jsx(ue,{$alignItems:Ne.center,children:r})]})}function Tn(e){return Ke({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m.646 2.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L4.293 8 2.646 6.354a.5.5 0 0 1 0-.708M7 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5m-5 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},child:[]}]})(e)}const Wn=X(jt)`
  display: flex;
  color: var(--color-gray-5);
  transition: color 300ms;

  &:hover {
    color: var(--color-hover);
  }
`,_n=X.span`
  display: flex;
  color: var(--color-active);
`,Hn=X(ue)`
  font-size: 1.4rem;
`;function zn(){const e=je(),t=a.useMemo(()=>e.map(o=>{var n,s;return{label:((n=o.handle)==null?void 0:n.crumbLabel)||((s=o.handle)==null?void 0:s.title),path:o.pathname}}).filter(o=>o.label),[e]);return S.jsx(Hn,{children:t.map((o,n,s)=>n<s.length-1?S.jsxs(Wn,{to:o.path,onClick:()=>ve.click("crumb-link-click"),children:["/",o.label]},o.path):S.jsxs(_n,{onClick:()=>ve.click("crumb-acitve-text-click"),children:["/",o.label]},o.path))})}const Dn=X(Oe)`
  padding: 1rem 2rem;
`,Gn=X(Tn)`
  font-size: 2rem;
  transition: transform 300ms;
  transform: ${({$expandAside:e})=>e?"rotate(180deg)":"rotate(0)"};
`;function Bn(){const{expandAside:e}=be("expandAside"),t=()=>{Xe().setExpandAside(!e),ve.click("footer-expand-icon",{expandAside:!e})};return S.jsx("footer",{children:S.jsxs(Dn,{$gap:"1",$alignItems:Ne.center,children:[S.jsx(Gn,{onClick:t,$expandAside:e}),S.jsx(zn,{})]})})}const Un=X(Nt)`
  margin: 0 0.5rem;
`,Xn=a.memo(()=>S.jsx(Un,{needActiveStyle:!0,direction:Ce.column,shadowOption:{$blur:"0.8rem"},appListHander:e=>[{name:"首页",path:"/",icon:S.jsx(wt,{})},...e]})),Kn=X(Oe)`
  height: 100%;
  overflow: hidden;
`,Yn=X.aside`
  position: relative;
  display: grid;
  grid-template-columns: ${({$width:e,$expandAside:t})=>t?e:"0"};
  transition: grid-template-columns 300ms;
`;function Vn(){const e=St(),[t,o]=a.useState(""),n=a.useRef(null),{expandAside:s}=be("expandAside");return a.useEffect(()=>{n.current&&o(`${n.current.offsetWidth/e}rem`)},[e]),S.jsx(Yn,{ref:n,$width:t,$expandAside:s,children:S.jsx(Kn,{$direction:Ce.column,children:S.jsx(Xn,{})})})}function qn(){const[e,t]=tt.useMessage(),{messageInfo:o}=be("messageInfo");return a.useEffect(()=>{o&&e.open(o)},[o,e]),t}const Qn=X(Ve)`
  width: 1em;
  height: 1em;
`,$e=300,Jn=X.section`
  position: fixed;
  z-index: 100;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.3);
  color: white;
  font-size: 10vmin;
  opacity: 0;
  transition: opacity 100ms;
  ${({$show:e})=>e?{opacity:1}:{"pointer-events":"none",transition:`opacity ${$e}ms`}};
`;function Zn(){const{loading:e}=be("loading"),t=je(),[o,n]=a.useState(!1),s=a.useRef(0);return a.useEffect(()=>{if(e){const u=setTimeout(()=>n(e),10);return()=>clearTimeout(u)}const r=kt();if(r-s.current>$e){s.current=r,n(e);return}const i=setTimeout(()=>n(e),$e-r+s.current);return()=>clearTimeout(i)},[e]),a.useEffect(()=>{Xe().setLoading(!1)},[t]),S.jsx(Jn,{$show:o,children:S.jsx(Qn,{})})}const eo=X(ue)`
  position: relative;
  overflow-y: auto;
`,to=X(On)`
  flex: 1;
  display: flex;
  flex-direction: column;
`;function mo(){return S.jsxs(to,{content:["cmtlyt","desktop-tools"],font:{color:"rgba(0,0,0,0.05)"},children:[S.jsx(Zn,{}),S.jsx(Et,{}),S.jsx(qn,{}),S.jsxs(ue,{$flex:"1",style:{height:"100%"},children:[S.jsx(Vn,{}),S.jsxs(ue,{$flex:"1",$direction:Ce.column,style:{overflow:"hidden"},children:[S.jsx(Fn,{}),S.jsx(eo,{$flex:"1",$direction:Ce.column,children:S.jsx(xt,{})}),S.jsx(Bn,{})]})]})]})}export{mo as Component};
