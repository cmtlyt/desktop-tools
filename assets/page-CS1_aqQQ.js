import{x as n,r as s}from"./index-CIO1EJr6.js";import{B as a}from"./index-Bly0Eql_.js";import{Q as i,l,w as u}from"./index-CZQCmRb_.js";import{g as m,u as p}from"./store-8CfEy1Fw.js";import{E as f}from"./index-Dgoskzlx.js";import"./iconBase-DCQR57Nx.js";import"./index-C8luulw1.js";import"./index-Dh1aMqhL.js";import"./asyncToGenerator-B4yDn-rU.js";import"./index-DMX7_hw2.js";async function c(t){if(!t)return"";const{url:r,content:e}=t;if(r)return r;if(!e)return"";const o=i(e);return URL.createObjectURL(o)}async function d(){const{currentRecord:t}=m(),r=await c(t),e=document.createElement("a");e.style.display="none",e.href=r,e.download=`${t==null?void 0:t.name}.webm`,e.click(),setTimeout(()=>{window.URL.revokeObjectURL(r)},100)}function y(){return n.jsx(a,{buttons:[{text:"下载",onClick:d}]})}function L(){const{currentRecord:t}=p("currentRecord"),[r,e]=s.useState("");return s.useEffect(()=>{(async()=>{try{const o=await c(t);e(o)}catch(o){l.error("get-play-url",o.message)}})()},[t]),n.jsx(u,{if:!!r,fullback:n.jsx(f,{}),children:()=>n.jsx("video",{src:r,controls:!0})})}const S={title:"回放",needBackIcon:!0,rightArea:n.jsx(y,{})};export{L as Component,S as handle};
